(window.webpackJsonpfeffery_utils_components=window.webpackJsonpfeffery_utils_components||[]).push([[24],{531:function(C,T,_){_.r(T);var k=function(){return(k=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var P=_(1),R=_.n(P);function D(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(t){return n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}function jt(s){return function(){var t=this,o=arguments;return new Promise(function(e,n){var i=s.apply(t,o);function r(t){D(i,e,n,r,a,"next",t)}function a(t){D(i,e,n,r,a,"throw",t)}r(void 0)})}}function tt(t,e){var n,i,r,a,o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return r=!(i=!0),{s:function(){o=o.call(t)},n:function(){var t=o.next();return i=t.done,t},e:function(t){r=!0,n=t},f:function(){try{i||null==o.return||o.return()}finally{if(r)throw n}}};if(Array.isArray(t)||(o=I(t))||e&&t&&"number"==typeof t.length)return o&&(t=o),a=0,{s:e=function(){},n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(t){u=!0,r=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(t,e)||I(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(i)return(i=Object.getOwnPropertyDescriptor(i,e)).get?i.get.call(arguments.length<3?t:n):i.value}).apply(null,arguments)}function I(t,e){var n;if(t)return"string"==typeof t?O(t,e):"Map"===(n="Object"===(n={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function H(t,e,n){e=s(e);var i=t,e=U()?Reflect.construct(e,n||[],s(t).constructor):e.apply(t,n);if(!e||"object"!=z(e)&&"function"!=typeof e){if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=i))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function U(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(U=function(){return!!t})()}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}function N(t,e){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Z(t,e,n){return(e=Q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xt(){Xt=function(){return o};var l,o={},t=Object.prototype,u=t.hasOwnProperty,c=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(l){a=function(t,e,n){return t[e]=n}}function s(t,e,n,i){var r,a,o,s,e=e&&e.prototype instanceof m?e:m,e=Object.create(e.prototype),i=new S(i||[]);return c(e,"_invoke",{value:(r=t,a=n,o=i,s=d,function(t,e){if(s===f)throw Error("Generator is already running");if(s===p){if("throw"===t)throw e;return{value:l,done:!0}}for(o.method=t,o.arg=e;;){var n=o.delegate;if(n){n=function t(e,n){var i=n.method,r=e.iterator[i];if(r===l)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=l,t(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v;i=h(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;r=i.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l),n.delegate=null,v):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,o);if(n){if(n===v)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(s===d)throw s=p,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s=f;n=h(r,a,o);if("normal"===n.type){if(s=o.done?p:"suspendedYield",n.arg===v)continue;return{value:n.arg,done:o.done}}"throw"===n.type&&(s=p,o.method="throw",o.arg=n.arg)}})}),e}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}o.wrap=s;var d="suspendedStart",f="executing",p="completed",v={};function m(){}function g(){}function y(){}var e={},A=(a(e,i,function(){return this}),Object.getPrototypeOf),A=A&&A(A(C([]))),x=(A&&A!==t&&u.call(A,i)&&(e=A),y.prototype=m.prototype=Object.create(e));function w(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function b(o,s){var e;c(this,"_invoke",{value:function(n,i){function t(){return new s(function(t,e){!function e(t,n,i,r){var a,t=h(o[t],o,n);if("throw"!==t.type)return(n=(a=t.arg).value)&&"object"==z(n)&&u.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,i,r)},function(t){e("throw",t,i,r)}):s.resolve(n).then(function(t){a.value=t,i(a)},function(t){return e("throw",t,i,r)});r(t.arg)}(n,i,t,e)})}return e=e?e.then(t,t):t()}})}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function C(e){if(e||""===e){var n,t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=l,t.done=!0,t}).next=t}throw new TypeError(z(e)+" is not iterable")}return c(x,"constructor",{value:g.prototype=y,configurable:!0}),c(y,"constructor",{value:g,configurable:!0}),g.displayName=a(y,r,"GeneratorFunction"),o.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a(t,r,"GeneratorFunction")),t.prototype=Object.create(x),t},o.awrap=function(t){return{__await:t}},w(b.prototype),a(b.prototype,n,function(){return this}),o.AsyncIterator=b,o.async=function(t,e,n,i,r){void 0===r&&(r=Promise);var a=new b(s(t,e,n,i),r);return o.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},w(x),a(x,r,"Generator"),a(x,i,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),o.keys=function(t){var e,n=Object(t),i=[];for(e in n)i.push(e);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},o.values=C,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function t(t,e){return a.type="throw",a.arg=n,i.next=t,e&&(i.method="next",i.arg=l),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],a=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=u.call(r,"catchLoc"),s=u.call(r,"finallyLoc");if(o&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&u.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}var a=(r=r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc?null:r)?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,i,r=this.tryEntries[e];if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(i=n.arg,E(r)),i}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=l),v}},o}function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Q(i.key),i)}}function e(t,e,n){return e&&F(t.prototype,e),n&&F(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q(t){t=function(t){if("object"!=z(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return String(t);e=e.call(t,"string");if("object"!=z(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(t);return"symbol"==z(t)?t:t+""}var n=e(function t(){Ht(this,t)},[{key:"addEventListener",value:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}},{key:"hasEventListener",value:function(t,e){var n;return void 0!==this._listeners&&void 0!==(n=this._listeners)[t]&&-1!==n[t].indexOf(e)}},{key:"removeEventListener",value:function(t,e){void 0!==this._listeners&&void 0!==(t=this._listeners[t])&&-1!==(e=t.indexOf(e))&&t.splice(e,1)}},{key:"dispatchEvent",value:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t);t.target=null}}}}]),j=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],X=1234567,W=Math.PI/180,Y=180/Math.PI;function J(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(j[255&t]+j[t>>8&255]+j[t>>16&255]+j[t>>24&255]+"-"+j[255&e]+j[e>>8&255]+"-"+j[e>>16&15|64]+j[e>>24&255]+"-"+j[63&n|128]+j[n>>8&255]+"-"+j[n>>16&255]+j[n>>24&255]+j[255&i]+j[i>>8&255]+j[i>>16&255]+j[i>>24&255]).toLowerCase()}function K(t,e,n){return Math.max(e,Math.min(n,t))}function q(t,e){return(t%e+e)%e}function et(t,e,n){return(1-n)*t+n*e}function nt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function it(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}var l={DEG2RAD:W,RAD2DEG:Y,generateUUID:J,clamp:K,euclideanModulo:q,mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},inverseLerp:function(t,e,n){return t!==e?(n-t)/(e-t):0},lerp:et,damp:function(t,e,n,i){return et(t,e,1-Math.exp(-n*i))},pingpong:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return e-Math.abs(q(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:n<=t?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:n<=t?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){void 0!==t&&(X=t);t=X+=1831565813,t=Math.imul(t^t>>>15,1|t);return(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(t){return t*W},radToDeg:function(t){return t*Y},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((e+i)/2),c=o((e+i)/2),h=a((e-i)/2),d=o((e-i)/2),f=a((i-e)/2),p=o((i-e)/2);switch(r){case"XYX":t.set(s*c,l*h,l*d,s*u);break;case"YZY":t.set(l*d,s*c,l*h,s*u);break;case"ZXZ":t.set(l*h,l*d,s*c,s*u);break;case"XZX":t.set(s*c,l*p,l*f,s*u);break;case"YXY":t.set(l*f,s*c,l*p,s*u);break;case"ZYZ":t.set(l*p,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:it,denormalize:nt},$=e(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;Ht(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n},[{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,t=t.elements;return this.x=t[0]*e+t[3]*n+t[6],this.y=t[1]*e+t[4]*n+t[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());return 0===e?Math.PI/2:(t=this.dot(t)/e,Math.acos(K(t,-1,1)))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,t=this.y-t.y;return e*e+t*t}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var n=Math.cos(e),e=Math.sin(e),i=this.x-t.x,r=this.y-t.y;return this.x=i*n-r*e+t.x,this.y=i*e+r*n+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:Xt().mark(function t(){return Xt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:case"end":return t.stop()}},t,this)})}]),A=e(function t(e,n,i,r,a,o,s,l,u){Ht(this,t),t.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,n,i,r,a,o,s,l,u)},[{key:"set",value:function(t,e,n,i,r,a,o,s,l){var u=this.elements;return u[0]=t,u[1]=i,u[2]=o,u[3]=e,u[4]=r,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(t){var e=this.elements,t=t.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){t=t.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var t=t.elements,e=e.elements,n=this.elements,i=t[0],r=t[3],a=t[6],o=t[1],s=t[4],l=t[7],u=t[2],c=t[5],t=t[8],h=e[0],d=e[3],f=e[6],p=e[1],v=e[4],m=e[7],g=e[2],y=e[5],e=e[8];return n[0]=i*h+r*p+a*g,n[3]=i*d+r*v+a*y,n[6]=i*f+r*m+a*e,n[1]=o*h+s*p+l*g,n[4]=o*d+s*v+l*y,n[7]=o*f+s*m+l*e,n[2]=u*h+c*p+t*g,n[5]=u*d+c*v+t*y,n[8]=u*f+c*m+t*e,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],t=t[8];return e*a*t-e*o*l-n*r*t+n*o*s+i*r*l-i*a*s}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=u*a-o*l,h=o*s-u*r,d=l*r-a*s,f=e*c+n*h+i*d;return 0==f?this.set(0,0,0,0,0,0,0,0,0):(t[0]=c*(c=1/f),t[1]=(i*l-u*n)*c,t[2]=(o*n-i*a)*c,t[3]=h*c,t[4]=(u*e-i*s)*c,t[5]=(i*r-o*e)*c,t[6]=d*c,t[7]=(n*s-l*e)*c,t[8]=(a*e-n*r)*c,this)}},{key:"transpose",value:function(){var t=this.elements,e=t[1];return t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).invert().transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,i,r,a,o){var s=Math.cos(r),r=Math.sin(r);return this.set(n*s,n*r,-n*(s*a+r*o)+a+t,-i*r,i*s,-i*(-r*a+s*o)+o+e,0,0,1),this}},{key:"scale",value:function(t,e){return this.premultiply(rt.makeScale(t,e)),this}},{key:"rotate",value:function(t){return this.premultiply(rt.makeRotation(-t)),this}},{key:"translate",value:function(t,e){return this.premultiply(rt.makeTranslation(t,e)),this}},{key:"makeTranslation",value:function(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}},{key:"makeRotation",value:function(t){var e=Math.cos(t),t=Math.sin(t);return this.set(e,-t,0,t,e,0,0,0,1),this}},{key:"makeScale",value:function(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),rt=new A;function at(t){for(var e=t.length-1;0<=e;--e)if(65535<=t[e])return 1}function Wt(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;var ot={};function st(t){t in ot||(ot[t]=!0,console.warn(t))}var lt,ut=(new A).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),ct=(new A).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),ht=Z(Z(Z(Z({},"srgb-linear",{transfer:"linear",primaries:"rec709",toReference:function(t){return t},fromReference:function(t){return t}}),"srgb",{transfer:"srgb",primaries:"rec709",toReference:function(t){return t.convertSRGBToLinear()},fromReference:function(t){return t.convertLinearToSRGB()}}),"display-p3-linear",{transfer:"linear",primaries:"p3",toReference:function(t){return t.applyMatrix3(ct)},fromReference:function(t){return t.applyMatrix3(ut)}}),"display-p3",{transfer:"srgb",primaries:"p3",toReference:function(t){return t.convertSRGBToLinear().applyMatrix3(ct)},fromReference:function(t){return t.applyMatrix3(ut).convertLinearToSRGB()}}),dt=new Set(["srgb-linear","display-p3-linear"]),Gt={enabled:!0,_workingColorSpace:"srgb-linear",get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!dt.has(t))throw new Error('Unsupported working color space, "'.concat(t,'".'));this._workingColorSpace=t},convert:function(t,e,n){return!1!==this.enabled&&e!==n&&e&&n?(e=ht[e].toReference,(0,ht[n].fromReference)(e(t))):t},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return ht[t].primaries},getTransfer:function(t){return""===t?"linear":ht[t].transfer}};function ft(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function pt(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}var vt=e(function t(){Ht(this,t)},null,[{key:"getDataURL",value:function(t){var e;return/^data:/i.test(t.src)||"undefined"==typeof HTMLCanvasElement?t.src:2048<(e=t instanceof HTMLCanvasElement?t:((lt=void 0===lt?Wt("canvas"):lt).width=t.width,lt.height=t.height,e=lt.getContext("2d"),t instanceof ImageData?e.putImageData(t,0,0):e.drawImage(t,0,0,t.width,t.height),lt)).width||2048<e.height?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var e=Wt("canvas"),n=(e.width=t.width,e.height=t.height,e.getContext("2d"));n.drawImage(t,0,0,t.width,t.height);for(var i=n.getImageData(0,0,t.width,t.height),r=i.data,a=0;a<r.length;a++)r[a]=255*ft(r[a]/255);return n.putImageData(i,0,0),e}if(t.data){for(var o=t.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*ft(o[s]/255)):o[s]=ft(o[s]);return{data:o,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}]),mt=0,gt=e(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Ht(this,t),this.isSource=!0,Object.defineProperty(this,"id",{value:mt++}),this.uuid=J(),this.data=e,this.dataReady=!0,this.version=0},[{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"toJSON",value:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];var n={uuid:this.uuid,url:""},i=this.data;if(null!==i){if(Array.isArray(i))for(var r=[],a=0,o=i.length;a<o;a++)i[a].isDataTexture?r.push(yt(i[a].image)):r.push(yt(i[a]));else r=yt(i);n.url=r}return e||(t.images[this.uuid]=n),n}}]);function yt(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?vt.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var At=0,xt=(t(wt,n),e(wt,[{key:"image",get:function(){return this.source.data},set:function(){this.source.data=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(t){var e,n=void 0===t||"string"==typeof t;return n||void 0===t.textures[this.uuid]?(e={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment},0<Object.keys(this.userData).length&&(e.userData=this.userData),n||(t.textures[this.uuid]=e),e):t.textures[this.uuid]}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(t){if(300===this.mapping){if(t.applyMatrix3(this.matrix),t.x<0||1<t.x)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case 1001:t.x=t.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||1<t.y)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case 1001:t.y=t.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}return t}},{key:"needsUpdate",set:function(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}},{key:"needsPMREMUpdate",set:function(t){!0===t&&this.pmremVersion++}}]));function wt(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:wt.DEFAULT_IMAGE,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:wt.DEFAULT_MAPPING,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1001,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1001,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1006,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1008,s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1023,l=7<arguments.length&&void 0!==arguments[7]?arguments[7]:1009,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:wt.DEFAULT_ANISOTROPY,c=9<arguments.length&&void 0!==arguments[9]?arguments[9]:"";return Ht(this,wt),(t=H(this,wt)).isTexture=!0,Object.defineProperty(t,"id",{value:At++}),t.uuid=J(),t.name="",t.source=new gt(e),t.mipmaps=[],t.mapping=n,t.channel=0,t.wrapS=i,t.wrapT=r,t.magFilter=a,t.minFilter=o,t.anisotropy=u,t.format=s,t.internalFormat=null,t.type=l,t.offset=new $(0,0),t.repeat=new $(1,1),t.center=new $(0,0),t.rotation=0,t.matrixAutoUpdate=!0,t.matrix=new A,t.generateMipmaps=!0,t.premultiplyAlpha=!1,t.flipY=!0,t.unpackAlignment=4,t.colorSpace=c,t.userData={},t.version=0,t.onUpdate=null,t.isRenderTargetTexture=!1,t.pmremVersion=0,t}xt.DEFAULT_IMAGE=null,xt.DEFAULT_MAPPING=300,xt.DEFAULT_ANISOTROPY=1;var Yt=e(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;Ht(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r},[{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}},{key:"set",value:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,t=t.elements;return this.x=t[0]*e+t[4]*n+t[8]*i+t[12]*r,this.y=t[1]*e+t[5]*n+t[9]*i+t[13]*r,this.z=t[2]*e+t[6]*n+t[10]*i+t[14]*r,this.w=t[3]*e+t[7]*n+t[11]*i+t[15]*r,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,n,i,r,a,o,s,l,u,c,t=t.elements,h=t[0],d=t[4],f=t[8],p=t[1],v=t[5],m=t[9],g=t[2],y=t[6],t=t[10];return Math.abs(d-p)<.01&&Math.abs(f-g)<.01&&Math.abs(m-y)<.01?Math.abs(d+p)<.1&&Math.abs(f+g)<.1&&Math.abs(m+y)<.1&&Math.abs(h+v+t-3)<.1?this.set(1,0,0,0):(r=Math.PI,o=(t+1)/2,s=(d+p)/4,l=(f+g)/4,u=(m+y)/4,(a=(v+1)/2)<(c=(h+1)/2)&&o<c?i=c<.01?(e=0,n=.707106781):(n=s/(e=Math.sqrt(c)),l/e):o<a?i=a<.01?(n=0,e=.707106781):(e=s/(n=Math.sqrt(a)),u/n):o<.01?(n=e=.707106781,i=0):(e=l/(i=Math.sqrt(o)),n=u/i),this.set(e,n,i,r)):(c=Math.sqrt((y-m)*(y-m)+(f-g)*(f-g)+(p-d)*(p-d)),Math.abs(c)<.001&&(c=1),this.x=(y-m)/c,this.y=(f-g)/c,this.z=(p-d)/c,this.w=Math.acos((h+v+t-1)/2)),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:Xt().mark(function t(){return Xt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:return t.next=6,this.z;case 6:return t.next=8,this.w;case 8:case"end":return t.stop()}},t,this)})}]),Jt=(t($t,n),t(Zt,e($t,[{key:"texture",get:function(){return this.textures[0]},set:function(t){this.textures[0]=t}},{key:"setSize",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(var i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=t,this.textures[i].image.height=e,this.textures[i].image.depth=n;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport);for(var e=this.textures.length=0,n=t.textures.length;e<n;e++)this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0;var i=Object.assign({},t.texture.image);return this.texture.source=new gt(i),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}])),e(Zt)),bt=(t(qt,xt),e(qt,[{key:"addLayerUpdate",value:function(t){this.layerUpdates.add(t)}},{key:"clearLayerUpdates",value:function(){this.layerUpdates.clear()}}])),Mt=(t(Kt,xt),e(Kt)),Et=e(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;Ht(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r},[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=t._x,i=t._y,r=t._z,a=t._order,t=Math.cos,o=Math.sin,s=t(n/2),l=t(i/2),u=t(r/2),c=o(n/2),h=o(i/2),d=o(r/2);switch(a){case"XYZ":this._x=c*l*u+s*h*d,this._y=s*h*u-c*l*d,this._z=s*l*d+c*h*u,this._w=s*l*u-c*h*d;break;case"YXZ":this._x=c*l*u+s*h*d,this._y=s*h*u-c*l*d,this._z=s*l*d-c*h*u,this._w=s*l*u+c*h*d;break;case"ZXY":this._x=c*l*u-s*h*d,this._y=s*h*u+c*l*d,this._z=s*l*d+c*h*u,this._w=s*l*u-c*h*d;break;case"ZYX":this._x=c*l*u-s*h*d,this._y=s*h*u+c*l*d,this._z=s*l*d-c*h*u,this._w=s*l*u+c*h*d;break;case"YZX":this._x=c*l*u+s*h*d,this._y=s*h*u+c*l*d,this._z=s*l*d-c*h*u,this._w=s*l*u-c*h*d;break;case"XZY":this._x=c*l*u-s*h*d,this._y=s*h*u-c*l*d,this._z=s*l*d+c*h*u,this._w=s*l*u+c*h*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var e=e/2,n=Math.sin(e);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(e),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var t=t.elements,e=t[0],n=t[4],i=t[8],r=t[1],a=t[5],o=t[9],s=t[2],l=t[6],t=t[10],u=e+a+t;return 0<u?(u=.5/Math.sqrt(u+1),this._w=.25/u,this._x=(l-o)*u,this._y=(i-s)*u,this._z=(r-n)*u):a<e&&t<e?(u=2*Math.sqrt(1+e-a-t),this._w=(l-o)/u,this._x=.25*u,this._y=(n+r)/u,this._z=(i+s)/u):t<a?(u=2*Math.sqrt(1+a-e-t),this._w=(i-s)/u,this._x=(n+r)/u,this._y=.25*u,this._z=(o+l)/u):(u=2*Math.sqrt(1+t-e-a),this._w=(r-n)/u,this._x=(i+s)/u,this._y=(o+l)/u,this._z=.25*u),this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0):(this._x=0,this._y=-t.z,this._z=t.y)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x),this._w=n,this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(K(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var n=this.angleTo(t);return 0!==n&&(e=Math.min(1,e/n),this.slerp(t,e)),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(t=1/t),this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t){return this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var n=t._x,i=t._y,r=t._z,t=t._w,a=e._x,o=e._y,s=e._z,e=e._w;return this._x=n*e+t*a+i*s-r*o,this._y=i*e+t*o+r*a-n*s,this._z=r*e+t*s+n*o-i*a,this._w=t*e-n*a-i*o-r*s,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0!==e){if(1===e)return this.copy(t);var n,i=this._x,r=this._y,a=this._z,o=this._w,s=o*t._w+i*t._x+r*t._y+a*t._z;s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),1<=s?(this._w=o,this._x=i,this._y=r,this._z=a):(t=1-s*s)<=Number.EPSILON?(this._w=(n=1-e)*o+e*this._w,this._x=n*i+e*this._x,this._y=n*r+e*this._y,this._z=n*a+e*this._z,this.normalize()):(n=Math.sqrt(t),t=Math.atan2(n,s),s=Math.sin((1-e)*t)/n,e=Math.sin(e*t)/n,this._w=o*s+this._w*e,this._x=i*s+this._x*e,this._y=r*s+this._y*e,this._z=a*s+this._z*e,this._onChangeCallback())}return this}},{key:"slerpQuaternions",value:function(t,e,n){return this.copy(t).slerp(e,n)}},{key:"random",value:function(){var t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),n=Math.sqrt(n);return this.set(i*Math.sin(t),i*Math.cos(t),n*Math.sin(e),n*Math.cos(e))}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:Xt().mark(function t(){return Xt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._x;case 2:return t.next=4,this._y;case 4:return t.next=6,this._z;case 6:return t.next=8,this._w;case 8:case"end":return t.stop()}},t,this)})}],[{key:"slerpFlat",value:function(t,e,n,i,r,a,o){var s,l,u,c=n[i+0],h=n[i+1],d=n[i+2],n=n[i+3],i=r[a+0],f=r[a+1],p=r[a+2],r=r[a+3];0===o?(t[e+0]=c,t[e+1]=h,t[e+2]=d,t[e+3]=n):1===o?(t[e+0]=i,t[e+1]=f,t[e+2]=p,t[e+3]=r):(n===r&&c===i&&h===f&&d===p||(a=1-o,s=0<=(l=c*i+h*f+d*p+n*r)?1:-1,(u=1-l*l)>Number.EPSILON&&(u=Math.sqrt(u),l=Math.atan2(u,l*s),a=Math.sin(a*l)/u,o=Math.sin(o*l)/u),c=c*a+i*(l=o*s),h=h*a+f*l,d=d*a+p*l,n=n*a+r*l,a===1-o&&(c*=u=1/Math.sqrt(c*c+h*h+d*d+n*n),h*=u,d*=u,n*=u)),t[e]=c,t[e+1]=h,t[e+2]=d,t[e+3]=n)}},{key:"multiplyQuaternionsFlat",value:function(t,e,n,i,r,a){var o=n[i],s=n[i+1],l=n[i+2],n=n[i+3],i=r[a],u=r[a+1],c=r[a+2],r=r[a+3];return t[e]=o*r+n*i+s*c-l*u,t[e+1]=s*r+n*u+l*i-o*c,t[e+2]=l*r+n*c+o*u-s*i,t[e+3]=n*r-o*i-s*u-l*c,t}}]),Vt=e(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;Ht(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i},[{key:"set",value:function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return this.applyQuaternion(Ct.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(Ct.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=this.z,t=t.elements;return this.x=t[0]*e+t[3]*n+t[6]*i,this.y=t[1]*e+t[4]*n+t[7]*i,this.z=t[2]*e+t[5]*n+t[8]*i,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,t=t.elements,r=1/(t[3]*e+t[7]*n+t[11]*i+t[15]);return this.x=(t[0]*e+t[4]*n+t[8]*i+t[12])*r,this.y=(t[1]*e+t[5]*n+t[9]*i+t[13])*r,this.z=(t[2]*e+t[6]*n+t[10]*i+t[14])*r,this}},{key:"applyQuaternion",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,o=t.z,t=t.w,s=2*(a*i-o*n),l=2*(o*e-r*i),u=2*(r*n-a*e);return this.x=e+t*s+a*u-o*l,this.y=n+t*l+o*s-r*u,this.z=i+t*u+r*l-a*s,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,i=this.z,t=t.elements;return this.x=t[0]*e+t[4]*n+t[8]*i,this.y=t[1]*e+t[5]*n+t[9]*i,this.z=t[2]*e+t[6]*n+t[10]*i,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}},{key:"cross",value:function(t){return this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var n=t.x,i=t.y,t=t.z,r=e.x,a=e.y,e=e.z;return this.x=i*e-t*a,this.y=t*r-n*e,this.z=n*a-i*r,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();return 0===e?this.set(0,0,0):(e=t.dot(this)/e,this.copy(t).multiplyScalar(e))}},{key:"projectOnPlane",value:function(t){return St.copy(this).projectOnVector(t),this.sub(St)}},{key:"reflect",value:function(t){return this.sub(St.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());return 0===e?Math.PI/2:(t=this.dot(t)/e,Math.acos(K(t,-1,1)))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,t=this.z-t.z;return e*e+n*n+t*t}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){t=t.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),t=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=t,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"setFromEuler",value:function(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}},{key:"setFromColor",value:function(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var t=Math.random()*Math.PI*2,e=2*Math.random()-1,n=Math.sqrt(1-e*e);return this.x=n*Math.cos(t),this.y=e,this.z=n*Math.sin(t),this}},{key:Symbol.iterator,value:Xt().mark(function t(){return Xt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:return t.next=6,this.z;case 6:case"end":return t.stop()}},t,this)})}]),St=new Vt,Ct=new Et,Tt=e(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Vt(1/0,1/0,1/0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Vt(-1/0,-1/0,-1/0);Ht(this,t),this.isBox3=!0,this.min=e,this.max=n},[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e+=3)this.expandByPoint(kt.fromArray(t,e));return this}},{key:"setFromBufferAttribute",value:function(t){this.makeEmpty();for(var e=0,n=t.count;e<n;e++)this.expandByPoint(kt.fromBufferAttribute(t,e));return this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){e=kt.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(e),this.max.copy(t).add(e),this}},{key:"setFromObject",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(t,e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(t.updateWorldMatrix(!1,!1),t.geometry);if(void 0!==n){var i=n.getAttribute("position");if(!0===e&&void 0!==i&&!0!==t.isInstancedMesh)for(var r=0,a=i.count;r<a;r++)!0===t.isMesh?t.getVertexPosition(r,kt):kt.fromBufferAttribute(i,r),kt.applyMatrix4(t.matrixWorld),this.expandByPoint(kt);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),Pt.copy(t.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Pt.copy(n.boundingBox)),Pt.applyMatrix4(t.matrixWorld),this.union(Pt)}for(var o=t.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],e);return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){return this.clampPoint(t.center,kt),kt.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,n=0<t.normal.x?(e=t.normal.x*this.min.x,t.normal.x*this.max.x):(e=t.normal.x*this.max.x,t.normal.x*this.min.x);return 0<t.normal.y?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),0<t.normal.z?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}},{key:"intersectsTriangle",value:function(t){return!this.isEmpty()&&(this.getCenter(Ut),Nt.subVectors(this.max,Ut),Rt.subVectors(t.a,Ut),Dt.subVectors(t.b,Ut),Bt.subVectors(t.c,Ut),Lt.subVectors(Dt,Rt),It.subVectors(Bt,Dt),Ot.subVectors(Rt,Bt),!!te([0,-Lt.z,Lt.y,0,-It.z,It.y,0,-Ot.z,Ot.y,Lt.z,0,-Lt.x,It.z,0,-It.x,Ot.z,0,-Ot.x,-Lt.y,Lt.x,0,-It.y,It.x,0,-Ot.y,Ot.x,0],Rt,Dt,Bt,Nt))&&!!te([1,0,0,0,1,0,0,0,1],Rt,Dt,Bt,Nt)&&(zt.crossVectors(Lt,It),te([zt.x,zt.y,zt.z],Rt,Dt,Bt,Nt))}},{key:"clampPoint",value:function(t,e){return e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return this.clampPoint(t,kt).distanceTo(t)}},{key:"getBoundingSphere",value:function(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(kt).length()),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(_t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),_t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),_t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),_t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),_t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),_t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),_t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),_t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(_t)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),_t=[new Vt,new Vt,new Vt,new Vt,new Vt,new Vt,new Vt,new Vt],kt=new Vt,Pt=new Tt,Rt=new Vt,Dt=new Vt,Bt=new Vt,Lt=new Vt,It=new Vt,Ot=new Vt,Ut=new Vt,Nt=new Vt,zt=new Vt,Ft=new Vt;function Kt(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return Ht(this,Kt),(t=H(this,Kt,[null])).isData3DTexture=!0,t.image={data:e,width:n,height:i,depth:r},t.magFilter=1003,t.minFilter=1003,t.wrapR=1001,t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t}function qt(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return Ht(this,qt),(t=H(this,qt,[null])).isDataArrayTexture=!0,t.image={data:e,width:n,height:i,depth:r},t.magFilter=1003,t.minFilter=1003,t.wrapR=1001,t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t.layerUpdates=new Set,t}function Zt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return Ht(this,Zt),(t=H(this,Zt,[t,e,n])).isWebGLRenderTarget=!0,t}function $t(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=(Ht(this,$t),(t=H(this,$t)).isRenderTarget=!0,t.width=e,t.height=n,t.depth=1,t.scissor=new Yt(0,0,e,n),t.scissorTest=!1,t.viewport=new Yt(0,0,e,n),{width:e,height:n,depth:1}),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:1006,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i),r=new xt(e,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);r.flipY=!1,r.generateMipmaps=i.generateMipmaps,r.internalFormat=i.internalFormat,t.textures=[];for(var a=i.count,o=0;o<a;o++)t.textures[o]=r.clone(),t.textures[o].isRenderTargetTexture=!0;return t.depthBuffer=i.depthBuffer,t.stencilBuffer=i.stencilBuffer,t.resolveDepthBuffer=i.resolveDepthBuffer,t.resolveStencilBuffer=i.resolveStencilBuffer,t.depthTexture=i.depthTexture,t.samples=i.samples,t}function te(t,e,n,i,r){for(var a=0,o=t.length-3;a<=o;a+=3){Ft.fromArray(t,a);var s=r.x*Math.abs(Ft.x)+r.y*Math.abs(Ft.y)+r.z*Math.abs(Ft.z),l=e.dot(Ft),u=n.dot(Ft),c=i.dot(Ft);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var ee=new Tt,ne=new Vt,ie=new Vt,re=e(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Vt,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;Ht(this,t),this.isSphere=!0,this.center=e,this.radius=n},[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var n=this.center;void 0!==e?n.copy(e):ee.setFromPoints(t).getCenter(n);for(var i=0,r=0,a=t.length;r<a;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return this.isEmpty()?t.makeEmpty():(t.set(this.center,this.center),t.expandByScalar(this.radius)),t}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"expandByPoint",value:function(t){var e;return this.isEmpty()?(this.center.copy(t),this.radius=0):(ne.subVectors(t,this.center),(t=ne.lengthSq())>this.radius*this.radius&&(e=.5*((t=Math.sqrt(t))-this.radius),this.center.addScaledVector(ne,e/t),this.radius+=e)),this}},{key:"union",value:function(t){return t.isEmpty()||(this.isEmpty()?this.copy(t):!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(ie.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(ne.copy(t.center).add(ie)),this.expandByPoint(ne.copy(t.center).sub(ie)))),this}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),ae=new Vt,oe=new Vt,se=new Vt,le=new Vt,ue=new Vt,ce=new Vt,he=new Vt,de=e(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Vt,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Vt(0,0,-1);Ht(this,t),this.origin=e,this.direction=n},[{key:"set",value:function(t,e){return this.origin.copy(t),this.direction.copy(e),this}},{key:"copy",value:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}},{key:"at",value:function(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}},{key:"lookAt",value:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this}},{key:"recast",value:function(t){return this.origin.copy(this.at(t,ae)),this}},{key:"closestPointToPoint",value:function(t,e){e.subVectors(t,this.origin);t=e.dot(this.direction);return t<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,t)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=ae.subVectors(t,this.origin).dot(this.direction);return(e<0?this.origin:(ae.copy(this.origin).addScaledVector(this.direction,e),ae)).distanceToSquared(t)}},{key:"distanceSqToSegment",value:function(t,e,n,i){oe.copy(t).add(e).multiplyScalar(.5),se.copy(e).sub(t).normalize(),le.copy(this.origin).sub(oe);var r,a,o,t=.5*t.distanceTo(e),e=-this.direction.dot(se),s=le.dot(this.direction),l=-le.dot(se),u=le.lengthSq(),c=Math.abs(1-e*e);return c=0<c?(a=e*s-l,o=t*c,0<=(r=e*l-s)?-o<=a?a<=o?(r*=c=1/c)*(r+e*(a*=c)+2*s)+a*(e*r+a+2*l)+u:(a=t,-(r=Math.max(0,-(e*a+s)))*r+a*(a+2*l)+u):(a=-t,-(r=Math.max(0,-(e*a+s)))*r+a*(a+2*l)+u):a<=-o?-(r=Math.max(0,-(-e*t+s)))*r+(a=0<r?-t:Math.min(Math.max(-t,-l),t))*(a+2*l)+u:a<=o?(r=0,(a=Math.min(Math.max(-t,-l),t))*(a+2*l)+u):-(r=Math.max(0,-(e*t+s)))*r+(a=0<r?t:Math.min(Math.max(-t,-l),t))*(a+2*l)+u):(a=0<e?-t:t,-(r=Math.max(0,-(e*a+s)))*r+a*(a+2*l)+u),n&&n.copy(this.origin).addScaledVector(this.direction,r),i&&i.copy(oe).addScaledVector(se,a),c}},{key:"intersectSphere",value:function(t,e){ae.subVectors(t.center,this.origin);var n=ae.dot(this.direction),i=ae.dot(ae)-n*n,t=t.radius*t.radius;return t<i||(i=n-(t=Math.sqrt(t-i)),(n=n+t)<0)?null:i<0?this.at(n,e):this.at(i,e)}},{key:"intersectsSphere",value:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}},{key:"distanceToPlane",value:function(t){var e=t.normal.dot(this.direction);return 0===e?0===t.distanceToPoint(this.origin)?0:null:0<=(t=-(this.origin.dot(t.normal)+t.constant)/e)?t:null}},{key:"intersectPlane",value:function(t,e){t=this.distanceToPlane(t);return null===t?null:this.at(t,e)}},{key:"intersectsPlane",value:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}},{key:"intersectBox",value:function(t,e){var n,i,r,a=1/this.direction.x,o=1/this.direction.y,s=1/this.direction.z,l=this.origin,a=0<=a?(n=(t.min.x-l.x)*a,(t.max.x-l.x)*a):(n=(t.max.x-l.x)*a,(t.min.x-l.x)*a),o=0<=o?(r=(t.min.y-l.y)*o,(t.max.y-l.y)*o):(r=(t.max.y-l.y)*o,(t.min.y-l.y)*o);return o<n||a<r||((n<r||isNaN(n))&&(n=r),(o<a||isNaN(a))&&(a=o),(r=0<=s?(i=(t.min.z-l.z)*s,(t.max.z-l.z)*s):(i=(t.max.z-l.z)*s,(t.min.z-l.z)*s))<n)||a<i||((n<i||n!=n)&&(n=i),(a=r<a||a!=a?r:a)<0)?null:this.at(0<=n?n:a,e)}},{key:"intersectsBox",value:function(t){return null!==this.intersectBox(t,ae)}},{key:"intersectTriangle",value:function(t,e,n,i,r){ue.subVectors(e,t),ce.subVectors(n,t),he.crossVectors(ue,ce);var a,e=this.direction.dot(he);if(0<e){if(i)return null;a=1}else{if(!(e<0))return null;a=-1,e=-e}le.subVectors(this.origin,t);n=a*this.direction.dot(ce.crossVectors(le,ce));return n<0||(i=a*this.direction.dot(ue.cross(le)))<0||e<n+i||(t=-a*le.dot(he))<0?null:this.at(t/e,r)}},{key:"applyMatrix4",value:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}},{key:"equals",value:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),fe=e(Ee,[{key:"set",value:function(t,e,n,i,r,a,o,s,l,u,c,h,d,f,p,v){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=d,m[7]=f,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new Ee).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,t=t.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,t=t.elements;return e[12]=t[12],e[13]=t[13],e[14]=t[14],this}},{key:"setFromMatrix3",value:function(t){t=t.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,i=1/pe.setFromMatrixColumn(t,0).length(),r=1/pe.setFromMatrixColumn(t,1).length(),t=1/pe.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*t,e[9]=n[9]*t,e[10]=n[10]*t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){var e,n,i,r,a=this.elements,o=t.x,s=t.y,l=t.z,u=Math.cos(o),o=Math.sin(o),c=Math.cos(s),s=Math.sin(s),h=Math.cos(l),l=Math.sin(l);return"XYZ"===t.order?(n=u*h,i=u*l,r=o*h,e=o*l,a[0]=c*h,a[4]=-c*l,a[8]=s,a[1]=i+r*s,a[5]=n-e*s,a[9]=-o*c,a[2]=e-n*s,a[6]=r+i*s,a[10]=u*c):"YXZ"===t.order?(e=c*l,n=s*h,a[0]=(r=c*h)+(i=s*l)*o,a[4]=n*o-e,a[8]=u*s,a[1]=u*l,a[5]=u*h,a[9]=-o,a[2]=e*o-n,a[6]=i+r*o,a[10]=u*c):"ZXY"===t.order?(e=c*l,n=s*h,a[0]=(i=c*h)-(r=s*l)*o,a[4]=-u*l,a[8]=n+e*o,a[1]=e+n*o,a[5]=u*h,a[9]=r-i*o,a[2]=-u*s,a[6]=o,a[10]=u*c):"ZYX"===t.order?(e=u*h,n=u*l,r=o*h,i=o*l,a[0]=c*h,a[4]=r*s-n,a[8]=e*s+i,a[1]=c*l,a[5]=i*s+e,a[9]=n*s-r,a[2]=-s,a[6]=o*c,a[10]=u*c):"YZX"===t.order?(i=u*c,e=u*s,n=o*c,r=o*s,a[0]=c*h,a[4]=r-i*l,a[8]=n*l+e,a[1]=l,a[5]=u*h,a[9]=-o*h,a[2]=-s*h,a[6]=e*l+n,a[10]=i-r*l):"XZY"===t.order&&(e=u*c,n=u*s,i=o*c,r=o*s,a[0]=c*h,a[4]=-l,a[8]=s*h,a[1]=e*l+r,a[5]=u*h,a[9]=n*l-i,a[2]=i*l-n,a[6]=o*h,a[10]=r*l+e),a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(me,t,ge)}},{key:"lookAt",value:function(t,e,n){var i=this.elements;return xe.subVectors(t,e),0===xe.lengthSq()&&(xe.z=1),xe.normalize(),ye.crossVectors(n,xe),0===ye.lengthSq()&&(1===Math.abs(n.z)?xe.x+=1e-4:xe.z+=1e-4,xe.normalize(),ye.crossVectors(n,xe)),ye.normalize(),Ae.crossVectors(xe,ye),i[0]=ye.x,i[4]=Ae.x,i[8]=xe.x,i[1]=ye.y,i[5]=Ae.y,i[9]=xe.y,i[2]=ye.z,i[6]=Ae.z,i[10]=xe.z,this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var t=t.elements,e=e.elements,n=this.elements,i=t[0],r=t[4],a=t[8],o=t[12],s=t[1],l=t[5],u=t[9],c=t[13],h=t[2],d=t[6],f=t[10],p=t[14],v=t[3],m=t[7],g=t[11],t=t[15],y=e[0],A=e[4],x=e[8],w=e[12],b=e[1],M=e[5],E=e[9],S=e[13],C=e[2],T=e[6],_=e[10],k=e[14],P=e[3],R=e[7],D=e[11],e=e[15];return n[0]=i*y+r*b+a*C+o*P,n[4]=i*A+r*M+a*T+o*R,n[8]=i*x+r*E+a*_+o*D,n[12]=i*w+r*S+a*k+o*e,n[1]=s*y+l*b+u*C+c*P,n[5]=s*A+l*M+u*T+c*R,n[9]=s*x+l*E+u*_+c*D,n[13]=s*w+l*S+u*k+c*e,n[2]=h*y+d*b+f*C+p*P,n[6]=h*A+d*M+f*T+p*R,n[10]=h*x+d*E+f*_+p*D,n[14]=h*w+d*S+f*k+p*e,n[3]=v*y+m*b+g*C+t*P,n[7]=v*A+m*M+g*T+t*R,n[11]=v*x+m*E+g*_+t*D,n[15]=v*w+m*S+g*k+t*e,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],a=t[1],o=t[5],s=t[9],l=t[13],u=t[2],c=t[6],h=t[10],d=t[14];return t[3]*(+r*s*c-i*l*c-r*o*h+n*l*h+i*o*d-n*s*d)+t[7]*(+e*s*d-e*l*h+r*a*h-i*a*d+i*l*u-r*s*u)+t[11]*(+e*l*c-e*o*d-r*a*c+n*a*d+r*o*u-n*l*u)+t[15]*(-i*o*u-e*s*c+e*o*h+i*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var t=this.elements,e=t[1];return t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],f=t[12],p=t[13],v=t[14],m=t[15],g=c*v*l-p*h*l+p*s*d-o*v*d-c*s*m+o*h*m,y=f*h*l-u*v*l-f*s*d+a*v*d+u*s*m-a*h*m,A=u*p*l-f*c*l+f*o*d-a*p*d-u*o*m+a*c*m,x=f*c*s-u*p*s-f*o*h+a*p*h+u*o*v-a*c*v,w=e*g+n*y+i*A+r*x;return 0==w?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(t[0]=g*(g=1/w),t[1]=(p*h*r-c*v*r-p*i*d+n*v*d+c*i*m-n*h*m)*g,t[2]=(o*v*r-p*s*r+p*i*l-n*v*l-o*i*m+n*s*m)*g,t[3]=(c*s*r-o*h*r-c*i*l+n*h*l+o*i*d-n*s*d)*g,t[4]=y*g,t[5]=(u*v*r-f*h*r+f*i*d-e*v*d-u*i*m+e*h*m)*g,t[6]=(f*s*r-a*v*r-f*i*l+e*v*l+a*i*m-e*s*m)*g,t[7]=(a*h*r-u*s*r+u*i*l-e*h*l-a*i*d+e*s*d)*g,t[8]=A*g,t[9]=(f*c*r-u*p*r-f*n*d+e*p*d+u*n*m-e*c*m)*g,t[10]=(a*p*r-f*o*r+f*n*l-e*p*l-a*n*m+e*o*m)*g,t[11]=(u*o*r-a*c*r-u*n*l+e*c*l+a*n*d-e*o*d)*g,t[12]=x*g,t[13]=(u*p*i-f*c*i+f*n*h-e*p*h-u*n*v+e*c*v)*g,t[14]=(f*o*i-a*p*i-f*n*s+e*p*s+a*n*v-e*o*v)*g,t[15]=(a*c*i-u*o*i+u*n*s-e*c*s-a*n*h+e*o*h)*g,this)}},{key:"scale",value:function(t){var e=this.elements,n=t.x,i=t.y,t=t.z;return e[0]*=n,e[4]*=i,e[8]*=t,e[1]*=n,e[5]*=i,e[9]*=t,e[2]*=n,e[6]*=i,e[10]*=t,e[3]*=n,e[7]*=i,e[11]*=t,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,t))}},{key:"makeTranslation",value:function(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),t=Math.sin(t);return this.set(1,0,0,0,0,e,-t,0,0,t,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),t=Math.sin(t);return this.set(e,0,t,0,0,1,0,0,-t,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),t=Math.sin(t);return this.set(e,-t,0,0,t,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),e=Math.sin(e),i=1-n,r=t.x,a=t.y,t=t.z,o=i*r,s=i*a;return this.set(o*r+n,o*a-e*t,o*t+e*a,0,o*a+e*t,s*a+n,s*t-e*r,0,o*t-e*a,s*t+e*r,i*t*t+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n,i,r,a){return this.set(1,n,r,0,t,1,a,0,e,i,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var i=this.elements,r=e._x,a=e._y,o=e._z,e=e._w,s=r+r,l=a+a,u=o+o,c=r*s,h=r*l,r=r*u,d=a*l,a=a*u,o=o*u,s=e*s,l=e*l,e=e*u,u=n.x,f=n.y,n=n.z;return i[0]=(1-(d+o))*u,i[1]=(h+e)*u,i[2]=(r-l)*u,i[3]=0,i[4]=(h-e)*f,i[5]=(1-(c+o))*f,i[6]=(a+s)*f,i[7]=0,i[8]=(r+l)*n,i[9]=(a-s)*n,i[10]=(1-(c+d))*n,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}},{key:"decompose",value:function(t,e,n){var i=this.elements,r=pe.set(i[0],i[1],i[2]).length(),a=pe.set(i[4],i[5],i[6]).length(),o=pe.set(i[8],i[9],i[10]).length(),t=(this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],ve.copy(this),1/r),i=1/a,s=1/o;return ve.elements[0]*=t,ve.elements[1]*=t,ve.elements[2]*=t,ve.elements[4]*=i,ve.elements[5]*=i,ve.elements[6]*=i,ve.elements[8]*=s,ve.elements[9]*=s,ve.elements[10]*=s,e.setFromRotationMatrix(ve),n.x=r,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(t,e,n,i,r,a){var o,s,l=6<arguments.length&&void 0!==arguments[6]?arguments[6]:2e3,u=this.elements,c=2*r/(e-t),h=2*r/(n-i),e=(e+t)/(e-t),t=(n+i)/(n-i);if(2e3===l)o=-(a+r)/(a-r),s=-2*a*r/(a-r);else{if(2001!==l)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);o=-a/(a-r),s=-a*r/(a-r)}return u[0]=c,u[4]=0,u[8]=e,u[12]=0,u[1]=0,u[5]=h,u[9]=t,u[13]=0,u[2]=0,u[6]=0,u[10]=o,u[14]=s,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}},{key:"makeOrthographic",value:function(t,e,n,i,r,a){var o,s,l=6<arguments.length&&void 0!==arguments[6]?arguments[6]:2e3,u=this.elements,c=1/(e-t),h=1/(n-i),d=1/(a-r),e=(e+t)*c,t=(n+i)*h;if(2e3===l)o=(a+r)*d,s=-2*d;else{if(2001!==l)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);o=r*d,s=-1*d}return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-e,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-t,u[2]=0,u[6]=0,u[10]=s,u[14]=-o,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}]),pe=new Vt,ve=new fe,me=new Vt(0,0,0),ge=new Vt(1,1,1),ye=new Vt,Ae=new Vt,xe=new Vt,we=new fe,be=new Et,Me=e(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;Ht(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r},[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=t,this._y=e,this._z=n,this._order=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._order,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],t=t.elements,i=t[0],r=t[4],a=t[8],o=t[1],s=t[5],l=t[9],u=t[2],c=t[6],h=t[10];switch(e){case"XYZ":this._y=Math.asin(K(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,h),this._z=Math.atan2(-r,i)):(this._x=Math.atan2(c,s),this._z=0);break;case"YXZ":this._x=Math.asin(-K(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(o,s)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(K(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-r,s)):(this._y=0,this._z=Math.atan2(o,i));break;case"ZYX":this._y=Math.asin(-K(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(c,h),this._z=Math.atan2(o,i)):(this._x=0,this._z=Math.atan2(-r,s));break;case"YZX":this._z=Math.asin(K(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,s),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-K(r,-1,1)),Math.abs(r)<.9999999?(this._x=Math.atan2(c,s),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-l,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,n){return we.makeRotationFromQuaternion(t),this.setFromRotationMatrix(we,e,n)}},{key:"setFromVector3",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(t.x,t.y,t.z,e)}},{key:"reorder",value:function(t){return be.setFromEuler(this),this.setFromQuaternion(be,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:Xt().mark(function t(){return Xt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._x;case 2:return t.next=4,this._y;case 4:return t.next=6,this._z;case 6:return t.next=8,this._order;case 8:case"end":return t.stop()}},t,this)})}]);function Ee(t,e,n,i,r,a,o,s,l,u,c,h,d,f,p,v){Ht(this,Ee),Ee.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,n,i,r,a,o,s,l,u,c,h,d,f,p,v)}Me.DEFAULT_ORDER="XYZ";var Se=e(function t(){Ht(this,t),this.mask=1},[{key:"set",value:function(t){this.mask=(1<<t|0)>>>0}},{key:"enable",value:function(t){this.mask|=1<<t|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(t){this.mask^=1<<t|0}},{key:"disable",value:function(t){this.mask&=~(1<<t|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(t){return 0!=(this.mask&t.mask)}},{key:"isEnabled",value:function(t){return 0!=(this.mask&(1<<t|0))}}]),Ce=0,Te=new Vt,_e=new Et,ke=new fe,Pe=new Vt,Re=new Vt,De=new Vt,Be=new Et,Le=new Vt(1,0,0),Ie=new Vt(0,1,0),Oe=new Vt(0,0,1),Ue={type:"added"},Ne={type:"removed"},ze={type:"childadded",child:null},Fe={type:"childremoved",child:null},i=(t(He,n),e(He,[{key:"onBeforeShadow",value:function(){}},{key:"onAfterShadow",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(t){return this.quaternion.premultiply(t),this}},{key:"setRotationFromAxisAngle",value:function(t,e){this.quaternion.setFromAxisAngle(t,e)}},{key:"setRotationFromEuler",value:function(t){this.quaternion.setFromEuler(t,!0)}},{key:"setRotationFromMatrix",value:function(t){this.quaternion.setFromRotationMatrix(t)}},{key:"setRotationFromQuaternion",value:function(t){this.quaternion.copy(t)}},{key:"rotateOnAxis",value:function(t,e){return _e.setFromAxisAngle(t,e),this.quaternion.multiply(_e),this}},{key:"rotateOnWorldAxis",value:function(t,e){return _e.setFromAxisAngle(t,e),this.quaternion.premultiply(_e),this}},{key:"rotateX",value:function(t){return this.rotateOnAxis(Le,t)}},{key:"rotateY",value:function(t){return this.rotateOnAxis(Ie,t)}},{key:"rotateZ",value:function(t){return this.rotateOnAxis(Oe,t)}},{key:"translateOnAxis",value:function(t,e){return Te.copy(t).applyQuaternion(this.quaternion),this.position.add(Te.multiplyScalar(e)),this}},{key:"translateX",value:function(t){return this.translateOnAxis(Le,t)}},{key:"translateY",value:function(t){return this.translateOnAxis(Ie,t)}},{key:"translateZ",value:function(t){return this.translateOnAxis(Oe,t)}},{key:"localToWorld",value:function(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(ke.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(t,e,n){t.isVector3?Pe.copy(t):Pe.set(t,e,n);t=this.parent;this.updateWorldMatrix(!0,!1),Re.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ke.lookAt(Re,Pe,this.up):ke.lookAt(Pe,Re,this.up),this.quaternion.setFromRotationMatrix(ke),t&&(ke.extractRotation(t.matrixWorld),_e.setFromRotationMatrix(ke),this.quaternion.premultiply(_e.invert()))}},{key:"add",value:function(t){if(1<arguments.length)for(var e=0;e<arguments.length;e++)this.add(arguments[e]);else t===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",t):t&&t.isObject3D?(t.removeFromParent(),(t.parent=this).children.push(t),t.dispatchEvent(Ue),ze.child=t,this.dispatchEvent(ze),ze.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t);return this}},{key:"remove",value:function(t){if(1<arguments.length)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);else{var n=this.children.indexOf(t);-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(Ne),Fe.child=t,this.dispatchEvent(Fe),Fe.child=null)}return this}},{key:"removeFromParent",value:function(){var t=this.parent;return null!==t&&t.remove(this),this}},{key:"clear",value:function(){return this.remove.apply(this,function(t){if(Array.isArray(t))return O(t)}(t=this.children)||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||I(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var t}},{key:"attach",value:function(t){return this.updateWorldMatrix(!0,!1),ke.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),ke.multiply(t.parent.matrixWorld)),t.applyMatrix4(ke),t.removeFromParent(),(t.parent=this).children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(Ue),ze.child=t,this.dispatchEvent(ze),ze.child=null,this}},{key:"getObjectById",value:function(t){return this.getObjectByProperty("id",t)}},{key:"getObjectByName",value:function(t){return this.getObjectByProperty("name",t)}},{key:"getObjectByProperty",value:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}}},{key:"getObjectsByProperty",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];this[t]===e&&n.push(this);for(var i=this.children,r=0,a=i.length;r<a;r++)i[r].getObjectsByProperty(t,e,n);return n}},{key:"getWorldPosition",value:function(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Re,t,De),t}},{key:"getWorldScale",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Re,Be,t),t}},{key:"getWorldDirection",value:function(t){this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)}},{key:"traverseVisible",value:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}}},{key:"traverseAncestors",value:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t=!(this.matrixWorldNeedsUpdate=!1));for(var e=this.children,n=0,i=e.length;n<i;n++){var r=e[n];!0!==r.matrixWorldAutoUpdate&&!0!==t||r.updateMatrixWorld(t)}}},{key:"updateWorldMatrix",value:function(t,e){var n=this.parent;if(!0===t&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,a=i.length;r<a;r++){var o=i[r];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(n){var t,e,i,r,a,o,s=void 0===n||"string"==typeof n,l={},u=(s&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},l.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"}),{});function c(t,e){return void 0===t[e.uuid]&&(t[e.uuid]=e.toJSON(n)),e.uuid}if(u.uuid=this.uuid,u.type=this.type,""!==this.name&&(u.name=this.name),!0===this.castShadow&&(u.castShadow=!0),!0===this.receiveShadow&&(u.receiveShadow=!0),!1===this.visible&&(u.visible=!1),!1===this.frustumCulled&&(u.frustumCulled=!1),0!==this.renderOrder&&(u.renderOrder=this.renderOrder),0<Object.keys(this.userData).length&&(u.userData=this.userData),u.layers=this.layers.mask,u.matrix=this.matrix.toArray(),u.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(u.matrixAutoUpdate=!1),this.isInstancedMesh&&(u.type="InstancedMesh",u.count=this.count,u.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor)&&(u.instanceColor=this.instanceColor.toJSON()),this.isBatchedMesh&&(u.type="BatchedMesh",u.perObjectFrustumCulled=this.perObjectFrustumCulled,u.sortObjects=this.sortObjects,u.drawRanges=this._drawRanges,u.reservedRanges=this._reservedRanges,u.visibility=this._visibility,u.active=this._active,u.bounds=this._bounds.map(function(t){return{boxInitialized:t.boxInitialized,boxMin:t.box.min.toArray(),boxMax:t.box.max.toArray(),sphereInitialized:t.sphereInitialized,sphereRadius:t.sphere.radius,sphereCenter:t.sphere.center.toArray()}}),u.maxGeometryCount=this._maxGeometryCount,u.maxVertexCount=this._maxVertexCount,u.maxIndexCount=this._maxIndexCount,u.geometryInitialized=this._geometryInitialized,u.geometryCount=this._geometryCount,u.matricesTexture=this._matricesTexture.toJSON(n),null!==this._colorsTexture&&(u.colorsTexture=this._colorsTexture.toJSON(n)),null!==this.boundingSphere&&(u.boundingSphere={center:u.boundingSphere.center.toArray(),radius:u.boundingSphere.radius}),null!==this.boundingBox)&&(u.boundingBox={min:u.boundingBox.min.toArray(),max:u.boundingBox.max.toArray()}),this.isScene)this.background&&(this.background.isColor?u.background=this.background.toJSON():this.background.isTexture&&(u.background=this.background.toJSON(n).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(u.environment=this.environment.toJSON(n).uuid);else if(this.isMesh||this.isLine||this.isPoints){u.geometry=c(n.geometries,this.geometry);var h=this.geometry.parameters;if(void 0!==h&&void 0!==h.shapes){var d=h.shapes;if(Array.isArray(d))for(var f=0,p=d.length;f<p;f++){var v=d[f];c(n.shapes,v)}else c(n.shapes,d)}}if(this.isSkinnedMesh&&(u.bindMode=this.bindMode,u.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton)&&(c(n.skeletons,this.skeleton),u.skeleton=this.skeleton.uuid),void 0!==this.material)if(Array.isArray(this.material)){for(var m=[],g=0,y=this.material.length;g<y;g++)m.push(c(n.materials,this.material[g]));u.material=m}else u.material=c(n.materials,this.material);if(0<this.children.length){u.children=[];for(var A=0;A<this.children.length;A++)u.children.push(this.children[A].toJSON(n).object)}if(0<this.animations.length){u.animations=[];for(var x=0;x<this.animations.length;x++){var w=this.animations[x];u.animations.push(c(n.animations,w))}}return s&&(h=b(n.geometries),s=b(n.materials),t=b(n.textures),e=b(n.images),i=b(n.shapes),r=b(n.skeletons),a=b(n.animations),o=b(n.nodes),0<h.length&&(l.geometries=h),0<s.length&&(l.materials=s),0<t.length&&(l.textures=t),0<e.length&&(l.images=e),0<i.length&&(l.shapes=i),0<r.length&&(l.skeletons=r),0<a.length&&(l.animations=a),0<o.length)&&(l.nodes=o),l.object=u,l;function b(t){var e,n=[];for(e in t){var i=t[e];delete i.metadata,n.push(i)}return n}}},{key:"clone",value:function(t){return(new this.constructor).copy(this,t)}},{key:"copy",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var i=t.children[n];this.add(i.clone())}return this}}]));function He(){Ht(this,He),(t=H(this,He)).isObject3D=!0,Object.defineProperty(t,"id",{value:Ce++}),t.uuid=J(),t.name="",t.type="Object3D",t.parent=null,t.children=[],t.up=He.DEFAULT_UP.clone();var t,e=new Vt,n=new Me,i=new Et,r=new Vt(1,1,1);return n._onChange(function(){i.setFromEuler(n,!1)}),i._onChange(function(){n.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(t,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new fe},normalMatrix:{value:new A}}),t.matrix=new fe,t.matrixWorld=new fe,t.matrixAutoUpdate=He.DEFAULT_MATRIX_AUTO_UPDATE,t.matrixWorldAutoUpdate=He.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,t.matrixWorldNeedsUpdate=!1,t.layers=new Se,t.visible=!0,t.castShadow=!1,t.receiveShadow=!1,t.frustumCulled=!0,t.renderOrder=0,t.animations=[],t.userData={},t}i.DEFAULT_UP=new Vt(0,1,0),i.DEFAULT_MATRIX_AUTO_UPDATE=!0,i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Ge=new Vt,Ve=new Vt,Qe=new Vt,je=new Vt,Xe=new Vt,We=new Vt,Ye=new Vt,Je=new Vt,Ke=new Vt,qe=new Vt,Ze=e(nn,[{key:"set",value:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}},{key:"setFromAttributeAndIndices",value:function(t,e,n,i){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,i),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}},{key:"getArea",value:function(){return Ge.subVectors(this.c,this.b),Ve.subVectors(this.a,this.b),.5*Ge.cross(Ve).length()}},{key:"getMidpoint",value:function(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return nn.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,e){return nn.getBarycoord(t,this.a,this.b,this.c,e)}},{key:"getInterpolation",value:function(t,e,n,i,r){return nn.getInterpolation(t,this.a,this.b,this.c,e,n,i,r)}},{key:"containsPoint",value:function(t){return nn.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return nn.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(t){return t.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(t,e){var n=this.a,i=this.b,r=this.c,a=(Xe.subVectors(i,n),We.subVectors(r,n),Je.subVectors(t,n),Xe.dot(Je)),o=We.dot(Je);if(a<=0&&o<=0)return e.copy(n);Ke.subVectors(t,i);var s=Xe.dot(Ke),l=We.dot(Ke);if(0<=s&&l<=s)return e.copy(i);var u=a*l-s*o;if(u<=0&&0<=a&&s<=0)return c=a/(a-s),e.copy(n).addScaledVector(Xe,c);qe.subVectors(t,r);var c,h,t=Xe.dot(qe),d=We.dot(qe);return 0<=d&&t<=d?e.copy(r):(a=t*o-a*d)<=0&&0<=o&&d<=0?(h=o/(o-d),e.copy(n).addScaledVector(We,h)):(o=s*d-t*l)<=0&&0<=l-s&&0<=t-d?(Ye.subVectors(r,i),h=(l-s)/(l-s+(t-d)),e.copy(i).addScaledVector(Ye,h)):(c=a*(r=1/(o+a+u)),h=u*r,e.copy(n).addScaledVector(Xe,c).addScaledVector(We,h))}},{key:"equals",value:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}],[{key:"getNormal",value:function(t,e,n,i){i.subVectors(n,e),Ge.subVectors(t,e),i.cross(Ge);n=i.lengthSq();return 0<n?i.multiplyScalar(1/Math.sqrt(n)):i.set(0,0,0)}},{key:"getBarycoord",value:function(t,e,n,i,r){Ge.subVectors(i,e),Ve.subVectors(n,e),Qe.subVectors(t,e);var i=Ge.dot(Ge),n=Ge.dot(Ve),t=Ge.dot(Qe),e=Ve.dot(Ve),a=Ve.dot(Qe),o=i*e-n*n;return 0==o?(r.set(0,0,0),null):r.set(1-(e=(e*t-n*a)*(r=1/o))-(o=(i*a-n*t)*r),o,e)}},{key:"containsPoint",value:function(t,e,n,i){return null!==this.getBarycoord(t,e,n,i,je)&&0<=je.x&&0<=je.y&&je.x+je.y<=1}},{key:"getInterpolation",value:function(t,e,n,i,r,a,o,s){return null===this.getBarycoord(t,e,n,i,je)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(r,je.x),s.addScaledVector(a,je.y),s.addScaledVector(o,je.z),s)}},{key:"isFrontFacing",value:function(t,e,n,i){return Ge.subVectors(n,e),Ve.subVectors(t,e),Ge.cross(Ve).dot(i)<0}}]),$e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},tn={h:0,s:0,l:0},en={h:0,s:0,l:0};function nn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Vt,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Vt,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Vt;Ht(this,nn),this.a=t,this.b=e,this.c=n}function rn(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}var Qt=e(function t(e,n,i){return Ht(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)},[{key:"set",value:function(t,e,n){var i;return void 0===e&&void 0===n?(i=t)&&i.isColor?this.copy(i):"number"==typeof i?this.setHex(i):"string"==typeof i&&this.setStyle(i):this.setRGB(t,e,n),this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"srgb";return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Gt.toWorkingColorSpace(this,e),this}},{key:"setRGB",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Gt.workingColorSpace;return this.r=t,this.g=e,this.b=n,Gt.toWorkingColorSpace(this,i),this}},{key:"setHSL",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Gt.workingColorSpace;return t=q(t,1),e=K(e,0,1),n=K(n,0,1),0===e?this.r=this.g=this.b=n:(this.r=rn(e=2*n-(n=n<=.5?n*(1+e):n+e-n*e),n,t+1/3),this.g=rn(e,n,t),this.b=rn(e,n,t-1/3)),Gt.toWorkingColorSpace(this,i),this}},{key:"setStyle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"srgb";function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,r=o[1],a=o[2];switch(r){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,t);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,t);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){var r=o[1],o=r.length;if(3===o)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&0<e.length)return this.setColorName(e,t);return this}},{key:"setColorName",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"srgb",n=$e[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copySRGBToLinear",value:function(t){return this.r=ft(t.r),this.g=ft(t.g),this.b=ft(t.b),this}},{key:"copyLinearToSRGB",value:function(t){return this.r=pt(t.r),this.g=pt(t.g),this.b=pt(t.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"srgb";return Gt.fromWorkingColorSpace(an.copy(this),t),65536*Math.round(K(255*an.r,0,255))+256*Math.round(K(255*an.g,0,255))+Math.round(K(255*an.b,0,255))}},{key:"getHexString",value:function(){return("000000"+this.getHex(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"srgb").toString(16)).slice(-6)}},{key:"getHSL",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Gt.workingColorSpace;Gt.fromWorkingColorSpace(an.copy(this),e);var n,i=an.r,r=an.g,a=an.b,e=Math.max(i,r,a),o=Math.min(i,r,a),s=(o+e)/2;if(o===e)u=n=0;else{var l=e-o,u=s<=.5?l/(e+o):l/(2-e-o);switch(e){case i:n=(r-a)/l+(r<a?6:0);break;case r:n=(a-i)/l+2;break;case a:n=(i-r)/l+4}n/=6}return t.h=n,t.s=u,t.l=s,t}},{key:"getRGB",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Gt.workingColorSpace;return Gt.fromWorkingColorSpace(an.copy(this),e),t.r=an.r,t.g=an.g,t.b=an.b,t}},{key:"getStyle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"srgb",e=(Gt.fromWorkingColorSpace(an.copy(this),t),an.r),n=an.g,i=an.b;return"srgb"!==t?"color(".concat(t," ").concat(e.toFixed(3)," ").concat(n.toFixed(3)," ").concat(i.toFixed(3),")"):"rgb(".concat(Math.round(255*e),",").concat(Math.round(255*n),",").concat(Math.round(255*i),")")}},{key:"offsetHSL",value:function(t,e,n){return this.getHSL(tn),this.setHSL(tn.h+t,tn.s+e,tn.l+n)}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(t){return this.r+=t,this.g+=t,this.b+=t,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"lerpColors",value:function(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}},{key:"lerpHSL",value:function(t,e){this.getHSL(tn),t.getHSL(en);var t=et(tn.h,en.h,e),n=et(tn.s,en.s,e),e=et(tn.l,en.l,e);return this.setHSL(t,n,e),this}},{key:"setFromVector3",value:function(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}},{key:"applyMatrix3",value:function(t){var e=this.r,n=this.g,i=this.b,t=t.elements;return this.r=t[0]*e+t[3]*n+t[6]*i,this.g=t[1]*e+t[4]*n+t[7]*i,this.b=t[2]*e+t[5]*n+t[8]*i,this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},{key:"fromBufferAttribute",value:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:Xt().mark(function t(){return Xt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.r;case 2:return t.next=4,this.g;case 4:return t.next=6,this.b;case 6:case"end":return t.stop()}},t,this)})}]),an=new Qt,on=(Qt.NAMES=$e,0),sn=(t(cn,n),e(cn,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(t){0<this._alphaTest!=0<t&&this.version++,this._alphaTest=t}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(t){if(void 0!==t)for(var e in t){var n,i=t[e];void 0!==i?void 0!==(n=this[e])?n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[e]=i:console.warn("THREE.Material: '".concat(e,"' is not a property of THREE.").concat(this.type,".")):console.warn("THREE.Material: parameter '".concat(e,"' has value of undefined."))}}},{key:"toJSON",value:function(t){var e=void 0===t||"string"==typeof t,n=(e&&(t={textures:{},images:{}}),{metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}});function i(t){var e,n=[];for(e in t){var i=t[e];delete i.metadata,n.push(i)}return n}return n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine)&&(n.combine=this.combine),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),100!==this.blendEquation&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),7680!==this.stencilFail&&(n.stencilFail=this.stencilFail),7680!==this.stencilZFail&&(n.stencilZFail=this.stencilZFail),7680!==this.stencilZPass&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),0<Object.keys(this.userData).length&&(n.userData=this.userData),e&&(e=i(t.textures),t=i(t.images),0<e.length&&(n.textures=e),0<t.length)&&(n.images=t),n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,n=null;if(null!==e)for(var i=e.length,n=new Array(i),r=0;r!==i;++r)n[r]=e[r].clone();return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}}])),ln=(t(un,sn),e(un,[{key:"copy",value:function(t){return o(s(un.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}]));function un(t){var e;return Ht(this,un),(e=H(this,un)).isMeshBasicMaterial=!0,e.type="MeshBasicMaterial",e.color=new Qt(16777215),e.map=null,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=null,e.aoMapIntensity=1,e.specularMap=null,e.alphaMap=null,e.envMap=null,e.envMapRotation=new Me,e.combine=0,e.reflectivity=1,e.refractionRatio=.98,e.wireframe=!1,e.wireframeLinewidth=1,e.wireframeLinecap="round",e.wireframeLinejoin="round",e.fog=!0,e.setValues(t),e}function cn(){var t;return Ht(this,cn),(t=H(this,cn)).isMaterial=!0,Object.defineProperty(t,"id",{value:on++}),t.uuid=J(),t.name="",t.type="Material",t.blending=1,t.side=0,t.vertexColors=!1,t.opacity=1,t.transparent=!1,t.alphaHash=!1,t.blendSrc=204,t.blendDst=205,t.blendEquation=100,t.blendSrcAlpha=null,t.blendDstAlpha=null,t.blendEquationAlpha=null,t.blendColor=new Qt(0,0,0),t.blendAlpha=0,t.depthFunc=3,t.depthTest=!0,t.depthWrite=!0,t.stencilWriteMask=255,t.stencilFunc=519,t.stencilRef=0,t.stencilFuncMask=255,t.stencilFail=7680,t.stencilZFail=7680,t.stencilZPass=7680,t.stencilWrite=!1,t.clippingPlanes=null,t.clipIntersection=!1,t.clipShadows=!1,t.shadowSide=null,t.colorWrite=!0,t.precision=null,t.polygonOffset=!1,t.polygonOffsetFactor=0,t.polygonOffsetUnits=0,t.dithering=!1,t.alphaToCoverage=!1,t.premultipliedAlpha=!1,t.forceSinglePass=!1,t.visible=!0,t.toneMapped=!0,t.userData={},t.version=0,t._alphaTest=0,t}var hn=new Vt,dn=new $,fn=e(function t(e,n){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(Ht(this,t),Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=void 0!==e?e.length/n:0,this.normalized=i,this.usage=35044,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=1015,this.version=0},[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"updateRange",get:function(){return st("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}},{key:"setUsage",value:function(t){return this.usage=t,this}},{key:"addUpdateRange",value:function(t,e){this.updateRanges.push({start:t,count:e})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}},{key:"copyAt",value:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this}},{key:"copyArray",value:function(t){return this.array.set(t),this}},{key:"applyMatrix3",value:function(t){if(2===this.itemSize)for(var e=0,n=this.count;e<n;e++)dn.fromBufferAttribute(this,e),dn.applyMatrix3(t),this.setXY(e,dn.x,dn.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)hn.fromBufferAttribute(this,i),hn.applyMatrix3(t),this.setXYZ(i,hn.x,hn.y,hn.z);return this}},{key:"applyMatrix4",value:function(t){for(var e=0,n=this.count;e<n;e++)hn.fromBufferAttribute(this,e),hn.applyMatrix4(t),this.setXYZ(e,hn.x,hn.y,hn.z);return this}},{key:"applyNormalMatrix",value:function(t){for(var e=0,n=this.count;e<n;e++)hn.fromBufferAttribute(this,e),hn.applyNormalMatrix(t),this.setXYZ(e,hn.x,hn.y,hn.z);return this}},{key:"transformDirection",value:function(t){for(var e=0,n=this.count;e<n;e++)hn.fromBufferAttribute(this,e),hn.transformDirection(t),this.setXYZ(e,hn.x,hn.y,hn.z);return this}},{key:"set",value:function(t){return this.array.set(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0),this}},{key:"getComponent",value:function(t,e){t=this.array[t*this.itemSize+e];return t=this.normalized?nt(t,this.array):t}},{key:"setComponent",value:function(t,e,n){return this.normalized&&(n=it(n,this.array)),this.array[t*this.itemSize+e]=n,this}},{key:"getX",value:function(t){t=this.array[t*this.itemSize];return t=this.normalized?nt(t,this.array):t}},{key:"setX",value:function(t,e){return this.normalized&&(e=it(e,this.array)),this.array[t*this.itemSize]=e,this}},{key:"getY",value:function(t){t=this.array[t*this.itemSize+1];return t=this.normalized?nt(t,this.array):t}},{key:"setY",value:function(t,e){return this.normalized&&(e=it(e,this.array)),this.array[t*this.itemSize+1]=e,this}},{key:"getZ",value:function(t){t=this.array[t*this.itemSize+2];return t=this.normalized?nt(t,this.array):t}},{key:"setZ",value:function(t,e){return this.normalized&&(e=it(e,this.array)),this.array[t*this.itemSize+2]=e,this}},{key:"getW",value:function(t){t=this.array[t*this.itemSize+3];return t=this.normalized?nt(t,this.array):t}},{key:"setW",value:function(t,e){return this.normalized&&(e=it(e,this.array)),this.array[t*this.itemSize+3]=e,this}},{key:"setXY",value:function(t,e,n){return t*=this.itemSize,this.normalized&&(e=it(e,this.array),n=it(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}},{key:"setXYZ",value:function(t,e,n,i){return t*=this.itemSize,this.normalized&&(e=it(e,this.array),n=it(n,this.array),i=it(i,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this}},{key:"setXYZW",value:function(t,e,n,i,r){return t*=this.itemSize,this.normalized&&(e=it(e,this.array),n=it(n,this.array),i=it(i,this.array),r=it(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this}},{key:"onUpload",value:function(t){return this.onUploadCallback=t,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),t}}]),pn=(t(Wn,fn),e(Wn)),vn=(t(Xn,fn),e(Xn)),mn=(t(jn,fn),e(jn)),gn=0,yn=new fe,An=new i,xn=new Vt,wn=new Tt,bn=new Tt,Mn=new Vt,En=(t(Qn,n),e(Qn,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){return Array.isArray(t)?this.index=new(at(t)?vn:pn)(t,1):this.index=t,this}},{key:"getAttribute",value:function(t){return this.attributes[t]}},{key:"setAttribute",value:function(t,e){return this.attributes[t]=e,this}},{key:"deleteAttribute",value:function(t){return delete this.attributes[t],this}},{key:"hasAttribute",value:function(t){return void 0!==this.attributes[t]}},{key:"addGroup",value:function(t,e){this.groups.push({start:t,count:e,materialIndex:2<arguments.length&&void 0!==arguments[2]?arguments[2]:0})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(t,e){this.drawRange.start=t,this.drawRange.count=e}},{key:"applyMatrix4",value:function(t){var e=this.attributes.position,e=(void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0),this.attributes.normal),n=(void 0!==e&&(n=(new A).getNormalMatrix(t),e.applyNormalMatrix(n),e.needsUpdate=!0),this.attributes.tangent);return void 0!==n&&(n.transformDirection(t),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(t){return yn.makeRotationFromQuaternion(t),this.applyMatrix4(yn),this}},{key:"rotateX",value:function(t){return yn.makeRotationX(t),this.applyMatrix4(yn),this}},{key:"rotateY",value:function(t){return yn.makeRotationY(t),this.applyMatrix4(yn),this}},{key:"rotateZ",value:function(t){return yn.makeRotationZ(t),this.applyMatrix4(yn),this}},{key:"translate",value:function(t,e,n){return yn.makeTranslation(t,e,n),this.applyMatrix4(yn),this}},{key:"scale",value:function(t,e,n){return yn.makeScale(t,e,n),this.applyMatrix4(yn),this}},{key:"lookAt",value:function(t){return An.lookAt(t),An.updateMatrix(),this.applyMatrix4(An.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(xn).negate(),this.translate(xn.x,xn.y,xn.z),this}},{key:"setFromPoints",value:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new mn(e,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Tt);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vt(-1/0,-1/0,-1/0),new Vt(1/0,1/0,1/0));else{if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,i=e.length;n<i;n++){var r=e[n];wn.setFromBufferAttribute(r),this.morphTargetsRelative?(Mn.addVectors(this.boundingBox.min,wn.min),this.boundingBox.expandByPoint(Mn),Mn.addVectors(this.boundingBox.max,wn.max),this.boundingBox.expandByPoint(Mn)):(this.boundingBox.expandByPoint(wn.min),this.boundingBox.expandByPoint(wn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new re);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vt,1/0);else if(t){var n=this.boundingSphere.center;if(wn.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++){var a=e[i];bn.setFromBufferAttribute(a),this.morphTargetsRelative?(Mn.addVectors(wn.min,bn.min),wn.expandByPoint(Mn),Mn.addVectors(wn.max,bn.max),wn.expandByPoint(Mn)):(wn.expandByPoint(bn.min),wn.expandByPoint(bn.max))}wn.getCenter(n);for(var o=0,s=0,l=t.count;s<l;s++)Mn.fromBufferAttribute(t,s),o=Math.max(o,n.distanceToSquared(Mn));if(e)for(var u=0,c=e.length;u<c;u++)for(var h=e[u],d=this.morphTargetsRelative,f=0,p=h.count;f<p;f++)Mn.fromBufferAttribute(h,f),d&&(xn.fromBufferAttribute(t,f),Mn.add(xn)),o=Math.max(o,n.distanceToSquared(Mn));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var t,e,n,i,r=this.index,a=this.attributes;if(null!==r&&void 0!==a.position&&void 0!==a.normal&&void 0!==a.uv){var o=a.position,s=a.normal,l=a.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new fn(new Float32Array(4*o.count),4));for(var u=this.getAttribute("tangent"),c=[],h=[],d=0;d<o.count;d++)c[d]=new Vt,h[d]=new Vt;for(var f=new Vt,p=new Vt,v=new Vt,m=new $,g=new $,y=new $,A=new Vt,x=new Vt,w=this.groups,b=0,M=(w=0===w.length?[{start:0,count:r.count}]:w).length;b<M;++b)for(var E=w[b],S=E.start,C=S,O=S+E.count;C<O;C+=3)t=r.getX(C+0),e=r.getX(C+1),n=r.getX(C+2),i=void 0,f.fromBufferAttribute(o,t),p.fromBufferAttribute(o,e),v.fromBufferAttribute(o,n),m.fromBufferAttribute(l,t),g.fromBufferAttribute(l,e),y.fromBufferAttribute(l,n),p.sub(f),v.sub(f),g.sub(m),y.sub(m),i=1/(g.x*y.y-y.x*g.y),isFinite(i)&&(A.copy(p).multiplyScalar(y.y).addScaledVector(v,-g.y).multiplyScalar(i),x.copy(v).multiplyScalar(g.x).addScaledVector(p,-y.x).multiplyScalar(i),c[t].add(A),c[e].add(A),c[n].add(A),h[t].add(x),h[e].add(x),h[n].add(x));for(var T=new Vt,_=new Vt,k=new Vt,P=new Vt,R=0,U=w.length;R<U;++R)for(var D=w[R],B=D.start,L=B,N=B+D.count;L<N;L+=3)I(r.getX(L+0)),I(r.getX(L+1)),I(r.getX(L+2))}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function I(t){k.fromBufferAttribute(s,t),P.copy(k);var e=c[t],e=(T.copy(e),T.sub(k.multiplyScalar(k.dot(e))).normalize(),_.crossVectors(P,e),_.dot(h[t])<0?-1:1);u.setXYZW(t,T.x,T.y,T.z,e)}}},{key:"computeVertexNormals",value:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var n=this.getAttribute("normal");if(void 0===n)n=new fn(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var a=new Vt,o=new Vt,s=new Vt,l=new Vt,u=new Vt,c=new Vt,h=new Vt,d=new Vt;if(t)for(var f=0,p=t.count;f<p;f+=3){var v=t.getX(f+0),m=t.getX(f+1),g=t.getX(f+2);a.fromBufferAttribute(e,v),o.fromBufferAttribute(e,m),s.fromBufferAttribute(e,g),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),l.add(h),u.add(h),c.add(h),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,A=e.count;y<A;y+=3)a.fromBufferAttribute(e,y+0),o.fromBufferAttribute(e,y+1),s.fromBufferAttribute(e,y+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)Mn.fromBufferAttribute(t,e),Mn.normalize(),t.setXYZ(e,Mn.x,Mn.y,Mn.z)}},{key:"toNonIndexed",value:function(){function t(t,e){for(var n=t.array,i=t.itemSize,r=t.normalized,a=new n.constructor(e.length*i),o=0,s=0,l=0,u=e.length;l<u;l++)for(var o=t.isInterleavedBufferAttribute?e[l]*t.data.stride+t.offset:e[l]*i,c=0;c<i;c++)a[s++]=n[o++];return new fn(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var e,n=new Qn,i=this.index.array,r=this.attributes;for(e in r){var a=t(r[e],i);n.setAttribute(e,a)}var o,s=this.morphAttributes;for(o in s){for(var l=[],u=s[o],c=0,h=u.length;c<h;c++){var d=t(u[c],i);l.push(d)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,p=0,v=f.length;p<v;p++){var m=f[p];n.addGroup(m.start,m.count,m.materialIndex)}return n}},{key:"toJSON",value:function(){var t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),0<Object.keys(this.userData).length&&(t.userData=this.userData),void 0!==this.parameters){var e,n=this.parameters;for(e in n)void 0!==n[e]&&(t[e]=n[e])}else{t.data={attributes:{}};var i,r=this.index,a=(null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)}),this.attributes);for(i in a){var o=a[i];t.data.attributes[i]=o.toJSON(t.data)}var s,l={},u=!1;for(s in this.morphAttributes){for(var c=this.morphAttributes[s],h=[],d=0,f=c.length;d<f;d++){var p=c[d];h.push(p.toJSON(t.data))}0<h.length&&(l[s]=h,u=!0)}u&&(t.data.morphAttributes=l,t.data.morphTargetsRelative=this.morphTargetsRelative);r=this.groups,r=(0<r.length&&(t.data.groups=JSON.parse(JSON.stringify(r))),this.boundingSphere);null!==r&&(t.data.boundingSphere={center:r.center.toArray(),radius:r.radius})}return t}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var e,n={},i=(this.name=t.name,t.index),r=(null!==i&&this.setIndex(i.clone(n)),t.attributes);for(e in r){var a=r[e];this.setAttribute(e,a.clone(n))}var o,s=t.morphAttributes;for(o in s){for(var l=[],u=s[o],c=0,h=u.length;c<h;c++)l.push(u[c].clone(n));this.morphAttributes[o]=l}this.morphTargetsRelative=t.morphTargetsRelative;for(var d=t.groups,f=0,p=d.length;f<p;f++){var v=d[f];this.addGroup(v.start,v.count,v.materialIndex)}i=t.boundingBox,null!==i&&(this.boundingBox=i.clone()),i=t.boundingSphere;return null!==i&&(this.boundingSphere=i.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}])),Sn=new fe,Cn=new de,Tn=new re,_n=new Vt,kn=new Vt,Pn=new Vt,Rn=new Vt,Dn=new Vt,Bn=new Vt,Ln=new $,In=new $,On=new $,Un=new Vt,Nn=new Vt,zn=new Vt,Fn=new Vt,Hn=new Vt,Gn=(t(Vn,i),e(Vn,[{key:"copy",value:function(t,e){return o(s(Vn.prototype),"copy",this).call(this,t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}},{key:"updateMorphTargets",value:function(){var t=this.geometry.morphAttributes,e=Object.keys(t);if(0<e.length){var n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}},{key:"getVertexPosition",value:function(t,e){var n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,a=n.morphTargetsRelative,o=(e.fromBufferAttribute(i,t),this.morphTargetInfluences);if(r&&o){Bn.set(0,0,0);for(var s=0,l=r.length;s<l;s++){var u=o[s],c=r[s];0!==u&&(Dn.fromBufferAttribute(c,t),a?Bn.addScaledVector(Dn,u):Bn.addScaledVector(Dn.sub(e),u))}e.add(Bn)}return e}},{key:"raycast",value:function(t,e){var n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),Tn.copy(n.boundingSphere),Tn.applyMatrix4(r),Cn.copy(t.ray).recast(t.near),!1===Tn.containsPoint(Cn.origin)){if(null===Cn.intersectSphere(Tn,_n))return;if(Cn.origin.distanceToSquared(_n)>Math.pow(t.far-t.near,2))return}Sn.copy(r).invert(),Cn.copy(t.ray).applyMatrix4(Sn),null!==n.boundingBox&&!1===Cn.intersectsBox(n.boundingBox)||this._computeIntersections(t,e,Cn)}}},{key:"_computeIntersections",value:function(t,e,n){var i,r=this.geometry,a=this.material,o=r.index,s=r.attributes.position,l=r.attributes.uv,u=r.attributes.uv1,c=r.attributes.normal,h=r.groups,d=r.drawRange;if(null!==o)if(Array.isArray(a))for(var f=0,p=h.length;f<p;f++)for(var v=h[f],m=a[v.materialIndex],g=Math.max(v.start,d.start),y=Math.min(o.count,Math.min(v.start+v.count,d.start+d.count));g<y;g+=3)(i=Yn(this,m,t,n,l,u,c,o.getX(g),o.getX(g+1),o.getX(g+2)))&&(i.faceIndex=Math.floor(g/3),i.face.materialIndex=v.materialIndex,e.push(i));else for(var A=Math.max(0,d.start),x=Math.min(o.count,d.start+d.count);A<x;A+=3)(i=Yn(this,a,t,n,l,u,c,o.getX(A),o.getX(A+1),o.getX(A+2)))&&(i.faceIndex=Math.floor(A/3),e.push(i));else if(void 0!==s)if(Array.isArray(a))for(var w=0,b=h.length;w<b;w++)for(var M=h[w],E=a[M.materialIndex],S=Math.max(M.start,d.start),C=Math.min(s.count,Math.min(M.start+M.count,d.start+d.count));S<C;S+=3)(i=Yn(this,E,t,n,l,u,c,S,S+1,S+2))&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=M.materialIndex,e.push(i));else for(var T=Math.max(0,d.start),_=Math.min(s.count,d.start+d.count);T<_;T+=3)(i=Yn(this,a,t,n,l,u,c,T,T+1,T+2))&&(i.faceIndex=Math.floor(T/3),e.push(i))}}]));function Vn(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new En,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ln;return Ht(this,Vn),(t=H(this,Vn)).isMesh=!0,t.type="Mesh",t.geometry=e,t.material=n,t.updateMorphTargets(),t}function Qn(){var t;return Ht(this,Qn),(t=H(this,Qn)).isBufferGeometry=!0,Object.defineProperty(t,"id",{value:gn++}),t.uuid=J(),t.name="",t.type="BufferGeometry",t.index=null,t.attributes={},t.morphAttributes={},t.morphTargetsRelative=!1,t.groups=[],t.boundingBox=null,t.boundingSphere=null,t.drawRange={start:0,count:1/0},t.userData={},t}function jn(t,e,n){return Ht(this,jn),H(this,jn,[new Float32Array(t),e,n])}function Xn(t,e,n){return Ht(this,Xn),H(this,Xn,[new Uint32Array(t),e,n])}function Wn(t,e,n){return Ht(this,Wn),H(this,Wn,[new Uint16Array(t),e,n])}function Yn(t,e,n,i,r,a,o,s,l,u){t.getVertexPosition(s,kn),t.getVertexPosition(l,Pn),t.getVertexPosition(u,Rn);t=function(t,e,n,i,r,a,o,s){if(null===(1===e.side?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,0===e.side,s)))return null;Hn.copy(s),Hn.applyMatrix4(t.matrixWorld);i=n.ray.origin.distanceTo(Hn);return i<n.near||i>n.far?null:{distance:i,point:Hn.clone(),object:t}}(t,e,n,i,kn,Pn,Rn,Fn);return t&&(r&&(Ln.fromBufferAttribute(r,s),In.fromBufferAttribute(r,l),On.fromBufferAttribute(r,u),t.uv=Ze.getInterpolation(Fn,kn,Pn,Rn,Ln,In,On,new $)),a&&(Ln.fromBufferAttribute(a,s),In.fromBufferAttribute(a,l),On.fromBufferAttribute(a,u),t.uv1=Ze.getInterpolation(Fn,kn,Pn,Rn,Ln,In,On,new $)),o&&(Un.fromBufferAttribute(o,s),Nn.fromBufferAttribute(o,l),zn.fromBufferAttribute(o,u),t.normal=Ze.getInterpolation(Fn,kn,Pn,Rn,Un,Nn,zn,new Vt),0<t.normal.dot(i.direction))&&t.normal.multiplyScalar(-1),e={a:s,b:l,c:u,normal:new Vt,materialIndex:0},Ze.getNormal(kn,Pn,Rn,e.normal),t.face=e),t}t(Kn,En);var Jn=e(Kn,[{key:"copy",value:function(t){return o(s(Kn.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}],[{key:"fromJSON",value:function(t){return new Kn(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}]);function Kn(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1,P=(Ht(this,Kn),(t=H(this,Kn)).type="BoxGeometry",t.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:o},t),r=Math.floor(r),a=Math.floor(a),o=Math.floor(o),R=[],D=[],B=[],L=[],I=0,O=0;function s(t,e,n,i,r,a,o,s,l,u,c){for(var h=a/l,d=o/u,f=a/2,p=o/2,v=s/2,m=l+1,g=u+1,y=0,A=0,x=new Vt,w=0;w<g;w++)for(var b=w*d-p,M=0;M<m;M++)x[t]=(M*h-f)*i,x[e]=b*r,x[n]=v,D.push(x.x,x.y,x.z),x[t]=0,x[e]=0,x[n]=0<s?1:-1,B.push(x.x,x.y,x.z),L.push(M/l),L.push(1-w/u),y+=1;for(var E=0;E<u;E++)for(var S=0;S<l;S++){var C=I+S+m*E,T=I+S+m*(E+1),_=I+(S+1)+m*(E+1),k=I+(S+1)+m*E;R.push(C,T,k),R.push(T,_,k),A+=6}P.addGroup(O,A,c),O+=A,I+=y}return s("z","y","x",-1,-1,i,n,e,o,a,0),s("z","y","x",1,-1,i,n,-e,o,a,1),s("x","z","y",1,1,e,i,n,r,o,2),s("x","z","y",1,-1,e,i,-n,r,o,3),s("x","y","z",1,-1,e,n,i,r,a,4),s("x","y","z",-1,-1,e,n,-i,r,a,5),t.setIndex(R),t.setAttribute("position",new mn(D,3)),t.setAttribute("normal",new mn(B,3)),t.setAttribute("uv",new mn(L,2)),t}function qn(t){var e,n={};for(e in t)for(var i in n[e]={},t[e]){var r=t[e][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),n[e][i]=null):n[e][i]=r.clone():Array.isArray(r)?n[e][i]=r.slice():n[e][i]=r}return n}function Zn(t){for(var e={},n=0;n<t.length;n++){var i,r=qn(t[n]);for(i in r)e[i]=r[i]}return e}function $n(t){var e=t.getRenderTarget();return null===e?t.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:Gt.workingColorSpace}var ti={clone:qn,merge:Zn},ei=(t(bi,sn),e(bi,[{key:"copy",value:function(t){return o(s(bi.prototype),"copy",this).call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=qn(t.uniforms),this.uniformsGroups=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].clone());return e}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}},{key:"toJSON",value:function(t){var e,n=o(s(bi.prototype),"toJSON",this).call(this,t);for(e in n.glslVersion=this.glslVersion,n.uniforms={},this.uniforms){var i=this.uniforms[e].value;i&&i.isTexture?n.uniforms[e]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?n.uniforms[e]={type:"c",value:i.getHex()}:i&&i.isVector2?n.uniforms[e]={type:"v2",value:i.toArray()}:i&&i.isVector3?n.uniforms[e]={type:"v3",value:i.toArray()}:i&&i.isVector4?n.uniforms[e]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?n.uniforms[e]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?n.uniforms[e]={type:"m4",value:i.toArray()}:n.uniforms[e]={value:i}}0<Object.keys(this.defines).length&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;var r,a={};for(r in this.extensions)!0===this.extensions[r]&&(a[r]=!0);return 0<Object.keys(a).length&&(n.extensions=a),n}}])),ni=(t(wi,i),e(wi,[{key:"copy",value:function(t,e){return o(s(wi.prototype),"copy",this).call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}},{key:"getWorldDirection",value:function(t){return o(s(wi.prototype),"getWorldDirection",this).call(this,t).negate()}},{key:"updateMatrixWorld",value:function(t){o(s(wi.prototype),"updateMatrixWorld",this).call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(t,e){o(s(wi.prototype),"updateWorldMatrix",this).call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])),ii=new Vt,ri=new $,ai=new $,oi=(t(xi,ni),e(xi,[{key:"copy",value:function(t,e){return o(s(xi.prototype),"copy",this).call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}},{key:"setFocalLength",value:function(t){t=.5*this.getFilmHeight()/t;this.fov=2*Y*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var t=Math.tan(.5*W*this.fov);return.5*this.getFilmHeight()/t}},{key:"getEffectiveFOV",value:function(){return 2*Y*Math.atan(Math.tan(.5*W*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"getViewBounds",value:function(t,e,n){ii.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(ii.x,ii.y).multiplyScalar(-t/ii.z),ii.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ii.x,ii.y).multiplyScalar(-t/ii.z)}},{key:"getViewSize",value:function(t,e){return this.getViewBounds(t,ri,ai),e.subVectors(ai,ri)}},{key:"setViewOffset",value:function(t,e,n,i,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t,e=this.near,n=e*Math.tan(.5*W*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r,o=this.view,s=(null!==this.view&&this.view.enabled&&(s=o.fullWidth,t=o.fullHeight,a+=o.offsetX*r/s,n-=o.offsetY*i/t,r*=o.width/s,i*=o.height/t),this.filmOffset);0!==s&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){t=o(s(xi.prototype),"toJSON",this).call(this,t);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}])),si=(t(Ai,i),e(Ai,[{key:"updateCoordinateSystem",value:function(){var t,e=this.coordinateSystem,n=this.children.concat(),i=L(n,6),r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],i=i[5],u=tt(n);try{for(u.s();!(t=u.n()).done;){var c=t.value;this.remove(c)}}catch(t){u.e(t)}finally{u.f()}if(2e3===e)r.up.set(0,1,0),r.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),i.up.set(0,1,0);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);r.up.set(0,-1,0),r.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),i.up.set(0,-1,0)}i.lookAt(0,0,-1);var h,d=tt(n);try{for(d.s();!(h=d.n()).done;){var f=h.value;this.add(f),f.updateMatrixWorld()}}catch(t){d.e(t)}finally{d.f()}}},{key:"update",value:function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=this.activeMipmapLevel,r=(this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem()),L(this.children,6)),a=r[0],o=r[1],s=r[2],l=r[3],u=r[4],r=r[5],c=t.getRenderTarget(),h=t.getActiveCubeFace(),d=t.getActiveMipmapLevel(),f=t.xr.enabled,p=(t.xr.enabled=!1,n.texture.generateMipmaps);n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,i),t.render(e,a),t.setRenderTarget(n,1,i),t.render(e,o),t.setRenderTarget(n,2,i),t.render(e,s),t.setRenderTarget(n,3,i),t.render(e,l),t.setRenderTarget(n,4,i),t.render(e,u),n.texture.generateMipmaps=p,t.setRenderTarget(n,5,i),t.render(e,r),t.setRenderTarget(c,h,d),t.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}])),li=(t(yi,xt),e(yi,[{key:"images",get:function(){return this.image},set:function(t){this.image=t}}])),ui=(t(gi,Jt),e(gi,[{key:"fromEquirectangularTexture",value:function(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;var n=new Jn(5,5,5),i=new ei({name:"CubemapFromEquirect",uniforms:qn({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0}),n=(i.uniforms.tEquirect.value=e,new Gn(n,i)),i=e.minFilter;return 1008===e.minFilter&&(e.minFilter=1006),new si(1,10,this).update(t,n),e.minFilter=i,n.geometry.dispose(),n.material.dispose(),this}},{key:"clear",value:function(t,e,n,i){for(var r=t.getRenderTarget(),a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,n,i);t.setRenderTarget(r)}}])),ci=new Vt,hi=new Vt,di=new A,fi=e(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Vt(1,0,0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;Ht(this,t),this.isPlane=!0,this.normal=e,this.constant=n},[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(t,e,n){n=ci.subVectors(n,e).cross(hi.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(n,t),this}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}},{key:"intersectLine",value:function(t,e){var n=t.delta(ci),i=this.normal.dot(n);return 0===i?0===this.distanceToPoint(t.start)?e.copy(t.start):null:(i=-(t.start.dot(this.normal)+this.constant)/i)<0||1<i?null:e.copy(t.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(t){var e=this.distanceToPoint(t.start),t=this.distanceToPoint(t.end);return e<0&&0<t||t<0&&0<e}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){e=e||di.getNormalMatrix(t),t=this.coplanarPoint(ci).applyMatrix4(t),e=this.normal.applyMatrix3(e).normalize();return this.constant=-t.dot(e),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),pi=new re,vi=new Vt,mi=e(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new fi,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new fi,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new fi,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new fi,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:new fi,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:new fi;Ht(this,t),this.planes=[e,n,i,r,a,o]},[{key:"set",value:function(t,e,n,i,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}},{key:"copy",value:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2e3,n=this.planes,t=t.elements,i=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],f=t[10],p=t[11],v=t[12],m=t[13],g=t[14],t=t[15];if(n[0].setComponents(o-i,c-s,p-h,t-v).normalize(),n[1].setComponents(o+i,c+s,p+h,t+v).normalize(),n[2].setComponents(o+r,c+l,p+d,t+m).normalize(),n[3].setComponents(o-r,c-l,p-d,t-m).normalize(),n[4].setComponents(o-a,c-u,p-f,t-g).normalize(),2e3===e)n[5].setComponents(o+a,c+u,p+f,t+g).normalize();else{if(2001!==e)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);n[5].setComponents(a,u,f,g).normalize()}return this}},{key:"intersectsObject",value:function(t){var e;return(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),pi.copy(t.boundingSphere)):(null===(e=t.geometry).boundingSphere&&e.computeBoundingSphere(),pi.copy(e.boundingSphere))).applyMatrix4(t.matrixWorld),this.intersectsSphere(pi)}},{key:"intersectsSprite",value:function(t){return pi.center.set(0,0,0),pi.radius=.7071067811865476,pi.applyMatrix4(t.matrixWorld),this.intersectsSphere(pi)}},{key:"intersectsSphere",value:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++)if(e[r].distanceToPoint(n)<i)return!1;return!0}},{key:"intersectsBox",value:function(t){for(var e=this.planes,n=0;n<6;n++){var i=e[n];if(vi.x=(0<i.normal.x?t.max:t.min).x,vi.y=(0<i.normal.y?t.max:t.min).y,vi.z=(0<i.normal.z?t.max:t.min).z,i.distanceToPoint(vi)<0)return!1}return!0}},{key:"containsPoint",value:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]);function gi(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=(Ht(this,gi),(t=H(this,gi,[e,e,n])).isWebGLCubeRenderTarget=!0,{width:e,height:e,depth:1});return t.texture=new li([e,e,e,e,e,e],n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),t.texture.isRenderTargetTexture=!0,t.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,t.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006,t}function yi(t,e,n,i,r,a,o,s,l,u){return Ht(this,yi),(t=H(this,yi,[t=void 0!==t?t:[],e=void 0!==e?e:301,n,i,r,a,o,s,l,u])).isCubeTexture=!0,t.flipY=!1,t}function Ai(t,e,n){Ht(this,Ai),(i=H(this,Ai)).type="CubeCamera",i.renderTarget=n,i.coordinateSystem=null,i.activeMipmapLevel=0;var i,n=new oi(-90,1,t,e),n=(n.layers=i.layers,i.add(n),new oi(-90,1,t,e)),n=(n.layers=i.layers,i.add(n),new oi(-90,1,t,e)),n=(n.layers=i.layers,i.add(n),new oi(-90,1,t,e)),n=(n.layers=i.layers,i.add(n),new oi(-90,1,t,e)),n=(n.layers=i.layers,i.add(n),new oi(-90,1,t,e));return n.layers=i.layers,i.add(n),i}function xi(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2e3;return Ht(this,xi),(t=H(this,xi)).isPerspectiveCamera=!0,t.type="PerspectiveCamera",t.fov=e,t.zoom=1,t.near=i,t.far=r,t.focus=10,t.aspect=n,t.view=null,t.filmGauge=35,t.filmOffset=0,t.updateProjectionMatrix(),t}function wi(){var t;return Ht(this,wi),(t=H(this,wi)).isCamera=!0,t.type="Camera",t.matrixWorldInverse=new fe,t.projectionMatrix=new fe,t.projectionMatrixInverse=new fe,t.coordinateSystem=2e3,t}function bi(t){var e;return Ht(this,bi),(e=H(this,bi)).isShaderMaterial=!0,e.type="ShaderMaterial",e.defines={},e.uniforms={},e.uniformsGroups=[],e.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",e.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",e.linewidth=1,e.wireframe=!1,e.wireframeLinewidth=1,e.fog=!1,e.lights=!1,e.clipping=!1,e.forceSinglePass=!0,e.extensions={clipCullDistance:!1,multiDraw:!1},e.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},e.index0AttributeName=void 0,e.uniformsNeedUpdate=!1,e.glslVersion=null,void 0!==t&&e.setValues(t),e}function Mi(){var n=null,t=!1,i=null,r=null;function a(t,e){i(t,e),r=n.requestAnimationFrame(a)}return{start:function(){!0!==t&&null!==i&&(r=n.requestAnimationFrame(a),t=!0)},stop:function(){n.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(t){i=t},setContext:function(t){n=t}}}function Ei(h){var d=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),d.get(t)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var e=d.get(t);e&&(h.deleteBuffer(e.buffer),d.delete(t))},update:function(t,e){if(t.isGLBufferAttribute){var n=d.get(t);(!n||n.version<t.version)&&d.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);n=d.get(t);if(void 0===n)d.set(t,function(t,e){var n,i=t.array,r=t.usage,a=i.byteLength,o=h.createBuffer();if(h.bindBuffer(e,o),h.bufferData(e,i,r),t.onUploadCallback(),i instanceof Float32Array)n=h.FLOAT;else if(i instanceof Uint16Array)n=t.isFloat16BufferAttribute?h.HALF_FLOAT:h.UNSIGNED_SHORT;else if(i instanceof Int16Array)n=h.SHORT;else if(i instanceof Uint32Array)n=h.UNSIGNED_INT;else if(i instanceof Int32Array)n=h.INT;else if(i instanceof Int8Array)n=h.BYTE;else{if(!(i instanceof Uint8Array||i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);n=h.UNSIGNED_BYTE}return{buffer:o,type:n,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version,size:a}}(t,e));else if(n.version<t.version){if(n.size!==t.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");var i=n.buffer,r=t,a=e,o=r.array,e=r._updateRange,s=r.updateRanges;if(h.bindBuffer(a,i),-1===e.count&&0===s.length&&h.bufferSubData(a,0,o),0!==s.length){for(var l=0,u=s.length;l<u;l++){var c=s[l];h.bufferSubData(a,c.start*o.BYTES_PER_ELEMENT,o,c.start,c.count)}r.clearUpdateRanges()}-1!==e.count&&(h.bufferSubData(a,e.offset*o.BYTES_PER_ELEMENT,o,e.offset,e.count),e.count=-1),r.onUploadCallback(),n.version=t.version}}}}}t(Ti,En);var Si=e(Ti,[{key:"copy",value:function(t){return o(s(Ti.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}],[{key:"fromJSON",value:function(t){return new Ti(t.width,t.height,t.widthSegments,t.heightSegments)}}]),E={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\tattribute float batchId;\n\tuniform highp sampler2D batchingTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( batchId );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},B={common:{diffuse:{value:new Qt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new A},alphaMap:{value:null},alphaMapTransform:{value:new A},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new A}},envmap:{envMap:{value:null},envMapRotation:{value:new A},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new A}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new A}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new A},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new A},normalScale:{value:new $(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new A},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new A}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new A}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new A}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Qt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Qt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new A},alphaTest:{value:0},uvTransform:{value:new A}},sprite:{diffuse:{value:new Qt(16777215)},opacity:{value:1},center:{value:new $(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new A},alphaMap:{value:null},alphaMapTransform:{value:new A},alphaTest:{value:0}}},Ci={basic:{uniforms:Zn([B.common,B.specularmap,B.envmap,B.aomap,B.lightmap,B.fog]),vertexShader:E.meshbasic_vert,fragmentShader:E.meshbasic_frag},lambert:{uniforms:Zn([B.common,B.specularmap,B.envmap,B.aomap,B.lightmap,B.emissivemap,B.bumpmap,B.normalmap,B.displacementmap,B.fog,B.lights,{emissive:{value:new Qt(0)}}]),vertexShader:E.meshlambert_vert,fragmentShader:E.meshlambert_frag},phong:{uniforms:Zn([B.common,B.specularmap,B.envmap,B.aomap,B.lightmap,B.emissivemap,B.bumpmap,B.normalmap,B.displacementmap,B.fog,B.lights,{emissive:{value:new Qt(0)},specular:{value:new Qt(1118481)},shininess:{value:30}}]),vertexShader:E.meshphong_vert,fragmentShader:E.meshphong_frag},standard:{uniforms:Zn([B.common,B.envmap,B.aomap,B.lightmap,B.emissivemap,B.bumpmap,B.normalmap,B.displacementmap,B.roughnessmap,B.metalnessmap,B.fog,B.lights,{emissive:{value:new Qt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:E.meshphysical_vert,fragmentShader:E.meshphysical_frag},toon:{uniforms:Zn([B.common,B.aomap,B.lightmap,B.emissivemap,B.bumpmap,B.normalmap,B.displacementmap,B.gradientmap,B.fog,B.lights,{emissive:{value:new Qt(0)}}]),vertexShader:E.meshtoon_vert,fragmentShader:E.meshtoon_frag},matcap:{uniforms:Zn([B.common,B.bumpmap,B.normalmap,B.displacementmap,B.fog,{matcap:{value:null}}]),vertexShader:E.meshmatcap_vert,fragmentShader:E.meshmatcap_frag},points:{uniforms:Zn([B.points,B.fog]),vertexShader:E.points_vert,fragmentShader:E.points_frag},dashed:{uniforms:Zn([B.common,B.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:E.linedashed_vert,fragmentShader:E.linedashed_frag},depth:{uniforms:Zn([B.common,B.displacementmap]),vertexShader:E.depth_vert,fragmentShader:E.depth_frag},normal:{uniforms:Zn([B.common,B.bumpmap,B.normalmap,B.displacementmap,{opacity:{value:1}}]),vertexShader:E.meshnormal_vert,fragmentShader:E.meshnormal_frag},sprite:{uniforms:Zn([B.sprite,B.fog]),vertexShader:E.sprite_vert,fragmentShader:E.sprite_frag},background:{uniforms:{uvTransform:{value:new A},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:E.background_vert,fragmentShader:E.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new A}},vertexShader:E.backgroundCube_vert,fragmentShader:E.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:E.cube_vert,fragmentShader:E.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:E.equirect_vert,fragmentShader:E.equirect_frag},distanceRGBA:{uniforms:Zn([B.common,B.displacementmap,{referencePosition:{value:new Vt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:E.distanceRGBA_vert,fragmentShader:E.distanceRGBA_frag},shadow:{uniforms:Zn([B.lights,B.fog,{color:{value:new Qt(0)},opacity:{value:1}}]),vertexShader:E.shadow_vert,fragmentShader:E.shadow_frag}};function Ti(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;Ht(this,Ti),(t=H(this,Ti)).type="PlaneGeometry",t.parameters={width:e,height:n,widthSegments:i,heightSegments:r};for(var a=e/2,o=n/2,s=Math.floor(i),l=Math.floor(r),u=s+1,c=l+1,h=e/s,d=n/l,f=[],p=[],v=[],m=[],g=0;g<c;g++)for(var y=g*d-o,A=0;A<u;A++)p.push(A*h-a,-y,0),v.push(0,0,1),m.push(A/s),m.push(1-g/l);for(var x=0;x<l;x++)for(var w=0;w<s;w++){var b=w+u*(x+1),M=w+1+u*(x+1),E=w+1+u*x;f.push(w+u*x,b,E),f.push(b,M,E)}return t.setIndex(f),t.setAttribute("position",new mn(p,3)),t.setAttribute("normal",new mn(v,3)),t.setAttribute("uv",new mn(m,2)),t}Ci.physical={uniforms:Zn([Ci.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new A},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new A},clearcoatNormalScale:{value:new $(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new A},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new A},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new A},sheen:{value:0},sheenColor:{value:new Qt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new A},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new A},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new A},transmissionSamplerSize:{value:new $},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new A},attenuationDistance:{value:0},attenuationColor:{value:new Qt(0)},specularColor:{value:new Qt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new A},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new A},anisotropyVector:{value:new $},anisotropyMap:{value:null},anisotropyMapTransform:{value:new A}}]),vertexShader:E.meshphysical_vert,fragmentShader:E.meshphysical_frag};var _i={r:0,b:0,g:0},ki=new Me,Pi=new fe;function Ri(i,n,r,a,o,t,s){var l,u,c=new Qt(0),h=!0===t?0:1,d=null,f=0,p=null;function v(t){var e=!0===t.isScene?t.background:null;return e=e&&e.isTexture?(0<t.backgroundBlurriness?r:n).get(e):e}function m(t,e){t.getRGB(_i,$n(i)),a.buffers.color.setClear(_i.r,_i.g,_i.b,e,s)}return{getClearColor:function(){return c},setClearColor:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;c.set(t),m(c,h=e)},getClearAlpha:function(){return h},setClearAlpha:function(t){m(c,h=t)},render:function(t){var e=!1,t=v(t),t=(null===t?m(c,h):t&&t.isColor&&(m(t,1),e=!0),i.xr.getEnvironmentBlendMode());"additive"===t?a.buffers.color.setClear(0,0,0,1,s):"alpha-blend"===t&&a.buffers.color.setClear(0,0,0,0,s),(i.autoClear||e)&&(a.buffers.depth.setTest(!0),a.buffers.depth.setMask(!0),a.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))},addToRenderList:function(t,e){var n=v(e);n&&(n.isCubeTexture||306===n.mapping)?(void 0===u&&((u=new Gn(new Jn(1,1,1),new ei({name:"BackgroundCubeMaterial",uniforms:qn(Ci.backgroundCube.uniforms),vertexShader:Ci.backgroundCube.vertexShader,fragmentShader:Ci.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(u)),ki.copy(e.backgroundRotation),ki.x*=-1,ki.y*=-1,ki.z*=-1,n.isCubeTexture&&!1===n.isRenderTargetTexture&&(ki.y*=-1,ki.z*=-1),u.material.uniforms.envMap.value=n,u.material.uniforms.flipEnvMap.value=n.isCubeTexture&&!1===n.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=e.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=e.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Pi.makeRotationFromEuler(ki)),u.material.toneMapped="srgb"!==Gt.getTransfer(n.colorSpace),d===n&&f===n.version&&p===i.toneMapping||(u.material.needsUpdate=!0,f=(d=n).version,p=i.toneMapping),u.layers.enableAll(),t.unshift(u,u.geometry,u.material,0,0,null)):n&&n.isTexture&&(void 0===l&&((l=new Gn(new Si(2,2),new ei({name:"BackgroundMaterial",uniforms:qn(Ci.background.uniforms),vertexShader:Ci.background.vertexShader,fragmentShader:Ci.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(l)),l.material.uniforms.t2D.value=n,l.material.uniforms.backgroundIntensity.value=e.backgroundIntensity,l.material.toneMapped="srgb"!==Gt.getTransfer(n.colorSpace),!0===n.matrixAutoUpdate&&n.updateMatrix(),l.material.uniforms.uvTransform.value.copy(n.matrix),d===n&&f===n.version&&p===i.toneMapping||(l.material.needsUpdate=!0,f=(d=n).version,p=i.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))}}}function Di(T,_){var a=T.getParameter(T.MAX_VERTEX_ATTRIBS),g={},t=w(null),y=t,A=!1;function x(t){T.bindVertexArray(t)}function o(t){T.deleteVertexArray(t)}function w(t){for(var e=[],n=[],i=[],r=0;r<a;r++)i[r]=n[r]=e[r]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function k(){for(var t=y.newAttributes,e=0,n=t.length;e<n;e++)t[e]=0}function P(t){R(t,0)}function R(t,e){var n=y.newAttributes,i=y.enabledAttributes,r=y.attributeDivisors;n[t]=1,0===i[t]&&(T.enableVertexAttribArray(t),i[t]=1),r[t]!==e&&(T.vertexAttribDivisor(t,e),r[t]=e)}function D(){for(var t=y.newAttributes,e=y.enabledAttributes,n=0,i=e.length;n<i;n++)e[n]!==t[n]&&(T.disableVertexAttribArray(n),e[n]=0)}function B(t,e,n,i,r,a,o){!0===o?T.vertexAttribIPointer(t,e,n,r,a):T.vertexAttribPointer(t,e,n,i,r,a)}function s(){e(),A=!0,y!==t&&x((y=t).object)}function e(){t.geometry=null,t.program=null,t.wireframe=!1}return{setup:function(t,e,n,c,i){a=n,s=!0===e.wireframe,void 0===(l=g[c.id])&&(g[c.id]=l={}),void 0===(r=l[a.id])&&(l[a.id]=r={}),void 0===(l=r[s])&&(l=w(T.createVertexArray()),r[s]=l);var r,a=l;if(y!==a&&x((y=a).object),r=function(t,e,n){var i,r=y.attributes,a=c.attributes,o=0,s=e.getAttributes();for(i in s)if(0<=s[i].location){var l=r[i],u=a[i];if(void 0===u&&("instanceMatrix"===i&&t.instanceMatrix&&(u=t.instanceMatrix),"instanceColor"===i)&&t.instanceColor&&(u=t.instanceColor),void 0===l)return!0;if(l.attribute!==u)return!0;if(u&&l.data!==u.data)return!0;o++}return y.attributesNum!==o||y.index!==n}(t,n,i)){var o=t,s=n,l=i,u,h,d,f={},p=c.attributes,v=0,m=s.getAttributes();for(u in m)0<=m[u].location&&(void 0===(h=p[u])&&("instanceMatrix"===u&&o.instanceMatrix&&(h=o.instanceMatrix),"instanceColor"===u)&&o.instanceColor&&(h=o.instanceColor),((d={}).attribute=h)&&h.data&&(d.data=h.data),f[u]=d,v++);y.attributes=f,y.attributesNum=v,y.index=l}null!==i&&_.update(i,T.ELEMENT_ARRAY_BUFFER),(r||A)&&(A=!1,function(t,e,n,i){k();var r,a=i.attributes,o=n.getAttributes(),s=e.defaultAttributeValues;for(r in o){var l=o[r];if(0<=l.location){var u=a[r];if(void 0!==(u=void 0===u&&("instanceMatrix"===r&&t.instanceMatrix&&(u=t.instanceMatrix),"instanceColor"===r)&&t.instanceColor?t.instanceColor:u)){var c=u.normalized,h=u.itemSize,d=_.get(u);if(void 0!==d){var f=d.buffer,p=d.type,v=d.bytesPerElement,m=p===T.INT||p===T.UNSIGNED_INT||1013===u.gpuType;if(u.isInterleavedBufferAttribute){var g=u.data,y=g.stride,A=u.offset;if(g.isInstancedInterleavedBuffer){for(var x=0;x<l.locationSize;x++)R(l.location+x,g.meshPerAttribute);!0!==t.isInstancedMesh&&void 0===i._maxInstanceCount&&(i._maxInstanceCount=g.meshPerAttribute*g.count)}else for(var w=0;w<l.locationSize;w++)P(l.location+w);T.bindBuffer(T.ARRAY_BUFFER,f);for(var b=0;b<l.locationSize;b++)B(l.location+b,h/l.locationSize,p,c,y*v,(A+h/l.locationSize*b)*v,m)}else{if(u.isInstancedBufferAttribute){for(var M=0;M<l.locationSize;M++)R(l.location+M,u.meshPerAttribute);!0!==t.isInstancedMesh&&void 0===i._maxInstanceCount&&(i._maxInstanceCount=u.meshPerAttribute*u.count)}else for(var E=0;E<l.locationSize;E++)P(l.location+E);T.bindBuffer(T.ARRAY_BUFFER,f);for(var S=0;S<l.locationSize;S++)B(l.location+S,h/l.locationSize,p,c,h*v,h/l.locationSize*S*v,m)}}}else if(void 0!==s){var C=s[r];if(void 0!==C)switch(C.length){case 2:T.vertexAttrib2fv(l.location,C);break;case 3:T.vertexAttrib3fv(l.location,C);break;case 4:T.vertexAttrib4fv(l.location,C);break;default:T.vertexAttrib1fv(l.location,C)}}}}D()}(t,e,n,c),null!==i)&&T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,_.get(i).buffer)},reset:s,resetDefaultState:e,dispose:function(){for(var t in s(),g){var e,n=g[t];for(e in n){var i,r=n[e];for(i in r)o(r[i].object),delete r[i];delete n[e]}delete g[t]}},releaseStatesOfGeometry:function(t){if(void 0!==g[t.id]){var e,n=g[t.id];for(e in n){var i,r=n[e];for(i in r)o(r[i].object),delete r[i];delete n[e]}delete g[t.id]}},releaseStatesOfProgram:function(t){for(var e in g){e=g[e];if(void 0!==e[t.id]){var n,i=e[t.id];for(n in i)o(i[n].object),delete i[n];delete e[t.id]}}},initAttributes:k,enableAttribute:P,disableUnusedAttributes:D}}function Bi(i,u,c){var h;function d(t,e,n){0!==n&&(i.drawArraysInstanced(h,t,e,n),c.update(e,h,n))}this.setMode=function(t){h=t},this.render=function(t,e){i.drawArrays(h,t,e),c.update(e,h,1)},this.renderInstances=d,this.renderMultiDraw=function(t,e,n){if(0!==n){var i=u.get("WEBGL_multi_draw");if(null===i)for(var r=0;r<n;r++)this.render(t[r],e[r]);else{i.multiDrawArraysWEBGL(h,t,0,e,0,n);for(var a=0,o=0;o<n;o++)a+=e[o];c.update(a,h,1)}}},this.renderMultiDrawInstances=function(t,e,n,i){if(0!==n){var r=u.get("WEBGL_multi_draw");if(null===r)for(var a=0;a<t.length;a++)d(t[a],e[a],i[a]);else{r.multiDrawArraysInstancedWEBGL(h,t,0,e,0,i,0,n);for(var o=0,s=0;s<n;s++)o+=e[s];for(var l=0;l<i.length;l++)c.update(o,h,i[l])}}}}function Li(n,i,t,r){var e;function a(t){if("highp"===t){if(0<n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision&&0<n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision)return"highp";t="mediump"}return"mediump"===t&&0<n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision&&0<n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision?"mediump":"lowp"}var o=void 0!==t.precision?t.precision:"highp",s=a(o),s=(s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s),!0===t.logarithmicDepthBuffer),t=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),l=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){var t;return e=void 0===e?!0===i.has("EXT_texture_filter_anisotropic")?(t=i.get("EXT_texture_filter_anisotropic"),n.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT)):0:e},getMaxPrecision:a,textureFormatReadable:function(t){return 1023===t||r.convert(t)===n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(t){var e=1016===t&&(i.has("EXT_color_buffer_half_float")||i.has("EXT_color_buffer_float"));return!(1009!==t&&r.convert(t)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&1015!==t&&!e)},precision:o,logarithmicDepthBuffer:s,maxTextures:t,maxVertexTextures:l,maxTextureSize:n.getParameter(n.MAX_TEXTURE_SIZE),maxCubemapSize:n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:n.getParameter(n.MAX_VERTEX_ATTRIBS),maxVertexUniforms:n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:n.getParameter(n.MAX_VARYING_VECTORS),maxFragmentUniforms:n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:0<l,maxSamples:n.getParameter(n.MAX_SAMPLES)}}function Ii(u){var c=this,h=null,d=0,f=!1,p=!1,v=new fi,m=new A,g={value:null,needsUpdate:!1};function y(t,e,n,i){var r=null!==t?t.length:0,a=null;if(0!==r){if(a=g.value,!0!==i||null===a){var i=n+4*r,o=e.matrixWorldInverse;m.getNormalMatrix(o),(null===a||a.length<i)&&(a=new Float32Array(i));for(var s=0,l=n;s!==r;++s,l+=4)v.copy(t[s]).applyMatrix4(o,m),v.normal.toArray(a,l),a[l+3]=v.constant}g.value=a,g.needsUpdate=!0}return c.numPlanes=r,c.numIntersection=0,a}this.uniform=g,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e){var n=0!==t.length||e||0!==d||f;return f=e,d=t.length,n},this.beginShadows=function(){p=!0,y(null)},this.endShadows=function(){p=!1},this.setGlobalState=function(t,e){h=y(t,e,0)},this.setState=function(t,e,n){var i=t.clippingPlanes,r=t.clipIntersection,a=t.clipShadows,t=u.get(t);if(!f||null===i||0===i.length||p&&!a)p?y(null):(g.value!==h&&(g.value=h,g.needsUpdate=0<d),c.numPlanes=d,c.numIntersection=0);else{var a=p?0:d,o=4*a,s=t.clippingState||null;g.value=s;for(var s=y(i,e,o,n),l=0;l!==o;++l)s[l]=h[l];t.clippingState=s,this.numIntersection=r?this.numPlanes:0,this.numPlanes+=a}}}function Oi(n){var i=new WeakMap;function r(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}function a(t){var t=t.target,e=(t.removeEventListener("dispose",a),i.get(t));void 0!==e&&(i.delete(t),e.dispose())}return{get:function(t){if(t&&t.isTexture){var e=t.mapping;if(303===e||304===e)return i.has(t)?r(i.get(t).texture,t.mapping):(e=t.image)&&0<e.height?((e=new ui(e.height)).fromEquirectangularTexture(n,t),i.set(t,e),t.addEventListener("dispose",a),r(e.texture,t.mapping)):null}return t},dispose:function(){i=new WeakMap}}}t(Xi,ni);var ni=e(Xi,[{key:"copy",value:function(t,e){return o(s(Xi.prototype),"copy",this).call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}},{key:"setViewOffset",value:function(t,e,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t,e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,a=i-e,i=i+e,e=r+n,r=r-n;null!==this.view&&this.view.enabled&&(n=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom,i=(a+=n*this.view.offsetX)+n*this.view.width,r=(e-=t*this.view.offsetY)-t*this.view.height),this.projectionMatrix.makeOrthographic(a,i,e,r,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){t=o(s(Xi.prototype),"toJSON",this).call(this,t);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),Ui=[.125,.215,.35,.446,.526,.582],Ni=new ni,zi=new Qt,Fi=null,Hi=0,Gi=0,Vi=!1,ni=(1+Math.sqrt(5))/2,r=1/ni,Qi=[new Vt(-ni,r,0),new Vt(ni,r,0),new Vt(-r,0,ni),new Vt(r,0,ni),new Vt(0,ni,-r),new Vt(0,ni,r),new Vt(-1,1,-1),new Vt(1,1,-1),new Vt(-1,1,1),new Vt(1,1,1)],ji=e(function t(e){Ht(this,t),this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)},[{key:"fromScene",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100,r=(Fi=this._renderer.getRenderTarget(),Hi=this._renderer.getActiveCubeFace(),Gi=this._renderer.getActiveMipmapLevel(),Vi=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256),this._allocateTargets());return r.depthBuffer=!0,this._sceneToCubeUV(t,n,i,r),0<e&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}},{key:"fromEquirectangular",value:function(t){return this._fromTexture(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)}},{key:"fromCubemap",value:function(t){return this._fromTexture(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Ki(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Ji(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}},{key:"_cleanup",value:function(t){this._renderer.setRenderTarget(Fi,Hi,Gi),this._renderer.xr.enabled=Vi,t.scissorTest=!1,Yi(t,0,0,t.width,t.height)}},{key:"_fromTexture",value:function(t,e){301===t.mapping||302===t.mapping?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),Fi=this._renderer.getRenderTarget(),Hi=this._renderer.getActiveCubeFace(),Gi=this._renderer.getActiveMipmapLevel(),Vi=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;e=e||this._allocateTargets();return this._textureToCubeUV(t,e),this._applyPMREM(e),this._cleanup(e),e}},{key:"_allocateTargets",value:function(){var t,e,n=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,r={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,colorSpace:"srgb-linear",depthBuffer:!1},a=Wi(n,i,r);return null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.width===n&&this._pingPongRenderTarget.height===i||(null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Wi(n,i,r),t=function(t){for(var e=[],n=[],i=[],r=t,a=t-4+1+Ui.length,o=0;o<a;o++){var s=Math.pow(2,r),l=(n.push(s),1/s);t-4<o?l=Ui[o-t+4-1]:0===o&&(l=0),i.push(l);for(var l=1/(s-2),s=-l,l=1+l,u=[s,s,l,s,l,l,s,s,l,l,s,l],c=new Float32Array(108),h=new Float32Array(72),d=new Float32Array(36),f=0;f<6;f++){var p=f%3*2/3-1,v=2<f?0:-1;c.set([p,v,0,p+2/3,v,0,p+2/3,1+v,0,p,v,0,p+2/3,1+v,0,p,1+v,0],18*f),h.set(u,12*f),d.set([f,f,f,f,f,f],6*f)}s=new En;s.setAttribute("position",new fn(c,3)),s.setAttribute("uv",new fn(h,2)),s.setAttribute("faceIndex",new fn(d,1)),e.push(s),4<r&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}(r=this._lodMax),this._sizeLods=t.sizeLods,this._lodPlanes=t.lodPlanes,this._sigmas=t.sigmas,this._blurMaterial=(t=r,r=n,n=i,i=new Float32Array(20),e=new Vt(0,1,0),new ei({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/r,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(t,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:e}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1}))),a}},{key:"_compileMaterial",value:function(t){t=new Gn(this._lodPlanes[0],t);this._renderer.compile(t,Ni)}},{key:"_sceneToCubeUV",value:function(t,e,n,i){var r=new oi(90,1,e,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,e=s.autoClear,n=s.toneMapping,l=(s.getClearColor(zi),s.toneMapping=0,s.autoClear=!1,new ln({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1})),u=new Gn(new Jn,l),c=!1,h=t.background;h?h.isColor&&(l.color.copy(h),c=!(t.background=null)):(l.color.copy(zi),c=!0);for(var d=0;d<6;d++){var f=d%3,p=(0==f?(r.up.set(0,a[d],0),r.lookAt(o[d],0,0)):1==f?(r.up.set(0,0,a[d]),r.lookAt(0,o[d],0)):(r.up.set(0,a[d],0),r.lookAt(0,0,o[d])),this._cubeSize);Yi(i,f*p,2<d?p:0,p,p),s.setRenderTarget(i),c&&s.render(u,r),s.render(t,r)}u.geometry.dispose(),u.material.dispose(),s.toneMapping=n,s.autoClear=e,t.background=h}},{key:"_textureToCubeUV",value:function(t,e){var n=this._renderer,i=301===t.mapping||302===t.mapping,i=(i?(null===this._cubemapMaterial&&(this._cubemapMaterial=Ki()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Ji()),i?this._cubemapMaterial:this._equirectMaterial),r=new Gn(this._lodPlanes[0],i),i=(i.uniforms.envMap.value=t,this._cubeSize);Yi(e,0,0,3*i,2*i),n.setRenderTarget(e),n.render(r,Ni)}},{key:"_applyPMREM",value:function(t){var e=this._renderer,n=e.autoClear;e.autoClear=!1;for(var i=this._lodPlanes.length,r=1;r<i;r++){var a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(t,r-1,r,a,Qi[(i-r-1)%Qi.length])}e.autoClear=n}},{key:"_blur",value:function(t,e,n,i,r){var a=this._pingPongRenderTarget;this._halfBlur(t,a,e,n,i,"latitudinal",r),this._halfBlur(a,t,n,n,i,"longitudinal",r)}},{key:"_halfBlur",value:function(t,e,n,i,r,a,o){var s=this._renderer,l=this._blurMaterial,u=("latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!"),new Gn(this._lodPlanes[i],l)),l=l.uniforms,c=this._sizeLods[n]-1,c=isFinite(r)?Math.PI/(2*c):2*Math.PI/39,h=r/c,d=isFinite(r)?1+Math.floor(3*h):20;20<d&&console.warn("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(d," samples when the maximum is set to ").concat(20));for(var f=[],p=0,v=0;v<20;++v){var m=v/h,m=Math.exp(-m*m/2);f.push(m),0===v?p+=m:v<d&&(p+=2*m)}for(var g=0;g<f.length;g++)f[g]=f[g]/p;l.envMap.value=t.texture,l.samples.value=d,l.weights.value=f,l.latitudinal.value="latitudinal"===a,o&&(l.poleAxis.value=o);r=this._lodMax,l.dTheta.value=c,l.mipInt.value=r-n,t=this._sizeLods[i];Yi(e,3*t*(r-4<i?i-r+4:0),4*(this._cubeSize-t),3*t,2*t),s.setRenderTarget(e),s.render(u,Ni)}}]);function Xi(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:.1,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2e3;return Ht(this,Xi),(t=H(this,Xi)).isOrthographicCamera=!0,t.type="OrthographicCamera",t.zoom=1,t.view=null,t.left=e,t.right=n,t.top=i,t.bottom=r,t.near=a,t.far=o,t.updateProjectionMatrix(),t}function Wi(t,e,n){t=new Jt(t,e,n);return t.texture.mapping=306,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Yi(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function Ji(){return new ei({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Ki(){return new ei({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function qi(a){var o=new WeakMap,s=null;function l(t){var t=t.target,e=(t.removeEventListener("dispose",l),o.get(t));void 0!==e&&(o.delete(t),e.dispose())}return{get:function(t){if(t&&t.isTexture){var e,n,i=t.mapping,r=303===i||304===i,i=301===i||302===i;if(r||i)return n=void 0!==(e=o.get(t))?e.texture.pmremVersion:0,t.isRenderTargetTexture&&t.pmremVersion!==n?(null===s&&(s=new ji(a)),(e=r?s.fromEquirectangular(t,e):s.fromCubemap(t,e)).texture.pmremVersion=t.pmremVersion,o.set(t,e),e.texture):void 0!==e?e.texture:(n=t.image,r&&n&&0<n.height||i&&n&&function(t){for(var e=0,n=0;n<6;n++)void 0!==t[n]&&e++;return 6===e}(n)?(null===s&&(s=new ji(a)),(e=r?s.fromEquirectangular(t):s.fromCubemap(t)).texture.pmremVersion=t.pmremVersion,o.set(t,e),t.addEventListener("dispose",l),e.texture):null)}return t},dispose:function(){o=new WeakMap,null!==s&&(s.dispose(),s=null)}}}function Zi(n){var i={};function r(t){if(void 0!==i[t])return i[t];var e;switch(t){case"WEBGL_depth_texture":e=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":e=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":e=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":e=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:e=n.getExtension(t)}return i[t]=e}return{has:function(t){return null!==r(t)},init:function(){r("EXT_color_buffer_float"),r("WEBGL_clip_cull_distance"),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture"),r("WEBGL_render_shared_exponent")},get:function(t){var e=r(t);return null===e&&st("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function $i(l,m,s,u){var c={},g=new WeakMap;function h(t){var e,n,i=t.target;for(e in null!==i.index&&m.remove(i.index),i.attributes)m.remove(i.attributes[e]);for(n in i.morphAttributes)for(var r=i.morphAttributes[n],a=0,o=r.length;a<o;a++)m.remove(r[a]);i.removeEventListener("dispose",h),delete c[i.id];t=g.get(i);t&&(m.remove(t),g.delete(i)),u.releaseStatesOfGeometry(i),!0===i.isInstancedBufferGeometry&&delete i._maxInstanceCount,s.memory.geometries--}function i(t){var e=[],n=t.index,i=t.attributes.position,r=0;if(null!==n)for(var a=n.array,r=n.version,o=0,s=a.length;o<s;o+=3){var l=a[o+0],u=a[o+1],c=a[o+2];e.push(l,u,u,c,c,l)}else{if(void 0===i)return;n=i.array;r=i.version;for(var h=0,d=n.length/3-1;h<d;h+=3){var f=h+0,p=h+1,v=h+2;e.push(f,p,p,v,v,f)}}i=new(at(e)?vn:pn)(e,1),i.version=r,n=g.get(t);n&&m.remove(n),g.set(t,i)}return{get:function(t,e){return!0!==c[e.id]&&(e.addEventListener("dispose",h),c[e.id]=!0,s.memory.geometries++),e},update:function(t){var e,n=t.attributes;for(e in n)m.update(n[e],l.ARRAY_BUFFER);var i,r=t.morphAttributes;for(i in r)for(var a=r[i],o=0,s=a.length;o<s;o++)m.update(a[o],l.ARRAY_BUFFER)},getWireframeAttribute:function(t){var e,n=g.get(t);return(!n||null!==(e=t.index)&&n.version<e.version)&&i(t),g.get(t)}}}function tr(i,u,c){var h,d,f;function p(t,e,n){0!==n&&(i.drawElementsInstanced(h,e,d,t*f,n),c.update(e,h,n))}this.setMode=function(t){h=t},this.setIndex=function(t){d=t.type,f=t.bytesPerElement},this.render=function(t,e){i.drawElements(h,e,d,t*f),c.update(e,h,1)},this.renderInstances=p,this.renderMultiDraw=function(t,e,n){if(0!==n){var i=u.get("WEBGL_multi_draw");if(null===i)for(var r=0;r<n;r++)this.render(t[r]/f,e[r]);else{i.multiDrawElementsWEBGL(h,e,0,d,t,0,n);for(var a=0,o=0;o<n;o++)a+=e[o];c.update(a,h,1)}}},this.renderMultiDrawInstances=function(t,e,n,i){if(0!==n){var r=u.get("WEBGL_multi_draw");if(null===r)for(var a=0;a<t.length;a++)p(t[a]/f,e[a],i[a]);else{r.multiDrawElementsInstancedWEBGL(h,e,0,d,t,0,i,0,n);for(var o=0,s=0;s<n;s++)o+=e[s];for(var l=0;l<i.length;l++)c.update(o,h,i[l])}}}}function er(i){var r={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:r,programs:null,autoReset:!0,reset:function(){r.calls=0,r.triangles=0,r.points=0,r.lines=0},update:function(t,e,n){switch(r.calls++,e){case i.TRIANGLES:r.triangles+=n*(t/3);break;case i.LINES:r.lines+=n*(t/2);break;case i.LINE_STRIP:r.lines+=n*(t-1);break;case i.LINE_LOOP:r.lines+=n*t;break;case i.POINTS:r.points+=n*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",e)}}}}function nr(T,_,k){var P=new WeakMap,R=new Yt;return{update:function(t,e,n){var i=t.morphTargetInfluences,r=e.morphAttributes.position||e.morphAttributes.normal||e.morphAttributes.color,a=void 0!==r?r.length:0,r=P.get(e);if(void 0===r||r.count!==a){void 0!==r&&r.texture.dispose();var o=void 0!==e.morphAttributes.position,s=void 0!==e.morphAttributes.normal,l=void 0!==e.morphAttributes.color,u=e.morphAttributes.position||[],c=e.morphAttributes.normal||[],h=e.morphAttributes.color||[],d=!0==l?3:!0==s?2:!0==o?1:0,f=e.attributes.position.count*d,p=1,v=(f>_.maxTextureSize&&(p=Math.ceil(f/_.maxTextureSize),f=_.maxTextureSize),new Float32Array(f*p*4*a)),m=new bt(v,f,p,a);m.type=1015,m.needsUpdate=!0;for(var g=4*d,y=0;y<a;y++)for(var A=u[y],x=c[y],w=h[y],b=f*p*4*y,M=0;M<A.count;M++){var E=M*g;!0==o&&(R.fromBufferAttribute(A,M),v[b+E]=R.x,v[b+E+1]=R.y,v[b+E+2]=R.z,v[b+E+3]=0),!0==s&&(R.fromBufferAttribute(x,M),v[b+E+4]=R.x,v[b+E+5]=R.y,v[b+E+6]=R.z,v[b+E+7]=0),!0==l&&(R.fromBufferAttribute(w,M),v[b+E+8]=R.x,v[b+E+9]=R.y,v[b+E+10]=R.z,v[b+E+11]=4===w.itemSize?R.w:1)}r={count:a,texture:m,size:new $(f,p)},P.set(e,r),e.addEventListener("dispose",function t(){m.dispose(),P.delete(e),e.removeEventListener("dispose",t)})}if(!0===t.isInstancedMesh&&null!==t.morphTexture)n.getUniforms().setValue(T,"morphTexture",t.morphTexture,k);else{for(var S=0,C=0;C<i.length;C++)S+=i[C];d=e.morphTargetsRelative?1:1-S;n.getUniforms().setValue(T,"morphTargetBaseInfluence",d),n.getUniforms().setValue(T,"morphTargetInfluences",i)}n.getUniforms().setValue(T,"morphTargetsTexture",r.texture,k),n.getUniforms().setValue(T,"morphTargetsTextureSize",r.size)}}}function ir(i,r,a,o){var s=new WeakMap;function l(t){t=t.target;t.removeEventListener("dispose",l),a.remove(t.instanceMatrix),null!==t.instanceColor&&a.remove(t.instanceColor)}return{update:function(t){var e=o.render.frame,n=t.geometry,n=r.get(t,n);return s.get(n)!==e&&(r.update(n),s.set(n,e)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",l)&&t.addEventListener("dispose",l),s.get(t)!==e)&&(a.update(t.instanceMatrix,i.ARRAY_BUFFER),null!==t.instanceColor&&a.update(t.instanceColor,i.ARRAY_BUFFER),s.set(t,e)),t.isSkinnedMesh&&(t=t.skeleton,s.get(t)!==e)&&(t.update(),s.set(t,e)),n},dispose:function(){s=new WeakMap}}}t(sr,xt);var rr=e(sr,[{key:"copy",value:function(t){return o(s(sr.prototype),"copy",this).call(this,t),this.compareFunction=t.compareFunction,this}},{key:"toJSON",value:function(t){t=o(s(sr.prototype),"toJSON",this).call(this,t);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}]),ar=new xt,or=new rr(1,1);function sr(t,e,n,i,r,a,o,s,l){var u=9<arguments.length&&void 0!==arguments[9]?arguments[9]:1026;if(Ht(this,sr),1026!==u&&1027!==u)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return(i=H(this,sr,[null,i,r,a,o,s,u,n=void 0===(n=void 0===n&&1026===u?1014:n)&&1027===u?1020:n,l])).isDepthTexture=!0,i.image={width:t,height:e},i.magFilter=void 0!==o?o:1003,i.minFilter=void 0!==s?s:1003,i.flipY=!1,i.generateMipmaps=!1,i.compareFunction=null,i}or.compareFunction=515;var lr=new bt,ur=new Mt,cr=new li,hr=[],dr=[],fr=new Float32Array(16),pr=new Float32Array(9),vr=new Float32Array(4);function mr(t,e,n){var i=t[0];if(i<=0||0<i)return t;var r=e*n,a=hr[r];if(void 0===a&&(a=new Float32Array(r),hr[r]=a),0!==e){i.toArray(a,0);for(var o=1,s=0;o!==e;++o)t[o].toArray(a,s+=n)}return a}function gr(t,e){if(t.length===e.length){for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return;return 1}}function yr(t,e){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}function Ar(t,e){var n=dr[e];void 0===n&&(n=new Int32Array(e),dr[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function xr(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function wr(t,e){var n=this.cache;void 0!==e.x?n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y):gr(n,e)||(t.uniform2fv(this.addr,e),yr(n,e))}function br(t,e){var n=this.cache;void 0!==e.x?n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z):void 0!==e.r?n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b):gr(n,e)||(t.uniform3fv(this.addr,e),yr(n,e))}function Mr(t,e){var n=this.cache;void 0!==e.x?n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w):gr(n,e)||(t.uniform4fv(this.addr,e),yr(n,e))}function Er(t,e){var n=this.cache,i=e.elements;void 0===i?gr(n,e)||(t.uniformMatrix2fv(this.addr,!1,e),yr(n,e)):gr(n,i)||(vr.set(i),t.uniformMatrix2fv(this.addr,!1,vr),yr(n,i))}function Sr(t,e){var n=this.cache,i=e.elements;void 0===i?gr(n,e)||(t.uniformMatrix3fv(this.addr,!1,e),yr(n,e)):gr(n,i)||(pr.set(i),t.uniformMatrix3fv(this.addr,!1,pr),yr(n,i))}function Cr(t,e){var n=this.cache,i=e.elements;void 0===i?gr(n,e)||(t.uniformMatrix4fv(this.addr,!1,e),yr(n,e)):gr(n,i)||(fr.set(i),t.uniformMatrix4fv(this.addr,!1,fr),yr(n,i))}function Tr(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function _r(t,e){var n=this.cache;void 0!==e.x?n[0]===e.x&&n[1]===e.y||(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y):gr(n,e)||(t.uniform2iv(this.addr,e),yr(n,e))}function kr(t,e){var n=this.cache;void 0!==e.x?n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z):gr(n,e)||(t.uniform3iv(this.addr,e),yr(n,e))}function Pr(t,e){var n=this.cache;void 0!==e.x?n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w):gr(n,e)||(t.uniform4iv(this.addr,e),yr(n,e))}function Rr(t,e){var n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Dr(t,e){var n=this.cache;void 0!==e.x?n[0]===e.x&&n[1]===e.y||(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y):gr(n,e)||(t.uniform2uiv(this.addr,e),yr(n,e))}function Br(t,e){var n=this.cache;void 0!==e.x?n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z):gr(n,e)||(t.uniform3uiv(this.addr,e),yr(n,e))}function Lr(t,e){var n=this.cache;void 0!==e.x?n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w):gr(n,e)||(t.uniform4uiv(this.addr,e),yr(n,e))}function Ir(t,e,n){var i=this.cache,r=n.allocateTextureUnit(),i=(i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),this.type===t.SAMPLER_2D_SHADOW?or:ar);n.setTexture2D(e||i,r)}function Or(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||ur,r)}function Ur(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||cr,r)}function Nr(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||lr,r)}function zr(t,e){t.uniform1fv(this.addr,e)}function Fr(t,e){e=mr(e,this.size,2);t.uniform2fv(this.addr,e)}function Hr(t,e){e=mr(e,this.size,3);t.uniform3fv(this.addr,e)}function Gr(t,e){e=mr(e,this.size,4);t.uniform4fv(this.addr,e)}function Vr(t,e){e=mr(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,e)}function Qr(t,e){e=mr(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,e)}function jr(t,e){e=mr(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,e)}function Xr(t,e){t.uniform1iv(this.addr,e)}function Wr(t,e){t.uniform2iv(this.addr,e)}function Yr(t,e){t.uniform3iv(this.addr,e)}function Jr(t,e){t.uniform4iv(this.addr,e)}function Kr(t,e){t.uniform1uiv(this.addr,e)}function qr(t,e){t.uniform2uiv(this.addr,e)}function Zr(t,e){t.uniform3uiv(this.addr,e)}function $r(t,e){t.uniform4uiv(this.addr,e)}function ta(t,e,n){var i=this.cache,r=e.length,a=Ar(n,r);gr(i,a)||(t.uniform1iv(this.addr,a),yr(i,a));for(var o=0;o!==r;++o)n.setTexture2D(e[o]||ar,a[o])}function ea(t,e,n){var i=this.cache,r=e.length,a=Ar(n,r);gr(i,a)||(t.uniform1iv(this.addr,a),yr(i,a));for(var o=0;o!==r;++o)n.setTexture3D(e[o]||ur,a[o])}function na(t,e,n){var i=this.cache,r=e.length,a=Ar(n,r);gr(i,a)||(t.uniform1iv(this.addr,a),yr(i,a));for(var o=0;o!==r;++o)n.setTextureCube(e[o]||cr,a[o])}function ia(t,e,n){var i=this.cache,r=e.length,a=Ar(n,r);gr(i,a)||(t.uniform1iv(this.addr,a),yr(i,a));for(var o=0;o!==r;++o)n.setTexture2DArray(e[o]||lr,a[o])}var ra=e(function t(e,n,i){Ht(this,t),this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=function(){switch(n.type){case 5126:return xr;case 35664:return wr;case 35665:return br;case 35666:return Mr;case 35674:return Er;case 35675:return Sr;case 35676:return Cr;case 5124:case 35670:return Tr;case 35667:case 35671:return _r;case 35668:case 35672:return kr;case 35669:case 35673:return Pr;case 5125:return Rr;case 36294:return Dr;case 36295:return Br;case 36296:return Lr;case 35678:case 36198:case 36298:case 36306:case 35682:return Ir;case 35679:case 36299:case 36307:return Or;case 35680:case 36300:case 36308:case 36293:return Ur;case 36289:case 36303:case 36311:case 36292:return Nr}}()}),aa=e(function t(e,n,i){Ht(this,t),this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=function(){switch(n.type){case 5126:return zr;case 35664:return Fr;case 35665:return Hr;case 35666:return Gr;case 35674:return Vr;case 35675:return Qr;case 35676:return jr;case 5124:case 35670:return Xr;case 35667:case 35671:return Wr;case 35668:case 35672:return Yr;case 35669:case 35673:return Jr;case 5125:return Kr;case 36294:return qr;case 36295:return Zr;case 36296:return $r;case 35678:case 36198:case 36298:case 36306:case 35682:return ta;case 35679:case 36299:case 36307:return ea;case 35680:case 36300:case 36308:case 36293:return na;case 36289:case 36303:case 36311:case 36292:return ia}}()}),oa=e(function t(e){Ht(this,t),this.id=e,this.seq=[],this.map={}},[{key:"setValue",value:function(t,e,n){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var o=i[r];o.setValue(t,e[o.id],n)}}}]),sa=/(\w+)(\])?(\[|\.)?/g;function la(t,e){t.seq.push(e),t.map[e.id]=e}var ua=e(function t(e,n){Ht(this,t),this.seq=[],this.map={};for(var i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS),r=0;r<i;++r){var a=e.getActiveUniform(n,r),o=(p=f=d=h=c=u=l=s=o=void 0,a),s=e.getUniformLocation(n,a.name),l=this,u=o.name,c=u.length;for(sa.lastIndex=0;;){var h=sa.exec(u),d=sa.lastIndex,f=h[1],p="]"===h[2],h=h[3];if(p&&(f|=0),void 0===h||"["===h&&d+2===c){la(l,new(void 0===h?ra:aa)(f,o,s));break}p=l.map[f];void 0===p&&la(l,p=new oa(f)),l=p}}},[{key:"setValue",value:function(t,e,n,i){e=this.map[e];void 0!==e&&e.setValue(t,n,i)}},{key:"setOptional",value:function(t,e,n){e=e[n];void 0!==e&&this.setValue(t,n,e)}}],[{key:"upload",value:function(t,e,n,i){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}}},{key:"seqWithValue",value:function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var a=t[i];a.id in e&&n.push(a)}return n}}]);function ca(t,e,n){e=t.createShader(e);return t.shaderSource(e,n),t.compileShader(e),e}var ha=0;function da(t,e,n){var i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":(i=/ERROR: 0:(\d+)/.exec(r))?(i=parseInt(i[1]),n.toUpperCase()+"\n\n"+r+"\n\n"+function(t,e){for(var n=t.split("\n"),i=[],t=Math.max(e-6,0),r=Math.min(e+6,n.length),a=t;a<r;a++){var o=a+1;i.push("".concat(o===e?">":" "," ").concat(o,": ").concat(n[a]))}return i.join("\n")}(t.getShaderSource(e),i)):r}function fa(t){return""!==t}function pa(t,e){var n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function va(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var ma=/^[ \t]*#include +<([\w\d./]+)>/gm;function ga(t){return t.replace(ma,Aa)}var ya=new Map;function Aa(t,e){var n=E[e];if(void 0===n){var i=ya.get(e);if(void 0===i)throw new Error("Can not resolve #include <"+e+">");n=E[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i)}return ga(n)}var xa=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function wa(t){return t.replace(xa,ba)}function ba(t,e,n,i){for(var r="",a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function Ma(t){var e="precision ".concat(t.precision," float;\n\tprecision ").concat(t.precision," int;\n\tprecision ").concat(t.precision," sampler2D;\n\tprecision ").concat(t.precision," samplerCube;\n\tprecision ").concat(t.precision," sampler3D;\n\tprecision ").concat(t.precision," sampler2DArray;\n\tprecision ").concat(t.precision," sampler2DShadow;\n\tprecision ").concat(t.precision," samplerCubeShadow;\n\tprecision ").concat(t.precision," sampler2DArrayShadow;\n\tprecision ").concat(t.precision," isampler2D;\n\tprecision ").concat(t.precision," isampler3D;\n\tprecision ").concat(t.precision," isamplerCube;\n\tprecision ").concat(t.precision," isampler2DArray;\n\tprecision ").concat(t.precision," usampler2D;\n\tprecision ").concat(t.precision," usampler3D;\n\tprecision ").concat(t.precision," usamplerCube;\n\tprecision ").concat(t.precision," usampler2DArray;\n\t");return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Ea(l,t,e,n){var u,c,i,h=l.getContext(),r=e.defines,a=e.vertexShader,o=e.fragmentShader,s=(i="SHADOWMAP_TYPE_BASIC",1===e.shadowMapType?i="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?i="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(i="SHADOWMAP_TYPE_VSM"),function(){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV"}return t}()),d=(d="ENVMAP_MODE_REFLECTION",d=e.envMap&&302===e.envMapMode?"ENVMAP_MODE_REFRACTION":d),f=function(){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(),p=null===(p=e.envMapCubeUVHeight)?null:(v=Math.log2(p)-2,p=1/p,{texelWidth:1/(3*Math.max(Math.pow(2,v),112)),texelHeight:p,maxMip:v}),v=[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(fa).join("\n"),r=function(t){var e,n=[];for(e in t){var i=t[e];!1!==i&&n.push("#define "+e+" "+i)}return n.join("\n")}(r),m=h.createProgram(),g=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(0<(u=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,r].filter(fa).join("\n")).length&&(u+="\n"),0<(c=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,r].filter(fa).join("\n")).length&&(c+="\n")):(u=[Ma(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,r,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+d:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",0<e.morphTargetsCount?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",0<e.morphTargetsCount?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+i:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",0<e.numLightProbes?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(fa).join("\n"),c=[Ma(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,r,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+s:"",e.envMap?"#define "+d:"",e.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+i:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",0<e.numLightProbes?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==e.toneMapping?"#define TONE_MAPPING":"",0!==e.toneMapping?E.tonemapping_pars_fragment:"",0!==e.toneMapping?function(t,e){var n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 6:n="AgX";break;case 7:n="Neutral";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",E.colorspace_pars_fragment,(r="linearToOutputTexel",s=function(t){var e,n=Gt.getPrimaries(Gt.workingColorSpace),i=Gt.getPrimaries(t);switch(n===i?e="":"p3"===n&&"rec709"===i?e="LinearDisplayP3ToLinearSRGB":"rec709"===n&&"p3"===i&&(e="LinearSRGBToLinearDisplayP3"),t){case"srgb-linear":case"display-p3-linear":return[e,"LinearTransferOETF"];case"srgb":case"display-p3":return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[e,"LinearTransferOETF"]}}(s=e.outputColorSpace),"vec4 ".concat(r,"( vec4 value ) { return ").concat(s[0],"( ").concat(s[1],"( value ) ); }")),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(fa).join("\n")),a=va(pa(ga(a),e),e),o=va(pa(ga(o),e),e),a=wa(a),o=wa(o),!0!==e.isRawShaderMaterial&&(g="#version 300 es\n",u=[v,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+u,c=["#define varying in","300 es"===e.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===e.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+c);var y,A,d=g+u+a,f=g+c+o,x=ca(h,h.VERTEX_SHADER,d),w=ca(h,h.FRAGMENT_SHADER,f);function b(t){var e,n,i,r,a,o,s;l.debug.checkShaderErrors&&(e=h.getProgramInfoLog(m).trim(),n=h.getShaderInfoLog(x).trim(),i=h.getShaderInfoLog(w).trim(),!(a=r=!0)===h.getProgramParameter(m,h.LINK_STATUS)?(r=!1,"function"==typeof l.debug.onShaderError?l.debug.onShaderError(h,m,x,w):(o=da(h,x,"vertex"),s=da(h,w,"fragment"),console.error("THREE.WebGLProgram: Shader Error "+h.getError()+" - VALIDATE_STATUS "+h.getProgramParameter(m,h.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+e+"\n"+o+"\n"+s))):""!==e?console.warn("THREE.WebGLProgram: Program Info Log:",e):""!==n&&""!==i||(a=!1),a)&&(t.diagnostics={runnable:r,programLog:e,vertexShader:{log:n,prefix:u},fragmentShader:{log:i,prefix:c}}),h.deleteShader(x),h.deleteShader(w),y=new ua(h,m),A=function(t,e){for(var n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var a=t.getActiveAttrib(e,r),o=a.name,s=1;a.type===t.FLOAT_MAT2&&(s=2),a.type===t.FLOAT_MAT3&&(s=3),a.type===t.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}(h,m)}h.attachShader(m,x),h.attachShader(m,w),void 0!==e.index0AttributeName?h.bindAttribLocation(m,0,e.index0AttributeName):!0===e.morphTargets&&h.bindAttribLocation(m,0,"position"),h.linkProgram(m),this.getUniforms=function(){return void 0===y&&b(this),y};var M=!(this.getAttributes=function(){return void 0===A&&b(this),A})===e.rendererExtensionParallelShaderCompile;return this.isReady=function(){return M=!1===M?h.getProgramParameter(m,37297):M},this.destroy=function(){n.releaseStatesOfProgram(this),h.deleteProgram(m),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=ha++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=w,this}var Sa=0,Ca=e(function t(){Ht(this,t),this.shaderCache=new Map,this.materialCache=new Map},[{key:"update",value:function(t){var e=t.vertexShader,n=t.fragmentShader,e=this._getShaderStage(e),n=this._getShaderStage(n),t=this._getShaderCacheForMaterial(t);return!1===t.has(e)&&(t.add(e),e.usedTimes++),!1===t.has(n)&&(t.add(n),n.usedTimes++),this}},{key:"remove",value:function(t){var e,n=tt(this.materialCache.get(t));try{for(n.s();!(e=n.n()).done;){var i=e.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(t){n.e(t)}finally{n.f()}return this.materialCache.delete(t),this}},{key:"getVertexShaderID",value:function(t){return this._getShaderStage(t.vertexShader).id}},{key:"getFragmentShaderID",value:function(t){return this._getShaderStage(t.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(t){var e=this.materialCache,n=e.get(t);return void 0===n&&(n=new Set,e.set(t,n)),n}},{key:"_getShaderStage",value:function(t){var e=this.shaderCache,n=e.get(t);return void 0===n&&(n=new Ta(t),e.set(t,n)),n}}]),Ta=e(function t(e){Ht(this,t),this.id=Sa++,this.code=e,this.usedTimes=0});function _a(tt,et,nt,it,rt,o,at){var a=new Se,ot=new Ca,st=new Set,s=[],lt=rt.logarithmicDepthBuffer,ut=rt.vertexTextures,ct=rt.precision,ht={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function dt(t){return st.add(t),0===t?"uv":"uv".concat(t)}return{getParameters:function(t,e,O,n,i){var r=n.fog,a=i.geometry,n=t.isMeshStandardMaterial?n.environment:null,n=(t.isMeshStandardMaterial?nt:et).get(t.envMap||n),U=n&&306===n.mapping?n.image.height:null,o=ht[t.type];null!==t.precision&&(ct=rt.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",ct,"instead.");var s,l,u,c,h=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,h=void 0!==h?h.length:0,d=0,f=(void 0!==a.morphAttributes.position&&(d=1),void 0!==a.morphAttributes.normal&&(d=2),void 0!==a.morphAttributes.color&&(d=3),o?(u=(c=Ci[o]).vertexShader,c=c.fragmentShader):(u=t.vertexShader,c=t.fragmentShader,ot.update(t),s=ot.getVertexShaderID(t),l=ot.getFragmentShaderID(t)),tt.getRenderTarget()),p=!0===i.isInstancedMesh,v=!0===i.isBatchedMesh,m=!!t.map,N=!!t.matcap,g=!!n,y=!!t.aoMap,A=!!t.lightMap,x=!!t.bumpMap,w=!!t.normalMap,b=!!t.displacementMap,M=!!t.emissiveMap,E=!!t.metalnessMap,S=!!t.roughnessMap,C=0<t.anisotropy,T=0<t.clearcoat,z=0<t.dispersion,_=0<t.iridescence,k=0<t.sheen,P=0<t.transmission,R=C&&!!t.anisotropyMap,D=T&&!!t.clearcoatMap,B=T&&!!t.clearcoatNormalMap,L=T&&!!t.clearcoatRoughnessMap,F=_&&!!t.iridescenceMap,H=_&&!!t.iridescenceThicknessMap,G=k&&!!t.sheenColorMap,V=k&&!!t.sheenRoughnessMap,Q=!!t.specularMap,j=!!t.specularColorMap,X=!!t.specularIntensityMap,W=P&&!!t.transmissionMap,Y=P&&!!t.thicknessMap,J=!!t.gradientMap,I=!!t.alphaMap,K=0<t.alphaTest,q=!!t.alphaHash,Z=!!t.extensions,$=0,o=(!t.toneMapped||null!==f&&!0!==f.isXRRenderTarget||($=tt.toneMapping),{shaderID:o,shaderType:t.type,shaderName:t.name,vertexShader:u,fragmentShader:c,defines:t.defines,customVertexShaderID:s,customFragmentShaderID:l,isRawShaderMaterial:!0===t.isRawShaderMaterial,glslVersion:t.glslVersion,precision:ct,batching:v,batchingColor:v&&null!==i._colorsTexture,instancing:p,instancingColor:p&&null!==i.instanceColor,instancingMorph:p&&null!==i.morphTexture,supportsVertexTextures:ut,outputColorSpace:null===f?tt.outputColorSpace:!0===f.isXRRenderTarget?f.texture.colorSpace:"srgb-linear",alphaToCoverage:!!t.alphaToCoverage,map:m,matcap:N,envMap:g,envMapMode:g&&n.mapping,envMapCubeUVHeight:U,aoMap:y,lightMap:A,bumpMap:x,normalMap:w,displacementMap:ut&&b,emissiveMap:M,normalMapObjectSpace:w&&1===t.normalMapType,normalMapTangentSpace:w&&0===t.normalMapType,metalnessMap:E,roughnessMap:S,anisotropy:C,anisotropyMap:R,clearcoat:T,clearcoatMap:D,clearcoatNormalMap:B,clearcoatRoughnessMap:L,dispersion:z,iridescence:_,iridescenceMap:F,iridescenceThicknessMap:H,sheen:k,sheenColorMap:G,sheenRoughnessMap:V,specularMap:Q,specularColorMap:j,specularIntensityMap:X,transmission:P,transmissionMap:W,thicknessMap:Y,gradientMap:J,opaque:!1===t.transparent&&1===t.blending&&!1===t.alphaToCoverage,alphaMap:I,alphaTest:K,alphaHash:q,combine:t.combine,mapUv:m&&dt(t.map.channel),aoMapUv:y&&dt(t.aoMap.channel),lightMapUv:A&&dt(t.lightMap.channel),bumpMapUv:x&&dt(t.bumpMap.channel),normalMapUv:w&&dt(t.normalMap.channel),displacementMapUv:b&&dt(t.displacementMap.channel),emissiveMapUv:M&&dt(t.emissiveMap.channel),metalnessMapUv:E&&dt(t.metalnessMap.channel),roughnessMapUv:S&&dt(t.roughnessMap.channel),anisotropyMapUv:R&&dt(t.anisotropyMap.channel),clearcoatMapUv:D&&dt(t.clearcoatMap.channel),clearcoatNormalMapUv:B&&dt(t.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:L&&dt(t.clearcoatRoughnessMap.channel),iridescenceMapUv:F&&dt(t.iridescenceMap.channel),iridescenceThicknessMapUv:H&&dt(t.iridescenceThicknessMap.channel),sheenColorMapUv:G&&dt(t.sheenColorMap.channel),sheenRoughnessMapUv:V&&dt(t.sheenRoughnessMap.channel),specularMapUv:Q&&dt(t.specularMap.channel),specularColorMapUv:j&&dt(t.specularColorMap.channel),specularIntensityMapUv:X&&dt(t.specularIntensityMap.channel),transmissionMapUv:W&&dt(t.transmissionMap.channel),thicknessMapUv:Y&&dt(t.thicknessMap.channel),alphaMapUv:I&&dt(t.alphaMap.channel),vertexTangents:!!a.attributes.tangent&&(w||C),vertexColors:t.vertexColors,vertexAlphas:!0===t.vertexColors&&!!a.attributes.color&&4===a.attributes.color.itemSize,pointsUvs:!0===i.isPoints&&!!a.attributes.uv&&(m||I),fog:!!r,useFog:!0===t.fog,fogExp2:!!r&&r.isFogExp2,flatShading:!0===t.flatShading,sizeAttenuation:!0===t.sizeAttenuation,logarithmicDepthBuffer:lt,skinning:!0===i.isSkinnedMesh,morphTargets:void 0!==a.morphAttributes.position,morphNormals:void 0!==a.morphAttributes.normal,morphColors:void 0!==a.morphAttributes.color,morphTargetsCount:h,morphTextureStride:d,numDirLights:e.directional.length,numPointLights:e.point.length,numSpotLights:e.spot.length,numSpotLightMaps:e.spotLightMap.length,numRectAreaLights:e.rectArea.length,numHemiLights:e.hemi.length,numDirLightShadows:e.directionalShadowMap.length,numPointLightShadows:e.pointShadowMap.length,numSpotLightShadows:e.spotShadowMap.length,numSpotLightShadowsWithMaps:e.numSpotLightShadowsWithMaps,numLightProbes:e.numLightProbes,numClippingPlanes:at.numPlanes,numClipIntersection:at.numIntersection,dithering:t.dithering,shadowMapEnabled:tt.shadowMap.enabled&&0<O.length,shadowMapType:tt.shadowMap.type,toneMapping:$,decodeVideoTexture:m&&!0===t.map.isVideoTexture&&"srgb"===Gt.getTransfer(t.map.colorSpace),premultipliedAlpha:t.premultipliedAlpha,doubleSided:2===t.side,flipSided:1===t.side,useDepthPacking:0<=t.depthPacking,depthPacking:t.depthPacking||0,index0AttributeName:t.index0AttributeName,extensionClipCullDistance:Z&&!0===t.extensions.clipCullDistance&&it.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Z&&!0===t.extensions.multiDraw&&it.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:it.has("KHR_parallel_shader_compile"),customProgramCacheKey:t.customProgramCacheKey()});return o.vertexUv1s=st.has(1),o.vertexUv2s=st.has(2),o.vertexUv3s=st.has(3),st.clear(),o},getProgramCacheKey:function(t){var e,n,i=[];if(t.shaderID?i.push(t.shaderID):(i.push(t.customVertexShaderID),i.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)i.push(r),i.push(t.defines[r]);return!1===t.isRawShaderMaterial&&((e=i).push((n=t).precision),e.push(n.outputColorSpace),e.push(n.envMapMode),e.push(n.envMapCubeUVHeight),e.push(n.mapUv),e.push(n.alphaMapUv),e.push(n.lightMapUv),e.push(n.aoMapUv),e.push(n.bumpMapUv),e.push(n.normalMapUv),e.push(n.displacementMapUv),e.push(n.emissiveMapUv),e.push(n.metalnessMapUv),e.push(n.roughnessMapUv),e.push(n.anisotropyMapUv),e.push(n.clearcoatMapUv),e.push(n.clearcoatNormalMapUv),e.push(n.clearcoatRoughnessMapUv),e.push(n.iridescenceMapUv),e.push(n.iridescenceThicknessMapUv),e.push(n.sheenColorMapUv),e.push(n.sheenRoughnessMapUv),e.push(n.specularMapUv),e.push(n.specularColorMapUv),e.push(n.specularIntensityMapUv),e.push(n.transmissionMapUv),e.push(n.thicknessMapUv),e.push(n.combine),e.push(n.fogExp2),e.push(n.sizeAttenuation),e.push(n.morphTargetsCount),e.push(n.morphAttributeCount),e.push(n.numDirLights),e.push(n.numPointLights),e.push(n.numSpotLights),e.push(n.numSpotLightMaps),e.push(n.numHemiLights),e.push(n.numRectAreaLights),e.push(n.numDirLightShadows),e.push(n.numPointLightShadows),e.push(n.numSpotLightShadows),e.push(n.numSpotLightShadowsWithMaps),e.push(n.numLightProbes),e.push(n.shadowMapType),e.push(n.toneMapping),e.push(n.numClippingPlanes),e.push(n.numClipIntersection),e.push(n.depthPacking),e=i,n=t,a.disableAll(),n.supportsVertexTextures&&a.enable(0),n.instancing&&a.enable(1),n.instancingColor&&a.enable(2),n.instancingMorph&&a.enable(3),n.matcap&&a.enable(4),n.envMap&&a.enable(5),n.normalMapObjectSpace&&a.enable(6),n.normalMapTangentSpace&&a.enable(7),n.clearcoat&&a.enable(8),n.iridescence&&a.enable(9),n.alphaTest&&a.enable(10),n.vertexColors&&a.enable(11),n.vertexAlphas&&a.enable(12),n.vertexUv1s&&a.enable(13),n.vertexUv2s&&a.enable(14),n.vertexUv3s&&a.enable(15),n.vertexTangents&&a.enable(16),n.anisotropy&&a.enable(17),n.alphaHash&&a.enable(18),n.batching&&a.enable(19),n.dispersion&&a.enable(20),n.batchingColor&&a.enable(21),e.push(a.mask),a.disableAll(),n.fog&&a.enable(0),n.useFog&&a.enable(1),n.flatShading&&a.enable(2),n.logarithmicDepthBuffer&&a.enable(3),n.skinning&&a.enable(4),n.morphTargets&&a.enable(5),n.morphNormals&&a.enable(6),n.morphColors&&a.enable(7),n.premultipliedAlpha&&a.enable(8),n.shadowMapEnabled&&a.enable(9),n.doubleSided&&a.enable(10),n.flipSided&&a.enable(11),n.useDepthPacking&&a.enable(12),n.dithering&&a.enable(13),n.transmission&&a.enable(14),n.sheen&&a.enable(15),n.opaque&&a.enable(16),n.pointsUvs&&a.enable(17),n.decodeVideoTexture&&a.enable(18),n.alphaToCoverage&&a.enable(19),e.push(a.mask),i.push(tt.outputColorSpace)),i.push(t.customProgramCacheKey),i.join()},getUniforms:function(t){var e=ht[t.type];return e?(e=Ci[e],ti.clone(e.uniforms)):t.uniforms},acquireProgram:function(t,e){for(var n,i=0,r=s.length;i<r;i++){var a=s[i];if(a.cacheKey===e){++(n=a).usedTimes;break}}return void 0===n&&(n=new Ea(tt,e,t,o),s.push(n)),n},releaseProgram:function(t){var e;0==--t.usedTimes&&(e=s.indexOf(t),s[e]=s[s.length-1],s.pop(),t.destroy())},releaseShaderCache:function(t){ot.remove(t)},programs:s,dispose:function(){ot.dispose()}}}function ka(){var i=new WeakMap;return{get:function(t){var e=i.get(t);return void 0===e&&i.set(t,e={}),e},remove:function(t){i.delete(t)},update:function(t,e,n){i.get(t)[e]=n},dispose:function(){i=new WeakMap}}}function Pa(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Ra(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Da(){var s=[],l=0,o=[],u=[],c=[];function h(t,e,n,i,r,a){var o=s[l];return void 0===o?(o={id:t.id,object:t,geometry:e,material:n,groupOrder:i,renderOrder:t.renderOrder,z:r,group:a},s[l]=o):(o.id=t.id,o.object=t,o.geometry=e,o.material=n,o.groupOrder=i,o.renderOrder=t.renderOrder,o.z=r,o.group=a),l++,o}return{opaque:o,transmissive:u,transparent:c,init:function(){l=0,c.length=u.length=o.length=0},push:function(t,e,n,i,r,a){t=h(t,e,n,i,r,a);(0<n.transmission?u:!0===n.transparent?c:o).push(t)},unshift:function(t,e,n,i,r,a){t=h(t,e,n,i,r,a);(0<n.transmission?u:!0===n.transparent?c:o).unshift(t)},finish:function(){for(var t=l,e=s.length;t<e;t++){var n=s[t];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.group=null}},sort:function(t,e){1<o.length&&o.sort(t||Pa),1<u.length&&u.sort(e||Ra),1<c.length&&c.sort(e||Ra)}}}function Ba(){var r=new WeakMap;return{get:function(t,e){var n,i=r.get(t);return void 0===i?(n=new Da,r.set(t,[n])):e>=i.length?(n=new Da,i.push(n)):n=i[e],n},dispose:function(){r=new WeakMap}}}function La(){var n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];var e;switch(t.type){case"DirectionalLight":e={direction:new Vt,color:new Qt};break;case"SpotLight":e={position:new Vt,direction:new Vt,color:new Qt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new Vt,color:new Qt,distance:0,decay:0};break;case"HemisphereLight":e={direction:new Vt,skyColor:new Qt,groundColor:new Qt};break;case"RectAreaLight":e={color:new Qt,position:new Vt,halfWidth:new Vt,halfHeight:new Vt}}return n[t.id]=e}}}var Ia=0;function Oa(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Ua(k){for(var n,P=new La,R=(n={},{get:function(t){if(void 0!==n[t.id])return n[t.id];var e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $,shadowCameraNear:1,shadowCameraFar:1e3}}return n[t.id]=e}}),D={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0},t=0;t<9;t++)D.probe.push(new Vt);var p=new Vt,v=new fe,m=new fe;return{setup:function(t){for(var e=0,n=0,i=0,r=0;r<9;r++)D.probe[r].set(0,0,0);var a=0,o=0,s=0,l=0,u=0,c=0,h=0,d=0,f=0,p=0,v=0;t.sort(Oa);for(var m=0,g=t.length;m<g;m++){var y,A,x,w,b=t[m],M=b.color,E=b.intensity,S=b.distance,C=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)e+=M.r*E,n+=M.g*E,i+=M.b*E;else if(b.isLightProbe){for(var T=0;T<9;T++)D.probe[T].addScaledVector(b.sh.coefficients[T],E);v++}else b.isDirectionalLight?((x=P.get(b)).color.copy(b.color).multiplyScalar(b.intensity),b.castShadow&&(y=b.shadow,(A=R.get(b)).shadowBias=y.bias,A.shadowNormalBias=y.normalBias,A.shadowRadius=y.radius,A.shadowMapSize=y.mapSize,D.directionalShadow[a]=A,D.directionalShadowMap[a]=C,D.directionalShadowMatrix[a]=b.shadow.matrix,c++),D.directional[a]=x,a++):b.isSpotLight?((y=P.get(b)).position.setFromMatrixPosition(b.matrixWorld),y.color.copy(M).multiplyScalar(E),y.distance=S,y.coneCos=Math.cos(b.angle),y.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),y.decay=b.decay,D.spot[s]=y,A=b.shadow,b.map&&(D.spotLightMap[f]=b.map,f++,A.updateMatrices(b),b.castShadow)&&p++,D.spotLightMatrix[s]=A.matrix,b.castShadow&&((x=R.get(b)).shadowBias=A.bias,x.shadowNormalBias=A.normalBias,x.shadowRadius=A.radius,x.shadowMapSize=A.mapSize,D.spotShadow[s]=x,D.spotShadowMap[s]=C,d++),s++):b.isRectAreaLight?((S=P.get(b)).color.copy(M).multiplyScalar(E),S.halfWidth.set(.5*b.width,0,0),S.halfHeight.set(0,.5*b.height,0),D.rectArea[l]=S,l++):b.isPointLight?((M=P.get(b)).color.copy(b.color).multiplyScalar(b.intensity),M.distance=b.distance,M.decay=b.decay,b.castShadow&&(S=b.shadow,(w=R.get(b)).shadowBias=S.bias,w.shadowNormalBias=S.normalBias,w.shadowRadius=S.radius,w.shadowMapSize=S.mapSize,w.shadowCameraNear=S.camera.near,w.shadowCameraFar=S.camera.far,D.pointShadow[o]=w,D.pointShadowMap[o]=C,D.pointShadowMatrix[o]=b.shadow.matrix,h++),D.point[o]=M,o++):b.isHemisphereLight&&((S=P.get(b)).skyColor.copy(b.color).multiplyScalar(E),S.groundColor.copy(b.groundColor).multiplyScalar(E),D.hemi[u]=S,u++)}0<l&&(!0===k.has("OES_texture_float_linear")?(D.rectAreaLTC1=B.LTC_FLOAT_1,D.rectAreaLTC2=B.LTC_FLOAT_2):(D.rectAreaLTC1=B.LTC_HALF_1,D.rectAreaLTC2=B.LTC_HALF_2)),D.ambient[0]=e,D.ambient[1]=n,D.ambient[2]=i;var _=D.hash;_.directionalLength===a&&_.pointLength===o&&_.spotLength===s&&_.rectAreaLength===l&&_.hemiLength===u&&_.numDirectionalShadows===c&&_.numPointShadows===h&&_.numSpotShadows===d&&_.numSpotMaps===f&&_.numLightProbes===v||(D.directional.length=a,D.spot.length=s,D.rectArea.length=l,D.point.length=o,D.hemi.length=u,D.directionalShadow.length=c,D.directionalShadowMap.length=c,D.pointShadow.length=h,D.pointShadowMap.length=h,D.spotShadow.length=d,D.spotShadowMap.length=d,D.directionalShadowMatrix.length=c,D.pointShadowMatrix.length=h,D.spotLightMatrix.length=d+f-p,D.spotLightMap.length=f,D.numSpotLightShadowsWithMaps=p,D.numLightProbes=v,_.directionalLength=a,_.pointLength=o,_.spotLength=s,_.rectAreaLength=l,_.hemiLength=u,_.numDirectionalShadows=c,_.numPointShadows=h,_.numSpotShadows=d,_.numSpotMaps=f,_.numLightProbes=v,D.version=Ia++)},setupView:function(t,e){for(var n=0,i=0,r=0,a=0,o=0,s=e.matrixWorldInverse,l=0,u=t.length;l<u;l++){var c,h,d,f=t[l];f.isDirectionalLight?((c=D.directional[n]).direction.setFromMatrixPosition(f.matrixWorld),p.setFromMatrixPosition(f.target.matrixWorld),c.direction.sub(p),c.direction.transformDirection(s),n++):f.isSpotLight?((c=D.spot[r]).position.setFromMatrixPosition(f.matrixWorld),c.position.applyMatrix4(s),c.direction.setFromMatrixPosition(f.matrixWorld),p.setFromMatrixPosition(f.target.matrixWorld),c.direction.sub(p),c.direction.transformDirection(s),r++):f.isRectAreaLight?((h=D.rectArea[a]).position.setFromMatrixPosition(f.matrixWorld),h.position.applyMatrix4(s),m.identity(),v.copy(f.matrixWorld),v.premultiply(s),m.extractRotation(v),h.halfWidth.set(.5*f.width,0,0),h.halfHeight.set(0,.5*f.height,0),h.halfWidth.applyMatrix4(m),h.halfHeight.applyMatrix4(m),a++):f.isPointLight?((h=D.point[i]).position.setFromMatrixPosition(f.matrixWorld),h.position.applyMatrix4(s),i++):f.isHemisphereLight&&((d=D.hemi[o]).direction.setFromMatrixPosition(f.matrixWorld),d.direction.transformDirection(s),o++)}},state:D}}function Na(t){var e=new Ua(t),n=[],i=[],r={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function(t){r.camera=t,n.length=0,i.length=0},state:r,setupLights:function(){e.setup(n)},setupLightsView:function(t){e.setupView(n,t)},pushLight:function(t){n.push(t)},pushShadow:function(t){i.push(t)}}}function za(r){var a=new WeakMap;return{get:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=a.get(t);return void 0===i?(e=new Na(r),a.set(t,[e])):n>=i.length?(e=new Na(r),i.push(e)):e=i[n],e},dispose:function(){a=new WeakMap}}}t(Va,sn);var Fa=e(Va,[{key:"copy",value:function(t){return o(s(Va.prototype),"copy",this).call(this,t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}]),Ha=(t(Ga,sn),e(Ga,[{key:"copy",value:function(t){return o(s(Ga.prototype),"copy",this).call(this,t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}]));function Ga(t){var e;return Ht(this,Ga),(e=H(this,Ga)).isMeshDistanceMaterial=!0,e.type="MeshDistanceMaterial",e.map=null,e.alphaMap=null,e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.setValues(t),e}function Va(t){var e;return Ht(this,Va),(e=H(this,Va)).isMeshDepthMaterial=!0,e.type="MeshDepthMaterial",e.depthPacking=3200,e.map=null,e.alphaMap=null,e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.wireframe=!1,e.wireframeLinewidth=1,e.setValues(t),e}function Qa(A,x,t){var w=new mi,b=new $,M=new $,E=new Yt,s=new Fa({depthPacking:3201}),l=new Ha,u={},S=t.maxTextureSize,c=Z(Z(Z({},0,1),1,0),2,2),C=new ei({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),T=C.clone(),t=(T.defines.HORIZONTAL_PASS=1,new En),_=(t.setAttribute("position",new fn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3)),new Gn(t,C)),k=this,P=(this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.type);function R(t,e,n,i){var r,a,o=null,t=!0===n.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;return void 0!==t?o=t:(o=!0===n.isPointLight?l:s,(A.localClippingEnabled&&!0===e.clipShadows&&Array.isArray(e.clippingPlanes)&&0!==e.clippingPlanes.length||e.displacementMap&&0!==e.displacementScale||e.alphaMap&&0<e.alphaTest||e.map&&0<e.alphaTest)&&(t=o.uuid,r=e.uuid,void 0===(a=u[t])&&(u[t]=a={}),void 0===(t=a[r])&&(t=o.clone(),a[r]=t,e.addEventListener("dispose",h)),o=t)),o.visible=e.visible,o.wireframe=e.wireframe,o.side=3===i?null!==e.shadowSide?e.shadowSide:e.side:null!==e.shadowSide?e.shadowSide:c[e.side],o.alphaMap=e.alphaMap,o.alphaTest=e.alphaTest,o.map=e.map,o.clipShadows=e.clipShadows,o.clippingPlanes=e.clippingPlanes,o.clipIntersection=e.clipIntersection,o.displacementMap=e.displacementMap,o.displacementScale=e.displacementScale,o.displacementBias=e.displacementBias,o.wireframeLinewidth=e.wireframeLinewidth,o.linewidth=e.linewidth,!0===n.isPointLight&&!0===o.isMeshDistanceMaterial&&(A.properties.get(o).light=n),o}function h(t){for(var e in t.target.removeEventListener("dispose",h),u){var e=u[e],n=t.target.uuid;n in e&&(e[n].dispose(),delete e[n])}}this.render=function(t,e,n){if(!1!==k.enabled&&(!1!==k.autoUpdate||!1!==k.needsUpdate)&&0!==t.length){var i=A.getRenderTarget(),r=A.getActiveCubeFace(),a=A.getActiveMipmapLevel(),o=A.state;o.setBlending(0),o.buffers.color.setClear(1,1,1,1),o.buffers.depth.setTest(!0),o.setScissorTest(!1);for(var s=3!==P&&3===this.type,l=3===P&&3!==this.type,u=0,c=t.length;u<c;u++){var h=t[u],d=h.shadow;if(void 0!==d){if(!1!==d.autoUpdate||!1!==d.needsUpdate){b.copy(d.mapSize);var f=d.getFrameExtents();b.multiply(f),M.copy(d.mapSize),(b.x>S||b.y>S)&&(b.x>S&&(M.x=Math.floor(S/f.x),b.x=M.x*f.x,d.mapSize.x=M.x),b.y>S)&&(M.y=Math.floor(S/f.y),b.y=M.y*f.y,d.mapSize.y=M.y),null!==d.map&&!0!=s&&!0!=l||(f=3!==this.type?{minFilter:1003,magFilter:1003}:{},null!==d.map&&d.map.dispose(),d.map=new Jt(b.x,b.y,f),d.map.texture.name=h.name+".shadowMap",d.camera.updateProjectionMatrix()),A.setRenderTarget(d.map),A.clear();for(var p=d.getViewportCount(),v=0;v<p;v++){var m=d.getViewport(v);E.set(M.x*m.x,M.y*m.y,M.x*m.z,M.y*m.w),o.viewport(E),d.updateMatrices(h,v),w=d.getFrustum(),function t(e,n,i,r,a){if(!1!==e.visible){if(e.layers.test(n.layers)&&(e.isMesh||e.isLine||e.isPoints)&&(e.castShadow||e.receiveShadow&&3===a)&&(!e.frustumCulled||w.intersectsObject(e))){e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld);var o,s=x.update(e),l=e.material;if(Array.isArray(l))for(var u=s.groups,c=0,h=u.length;c<h;c++){var d=u[c],f=l[d.materialIndex];f&&f.visible&&(f=R(e,f,r,a),e.onBeforeShadow(A,e,n,i,s,f,d),A.renderBufferDirect(i,null,s,f,e,d),e.onAfterShadow(A,e,n,i,s,f,d))}else l.visible&&(o=R(e,l,r,a),e.onBeforeShadow(A,e,n,i,s,o,null),A.renderBufferDirect(i,null,s,o,e,null),e.onAfterShadow(A,e,n,i,s,o,null))}for(var p=e.children,v=0,m=p.length;v<m;v++)t(p[v],n,i,r,a)}}(e,n,d.camera,h,this.type)}!0!==d.isPointLightShadow&&3===this.type&&(f=d,g=n,y=void 0,y=x.update(_),C.defines.VSM_SAMPLES!==f.blurSamples&&(C.defines.VSM_SAMPLES=f.blurSamples,T.defines.VSM_SAMPLES=f.blurSamples,C.needsUpdate=!0,T.needsUpdate=!0),null===f.mapPass&&(f.mapPass=new Jt(b.x,b.y)),C.uniforms.shadow_pass.value=f.map.texture,C.uniforms.resolution.value=f.mapSize,C.uniforms.radius.value=f.radius,A.setRenderTarget(f.mapPass),A.clear(),A.renderBufferDirect(g,null,y,C,_,null),T.uniforms.shadow_pass.value=f.mapPass.texture,T.uniforms.resolution.value=f.mapSize,T.uniforms.radius.value=f.radius,A.setRenderTarget(f.map),A.clear(),A.renderBufferDirect(g,null,y,T,_,null)),d.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",h,"has no shadow.")}P=this.type,k.needsUpdate=!1,A.setRenderTarget(i,r,a)}var g,y}}function ja(c){var i=new function(){var e=!1,a=new Yt,n=null,o=new Yt(0,0,0,0);return{setMask:function(t){n===t||e||(c.colorMask(t,t,t,t),n=t)},setLocked:function(t){e=t},setClear:function(t,e,n,i,r){!0===r&&(t*=i,e*=i,n*=i),a.set(t,e,n,i),!1===o.equals(a)&&(c.clearColor(t,e,n,i),o.copy(a))},reset:function(){e=!1,n=null,o.set(-1,0,0,0)}}},r=new function(){var e=!1,n=null,i=null,r=null;return{setTest:function(t){(t?R:D)(c.DEPTH_TEST)},setMask:function(t){n===t||e||(c.depthMask(t),n=t)},setFunc:function(t){if(i!==t){switch(t){case 0:c.depthFunc(c.NEVER);break;case 1:c.depthFunc(c.ALWAYS);break;case 2:c.depthFunc(c.LESS);break;case 3:c.depthFunc(c.LEQUAL);break;case 4:c.depthFunc(c.EQUAL);break;case 5:c.depthFunc(c.GEQUAL);break;case 6:c.depthFunc(c.GREATER);break;case 7:c.depthFunc(c.NOTEQUAL);break;default:c.depthFunc(c.LEQUAL)}i=t}},setLocked:function(t){e=t},setClear:function(t){r!==t&&(c.clearDepth(t),r=t)},reset:function(){e=!1,r=i=n=null}}},a=new function(){var e=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(t){e||(t?R:D)(c.STENCIL_TEST)},setMask:function(t){n===t||e||(c.stencilMask(t),n=t)},setFunc:function(t,e,n){i===t&&r===e&&a===n||(c.stencilFunc(t,e,n),i=t,r=e,a=n)},setOp:function(t,e,n){o===t&&s===e&&l===n||(c.stencilOp(t,e,n),o=t,s=e,l=n)},setLocked:function(t){e=t},setClear:function(t){u!==t&&(c.clearStencil(t),u=t)},reset:function(){e=!1,u=l=s=o=a=r=i=n=null}}},O=new WeakMap,o=new WeakMap,e={},n={},s=new WeakMap,U=[],l=null,h=!1,d=null,f=null,p=null,v=null,m=null,g=null,y=null,A=new Qt(0,0,0),x=0,w=!1,u=null,b=null,M=null,E=null,S=null,N=c.getParameter(c.MAX_COMBINED_TEXTURE_IMAGE_UNITS),z=!1,t=0,C=c.getParameter(c.VERSION),T=(-1!==C.indexOf("WebGL")?(t=parseFloat(/^WebGL (\d)/.exec(C)[1]),z=1<=t):-1!==C.indexOf("OpenGL ES")&&(t=parseFloat(/^OpenGL ES (\d)/.exec(C)[1]),z=2<=t),null),_={},C=c.getParameter(c.SCISSOR_BOX),t=c.getParameter(c.VIEWPORT),F=(new Yt).fromArray(C),H=(new Yt).fromArray(t);function k(t,e,n,i){var r=new Uint8Array(4),a=c.createTexture();c.bindTexture(t,a),c.texParameteri(t,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(t,c.TEXTURE_MAG_FILTER,c.NEAREST);for(var o=0;o<n;o++)t===c.TEXTURE_3D||t===c.TEXTURE_2D_ARRAY?c.texImage3D(e,0,c.RGBA,1,1,i,0,c.RGBA,c.UNSIGNED_BYTE,r):c.texImage2D(e+o,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,r);return a}var P={};function R(t){!0!==e[t]&&(c.enable(t),e[t]=!0)}function D(t){!1!==e[t]&&(c.disable(t),e[t]=!1)}P[c.TEXTURE_2D]=k(c.TEXTURE_2D,c.TEXTURE_2D,1),P[c.TEXTURE_CUBE_MAP]=k(c.TEXTURE_CUBE_MAP,c.TEXTURE_CUBE_MAP_POSITIVE_X,6),P[c.TEXTURE_2D_ARRAY]=k(c.TEXTURE_2D_ARRAY,c.TEXTURE_2D_ARRAY,1,1),P[c.TEXTURE_3D]=k(c.TEXTURE_3D,c.TEXTURE_3D,1,1),i.setClear(0,0,0,1),r.setClear(1),a.setClear(0),R(c.DEPTH_TEST),r.setFunc(3),G(!1),V(1),R(c.CULL_FACE),I(0);var B=Z(Z(Z({},100,c.FUNC_ADD),101,c.FUNC_SUBTRACT),102,c.FUNC_REVERSE_SUBTRACT),L=(B[103]=c.MIN,B[104]=c.MAX,Z(Z(Z(Z(Z(Z(Z(Z(Z(Z(C={},200,c.ZERO),201,c.ONE),202,c.SRC_COLOR),204,c.SRC_ALPHA),210,c.SRC_ALPHA_SATURATE),208,c.DST_COLOR),206,c.DST_ALPHA),203,c.ONE_MINUS_SRC_COLOR),205,c.ONE_MINUS_SRC_ALPHA),209,c.ONE_MINUS_DST_COLOR),Z(Z(Z(Z(Z(C,207,c.ONE_MINUS_DST_ALPHA),211,c.CONSTANT_COLOR),212,c.ONE_MINUS_CONSTANT_COLOR),213,c.CONSTANT_ALPHA),214,c.ONE_MINUS_CONSTANT_ALPHA));function I(t,e,n,i,r,a,o,s,l,u){if(0!==t){if(!1===h&&(R(c.BLEND),h=!0),5===t)r=r||e,a=a||n,o=o||i,e===f&&r===m||(c.blendEquationSeparate(B[e],B[r]),f=e,m=r),n===p&&i===v&&a===g&&o===y||(c.blendFuncSeparate(L[n],L[i],L[a],L[o]),p=n,v=i,g=a,y=o),!1!==s.equals(A)&&l===x||(c.blendColor(s.r,s.g,s.b,l),A.copy(s),x=l),d=t,w=!1;else if(t!==d||u!==w){if(100===f&&100===m||(c.blendEquation(c.FUNC_ADD),m=f=100),u)switch(t){case 1:c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case 2:c.blendFunc(c.ONE,c.ONE);break;case 3:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case 4:c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case 2:c.blendFunc(c.SRC_ALPHA,c.ONE);break;case 3:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case 4:c.blendFunc(c.ZERO,c.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}y=g=v=p=null,A.set(0,0,0),x=0,d=t,w=u}}else!0===h&&(D(c.BLEND),h=!1)}function G(t){u!==t&&(t?c.frontFace(c.CW):c.frontFace(c.CCW),u=t)}function V(t){0!==t?(R(c.CULL_FACE),t!==b&&(1===t?c.cullFace(c.BACK):2===t?c.cullFace(c.FRONT):c.cullFace(c.FRONT_AND_BACK))):D(c.CULL_FACE),b=t}function Q(t,e,n){t?(R(c.POLYGON_OFFSET_FILL),E===e&&S===n||(c.polygonOffset(e,n),E=e,S=n)):D(c.POLYGON_OFFSET_FILL)}return{buffers:{color:i,depth:r,stencil:a},enable:R,disable:D,bindFramebuffer:function(t,e){return n[t]!==e&&(c.bindFramebuffer(t,e),n[t]=e,t===c.DRAW_FRAMEBUFFER&&(n[c.FRAMEBUFFER]=e),t===c.FRAMEBUFFER&&(n[c.DRAW_FRAMEBUFFER]=e),!0)},drawBuffers:function(t,e){var n=U,i=!1;if(t){void 0===(n=s.get(e))&&s.set(e,n=[]);e=t.textures;if(n.length!==e.length||n[0]!==c.COLOR_ATTACHMENT0){for(var r=0,a=e.length;r<a;r++)n[r]=c.COLOR_ATTACHMENT0+r;n.length=e.length,i=!0}}else n[0]!==c.BACK&&(n[0]=c.BACK,i=!0);i&&c.drawBuffers(n)},useProgram:function(t){return l!==t&&(c.useProgram(t),l=t,!0)},setBlending:I,setMaterial:function(t,e){(2===t.side?D:R)(c.CULL_FACE);var n=1===t.side,e=(G(n=e?!n:n),1===t.blending&&!1===t.transparent?I(0):I(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),i.setMask(t.colorWrite),t.stencilWrite);a.setTest(e),e&&(a.setMask(t.stencilWriteMask),a.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),a.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Q(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),(!0===t.alphaToCoverage?R:D)(c.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:G,setCullFace:V,setLineWidth:function(t){t!==M&&(z&&c.lineWidth(t),M=t)},setPolygonOffset:Q,setScissorTest:function(t){(t?R:D)(c.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=c.TEXTURE0+N-1),T!==t&&(c.activeTexture(t),T=t)},bindTexture:function(t,e,n){void 0===n&&(n=null===T?c.TEXTURE0+N-1:T);var i=_[n];void 0===i&&(_[n]=i={type:void 0,texture:void 0}),i.type===t&&i.texture===e||(T!==n&&(c.activeTexture(n),T=n),c.bindTexture(t,e||P[t]),i.type=t,i.texture=e)},unbindTexture:function(){var t=_[T];void 0!==t&&void 0!==t.type&&(c.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{c.compressedTexImage2D.apply(c,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{c.compressedTexImage3D.apply(c,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{c.texImage2D.apply(c,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{c.texImage3D.apply(c,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,e){var n=o.get(e);void 0===n&&(n=new WeakMap,o.set(e,n)),void 0===n.get(t)&&(e=c.getUniformBlockIndex(e,t.name),n.set(t,e))},uniformBlockBinding:function(t,e){var n=o.get(e).get(t);O.get(e)!==n&&(c.uniformBlockBinding(e,n,t.__bindingPointIndex),O.set(e,n))},texStorage2D:function(){try{c.texStorage2D.apply(c,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{c.texStorage3D.apply(c,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{c.texSubImage2D.apply(c,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{c.texSubImage3D.apply(c,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{c.compressedTexSubImage2D.apply(c,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{c.compressedTexSubImage3D.apply(c,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===F.equals(t)&&(c.scissor(t.x,t.y,t.z,t.w),F.copy(t))},viewport:function(t){!1===H.equals(t)&&(c.viewport(t.x,t.y,t.z,t.w),H.copy(t))},reset:function(){c.disable(c.BLEND),c.disable(c.CULL_FACE),c.disable(c.DEPTH_TEST),c.disable(c.POLYGON_OFFSET_FILL),c.disable(c.SCISSOR_TEST),c.disable(c.STENCIL_TEST),c.disable(c.SAMPLE_ALPHA_TO_COVERAGE),c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ZERO),c.blendFuncSeparate(c.ONE,c.ZERO,c.ONE,c.ZERO),c.blendColor(0,0,0,0),c.colorMask(!0,!0,!0,!0),c.clearColor(0,0,0,0),c.depthMask(!0),c.depthFunc(c.LESS),c.clearDepth(1),c.stencilMask(4294967295),c.stencilFunc(c.ALWAYS,0,4294967295),c.stencilOp(c.KEEP,c.KEEP,c.KEEP),c.clearStencil(0),c.cullFace(c.BACK),c.frontFace(c.CCW),c.polygonOffset(0,0),c.activeTexture(c.TEXTURE0),c.bindFramebuffer(c.FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.useProgram(null),c.lineWidth(1),c.scissor(0,0,c.canvas.width,c.canvas.height),c.viewport(0,0,c.canvas.width,c.canvas.height),e={},T=null,_={},n={},s=new WeakMap,h=!(U=[]),y=g=m=v=p=f=d=l=null,A=new Qt(0,0,0),x=0,w=!1,S=E=M=b=u=null,F.set(0,0,c.canvas.width,c.canvas.height),H.set(0,0,c.canvas.width,c.canvas.height),i.reset(),r.reset(),a.reset()}}}function Xa(U,a,N,z,F,H,S){var o,h=a.has("WEBGL_multisampled_render_to_texture")?a.get("WEBGL_multisampled_render_to_texture"):null,p="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),e=new $,s=new WeakMap,l=new WeakMap,n=!1;try{n="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(U){}function u(t,e){return n?new OffscreenCanvas(t,e):Wt("canvas")}function G(t,e,n){var i=1,r=J(t);return(i=r.width>n||r.height>n?n/Math.max(r.width,r.height):i)<1?"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&t instanceof VideoFrame?(n=Math.floor(i*r.width),i=Math.floor(i*r.height),void 0===o&&(o=u(n,i)),(e=e?u(n,i):o).width=n,e.height=i,e.getContext("2d").drawImage(t,0,0,n,i),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+r.width+"x"+r.height+") to ("+n+"x"+i+")."),e):("data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+r.width+"x"+r.height+")."),t):t}function V(t){return t.generateMipmaps&&1003!==t.minFilter&&1006!==t.minFilter}function Q(t){U.generateMipmap(t)}function j(t,e,n,i,r){r=4<arguments.length&&void 0!==r&&r;if(null!==t){if(void 0!==U[t])return U[t];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+t+"'")}t=e;return e===U.RED&&(n===U.FLOAT&&(t=U.R32F),n===U.HALF_FLOAT&&(t=U.R16F),n===U.UNSIGNED_BYTE)&&(t=U.R8),e===U.RED_INTEGER&&(n===U.UNSIGNED_BYTE&&(t=U.R8UI),n===U.UNSIGNED_SHORT&&(t=U.R16UI),n===U.UNSIGNED_INT&&(t=U.R32UI),n===U.BYTE&&(t=U.R8I),n===U.SHORT&&(t=U.R16I),n===U.INT)&&(t=U.R32I),e===U.RG&&(n===U.FLOAT&&(t=U.RG32F),n===U.HALF_FLOAT&&(t=U.RG16F),n===U.UNSIGNED_BYTE)&&(t=U.RG8),e===U.RG_INTEGER&&(n===U.UNSIGNED_BYTE&&(t=U.RG8UI),n===U.UNSIGNED_SHORT&&(t=U.RG16UI),n===U.UNSIGNED_INT&&(t=U.RG32UI),n===U.BYTE&&(t=U.RG8I),n===U.SHORT&&(t=U.RG16I),n===U.INT)&&(t=U.RG32I),e===U.RGB&&n===U.UNSIGNED_INT_5_9_9_9_REV&&(t=U.RGB9_E5),(t=e===U.RGBA&&(e=r?"linear":Gt.getTransfer(i),n===U.FLOAT&&(t=U.RGBA32F),n===U.HALF_FLOAT&&(t=U.RGBA16F),n===U.UNSIGNED_BYTE&&(t="srgb"===e?U.SRGB8_ALPHA8:U.RGBA8),n===U.UNSIGNED_SHORT_4_4_4_4&&(t=U.RGBA4),n===U.UNSIGNED_SHORT_5_5_5_1)?U.RGB5_A1:t)!==U.R16F&&t!==U.R32F&&t!==U.RG16F&&t!==U.RG32F&&t!==U.RGBA16F&&t!==U.RGBA32F||a.get("EXT_color_buffer_float"),t}function X(t,e){var n;return t?null===e||1014===e||1020===e?n=U.DEPTH24_STENCIL8:1015===e?n=U.DEPTH32F_STENCIL8:1012===e&&(n=U.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===e||1014===e||1020===e?n=U.DEPTH_COMPONENT24:1015===e?n=U.DEPTH_COMPONENT32F:1012===e&&(n=U.DEPTH_COMPONENT16),n}function W(t,e){return!0===V(t)||t.isFramebufferTexture&&1003!==t.minFilter&&1006!==t.minFilter?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&0<t.mipmaps.length?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function c(t){var e,n,i,r,t=t.target;t.removeEventListener("dispose",c),e=t,void 0!==(r=z.get(e)).__webglInit&&(n=e.source,(i=l.get(n))&&((r=i[r.__cacheKey]).usedTimes--,0===r.usedTimes&&d(e),0===Object.keys(i).length)&&l.delete(n),z.remove(e)),t.isVideoTexture&&s.delete(t)}function C(t){var t=t.target,e=(t.removeEventListener("dispose",C),z.get(t));if(t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var n=0;n<6;n++){if(Array.isArray(e.__webglFramebuffer[n]))for(var i=0;i<e.__webglFramebuffer[n].length;i++)U.deleteFramebuffer(e.__webglFramebuffer[n][i]);else U.deleteFramebuffer(e.__webglFramebuffer[n]);e.__webglDepthbuffer&&U.deleteRenderbuffer(e.__webglDepthbuffer[n])}else{if(Array.isArray(e.__webglFramebuffer))for(var r=0;r<e.__webglFramebuffer.length;r++)U.deleteFramebuffer(e.__webglFramebuffer[r]);else U.deleteFramebuffer(e.__webglFramebuffer);if(e.__webglDepthbuffer&&U.deleteRenderbuffer(e.__webglDepthbuffer),e.__webglMultisampledFramebuffer&&U.deleteFramebuffer(e.__webglMultisampledFramebuffer),e.__webglColorRenderbuffer)for(var a=0;a<e.__webglColorRenderbuffer.length;a++)e.__webglColorRenderbuffer[a]&&U.deleteRenderbuffer(e.__webglColorRenderbuffer[a]);e.__webglDepthRenderbuffer&&U.deleteRenderbuffer(e.__webglDepthRenderbuffer)}for(var o=t.textures,s=0,l=o.length;s<l;s++){var u=z.get(o[s]);u.__webglTexture&&(U.deleteTexture(u.__webglTexture),S.memory.textures--),z.remove(o[s])}z.remove(t)}function d(t){var e=z.get(t),t=(U.deleteTexture(e.__webglTexture),t.source);delete l.get(t)[e.__cacheKey],S.memory.textures--}var i=0;function g(t,e){var n,i=z.get(t);if(t.isVideoTexture&&(n=t,r=S.render.frame,s.get(n)!==r&&(s.set(n,r),n.update())),!1===t.isRenderTargetTexture&&0<t.version&&i.__version!==t.version){var r=t.image;if(null===r)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==r.complete)return void f(i,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}N.bindTexture(U.TEXTURE_2D,i.__webglTexture,U.TEXTURE0+e)}var r=Z(Z(Z({},1e3,U.REPEAT),1001,U.CLAMP_TO_EDGE),1002,U.MIRRORED_REPEAT),y=Z(Z(Z(Z(Z(Z({},1003,U.NEAREST),1004,U.NEAREST_MIPMAP_NEAREST),1005,U.NEAREST_MIPMAP_LINEAR),1006,U.LINEAR),1007,U.LINEAR_MIPMAP_NEAREST),1008,U.LINEAR_MIPMAP_LINEAR),A=Z(Z(Z(Z(Z(Z(Z(Z({},512,U.NEVER),519,U.ALWAYS),513,U.LESS),515,U.LEQUAL),514,U.EQUAL),518,U.GEQUAL),516,U.GREATER),517,U.NOTEQUAL);function Y(t,e){var n;1015!==e.type||!1!==a.has("OES_texture_float_linear")||1006!==e.magFilter&&1007!==e.magFilter&&1005!==e.magFilter&&1008!==e.magFilter&&1006!==e.minFilter&&1007!==e.minFilter&&1005!==e.minFilter&&1008!==e.minFilter||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),U.texParameteri(t,U.TEXTURE_WRAP_S,r[e.wrapS]),U.texParameteri(t,U.TEXTURE_WRAP_T,r[e.wrapT]),t!==U.TEXTURE_3D&&t!==U.TEXTURE_2D_ARRAY||U.texParameteri(t,U.TEXTURE_WRAP_R,r[e.wrapR]),U.texParameteri(t,U.TEXTURE_MAG_FILTER,y[e.magFilter]),U.texParameteri(t,U.TEXTURE_MIN_FILTER,y[e.minFilter]),e.compareFunction&&(U.texParameteri(t,U.TEXTURE_COMPARE_MODE,U.COMPARE_REF_TO_TEXTURE),U.texParameteri(t,U.TEXTURE_COMPARE_FUNC,A[e.compareFunction])),!0!==a.has("EXT_texture_filter_anisotropic")||1003===e.magFilter||1005!==e.minFilter&&1008!==e.minFilter||1015===e.type&&!1===a.has("OES_texture_float_linear")||(1<e.anisotropy||z.get(e).__currentAnisotropy)&&(n=a.get("EXT_texture_filter_anisotropic"),U.texParameterf(t,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,F.getMaxAnisotropy())),z.get(e).__currentAnisotropy=e.anisotropy)}function K(t,e){var n=!1,i=(void 0===t.__webglInit&&(t.__webglInit=!0,e.addEventListener("dispose",c)),e.source),r=l.get(i),a=(void 0===r&&l.set(i,r={}),(i=[]).push((a=e).wrapS),i.push(a.wrapT),i.push(a.wrapR||0),i.push(a.magFilter),i.push(a.minFilter),i.push(a.anisotropy),i.push(a.internalFormat),i.push(a.format),i.push(a.type),i.push(a.generateMipmaps),i.push(a.premultiplyAlpha),i.push(a.flipY),i.push(a.unpackAlignment),i.push(a.colorSpace),i.join());return a!==t.__cacheKey&&(void 0===r[a]&&(r[a]={texture:U.createTexture(),usedTimes:0},S.memory.textures++,n=!0),r[a].usedTimes++,void 0!==(i=r[t.__cacheKey])&&(r[t.__cacheKey].usedTimes--,0===i.usedTimes)&&d(e),t.__cacheKey=a,t.__webglTexture=r[a].texture),n}function f(t,e,n){var i=U.TEXTURE_2D,r=((e.isDataArrayTexture||e.isCompressedArrayTexture)&&(i=U.TEXTURE_2D_ARRAY),e.isData3DTexture&&(i=U.TEXTURE_3D),K(t,e)),a=e.source,o=(N.bindTexture(i,t.__webglTexture,U.TEXTURE0+n),z.get(a));if(a.version!==o.__version||!0===r){N.activeTexture(U.TEXTURE0+n);var n=Gt.getPrimaries(Gt.workingColorSpace),s=""===e.colorSpace?null:Gt.getPrimaries(e.colorSpace),n=""===e.colorSpace||n===s?U.NONE:U.BROWSER_DEFAULT_WEBGL;U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,e.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,e.unpackAlignment),U.pixelStorei(U.UNPACK_COLORSPACE_CONVERSION_WEBGL,n);var l,u,c=q(e,c=G(e.image,!1,F.maxTextureSize)),h=H.convert(e.format,e.colorSpace),d=H.convert(e.type),f=j(e.internalFormat,h,d,e.colorSpace,e.isVideoTexture),p=(Y(i,e),e.mipmaps),v=!0!==e.isVideoTexture,s=void 0===o.__version||!0===r,m=a.dataReady,g=W(e,c);if(e.isDepthTexture)f=X(1027===e.format,e.type),s&&(v?N.texStorage2D(U.TEXTURE_2D,1,f,c.width,c.height):N.texImage2D(U.TEXTURE_2D,0,f,c.width,c.height,0,h,d,null));else if(e.isDataTexture)if(0<p.length){v&&s&&N.texStorage2D(U.TEXTURE_2D,g,f,p[0].width,p[0].height);for(var y=0,A=p.length;y<A;y++)l=p[y],v?m&&N.texSubImage2D(U.TEXTURE_2D,y,0,0,l.width,l.height,h,d,l.data):N.texImage2D(U.TEXTURE_2D,y,f,l.width,l.height,0,h,d,l.data);e.generateMipmaps=!1}else v?(s&&N.texStorage2D(U.TEXTURE_2D,g,f,c.width,c.height),m&&N.texSubImage2D(U.TEXTURE_2D,0,0,0,c.width,c.height,h,d,c.data)):N.texImage2D(U.TEXTURE_2D,0,f,c.width,c.height,0,h,d,c.data);else if(e.isCompressedTexture)if(e.isCompressedArrayTexture){v&&s&&N.texStorage3D(U.TEXTURE_2D_ARRAY,g,f,p[0].width,p[0].height,c.depth);for(var x=0,w=p.length;x<w;x++)if(l=p[x],1023!==e.format)if(null!==h)if(v){if(m)if(0<e.layerUpdates.size){var b,M=tt(e.layerUpdates);try{for(M.s();!(b=M.n()).done;){var E=b.value,S=l.width*l.height;N.compressedTexSubImage3D(U.TEXTURE_2D_ARRAY,x,0,0,E,l.width,l.height,1,h,l.data.slice(S*E,S*(E+1)),0,0)}}catch(t){M.e(t)}finally{M.f()}e.clearLayerUpdates()}else N.compressedTexSubImage3D(U.TEXTURE_2D_ARRAY,x,0,0,0,l.width,l.height,c.depth,h,l.data,0,0)}else N.compressedTexImage3D(U.TEXTURE_2D_ARRAY,x,f,l.width,l.height,c.depth,0,l.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else v?m&&N.texSubImage3D(U.TEXTURE_2D_ARRAY,x,0,0,0,l.width,l.height,c.depth,h,d,l.data):N.texImage3D(U.TEXTURE_2D_ARRAY,x,f,l.width,l.height,c.depth,0,h,d,l.data)}else{v&&s&&N.texStorage2D(U.TEXTURE_2D,g,f,p[0].width,p[0].height);for(var C=0,T=p.length;C<T;C++)l=p[C],1023!==e.format?null!==h?v?m&&N.compressedTexSubImage2D(U.TEXTURE_2D,C,0,0,l.width,l.height,h,l.data):N.compressedTexImage2D(U.TEXTURE_2D,C,f,l.width,l.height,0,l.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):v?m&&N.texSubImage2D(U.TEXTURE_2D,C,0,0,l.width,l.height,h,d,l.data):N.texImage2D(U.TEXTURE_2D,C,f,l.width,l.height,0,h,d,l.data)}else if(e.isDataArrayTexture)if(v){if(s&&N.texStorage3D(U.TEXTURE_2D_ARRAY,g,f,c.width,c.height,c.depth),m)if(0<e.layerUpdates.size){switch(d){case U.UNSIGNED_BYTE:switch(h){case U.ALPHA:case U.LUMINANCE:u=1;break;case U.LUMINANCE_ALPHA:u=2;break;case U.RGB:u=3;break;case U.RGBA:u=4;break;default:throw new Error("Unknown texel size for format ".concat(h,"."))}break;case U.UNSIGNED_SHORT_4_4_4_4:case U.UNSIGNED_SHORT_5_5_5_1:case U.UNSIGNED_SHORT_5_6_5:u=1;break;default:throw new Error("Unknown texel size for type ".concat(d,"."))}var _,k=c.width*c.height*u,P=tt(e.layerUpdates);try{for(P.s();!(_=P.n()).done;){var R=_.value;N.texSubImage3D(U.TEXTURE_2D_ARRAY,0,0,0,R,c.width,c.height,1,h,d,c.data.slice(k*R,k*(R+1)))}}catch(t){P.e(t)}finally{P.f()}e.clearLayerUpdates()}else N.texSubImage3D(U.TEXTURE_2D_ARRAY,0,0,0,0,c.width,c.height,c.depth,h,d,c.data)}else N.texImage3D(U.TEXTURE_2D_ARRAY,0,f,c.width,c.height,c.depth,0,h,d,c.data);else if(e.isData3DTexture)v?(s&&N.texStorage3D(U.TEXTURE_3D,g,f,c.width,c.height,c.depth),m&&N.texSubImage3D(U.TEXTURE_3D,0,0,0,0,c.width,c.height,c.depth,h,d,c.data)):N.texImage3D(U.TEXTURE_3D,0,f,c.width,c.height,c.depth,0,h,d,c.data);else if(e.isFramebufferTexture){if(s)if(v)N.texStorage2D(U.TEXTURE_2D,g,f,c.width,c.height);else for(var D=c.width,B=c.height,L=0;L<g;L++)N.texImage2D(U.TEXTURE_2D,L,f,D,B,0,h,d,null),D>>=1,B>>=1}else if(0<p.length){v&&s&&(n=J(p[0]),N.texStorage2D(U.TEXTURE_2D,g,f,n.width,n.height));for(var I=0,O=p.length;I<O;I++)l=p[I],v?m&&N.texSubImage2D(U.TEXTURE_2D,I,0,0,h,d,l):N.texImage2D(U.TEXTURE_2D,I,f,h,d,l);e.generateMipmaps=!1}else v?(s&&(r=J(c),N.texStorage2D(U.TEXTURE_2D,g,f,r.width,r.height)),m&&N.texSubImage2D(U.TEXTURE_2D,0,0,0,h,d,c)):N.texImage2D(U.TEXTURE_2D,0,f,h,d,c);V(e)&&Q(i),o.__version=a.version,e.onUpdate&&e.onUpdate(e)}t.__version=e.version}function T(t,e,n,i,r,a){var o,s,l=H.convert(n.format,n.colorSpace),u=H.convert(n.type),c=j(n.internalFormat,l,u,n.colorSpace);z.get(e).__hasExternalTextures||(o=Math.max(1,e.width>>a),s=Math.max(1,e.height>>a),r===U.TEXTURE_3D||r===U.TEXTURE_2D_ARRAY?N.texImage3D(r,a,c,o,s,e.depth,0,l,u,null):N.texImage2D(r,a,c,o,s,0,l,u,null)),N.bindFramebuffer(U.FRAMEBUFFER,t),R(e)?h.framebufferTexture2DMultisampleEXT(U.FRAMEBUFFER,i,r,z.get(n).__webglTexture,0,P(e)):(r===U.TEXTURE_2D||r>=U.TEXTURE_CUBE_MAP_POSITIVE_X&&r<=U.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&U.framebufferTexture2D(U.FRAMEBUFFER,i,r,z.get(n).__webglTexture,a),N.bindFramebuffer(U.FRAMEBUFFER,null)}function _(t,e,n){if(U.bindRenderbuffer(U.RENDERBUFFER,t),e.depthBuffer){var i=e.depthTexture,i=i&&i.isDepthTexture?i.type:null,i=X(e.stencilBuffer,i),r=e.stencilBuffer?U.DEPTH_STENCIL_ATTACHMENT:U.DEPTH_ATTACHMENT,a=P(e);R(e)?h.renderbufferStorageMultisampleEXT(U.RENDERBUFFER,a,i,e.width,e.height):n?U.renderbufferStorageMultisample(U.RENDERBUFFER,a,i,e.width,e.height):U.renderbufferStorage(U.RENDERBUFFER,i,e.width,e.height),U.framebufferRenderbuffer(U.FRAMEBUFFER,r,U.RENDERBUFFER,t)}else for(var o=e.textures,s=0;s<o.length;s++){var l=o[s],u=H.convert(l.format,l.colorSpace),c=H.convert(l.type),u=j(l.internalFormat,u,c,l.colorSpace),c=P(e);n&&!1===R(e)?U.renderbufferStorageMultisample(U.RENDERBUFFER,c,u,e.width,e.height):R(e)?h.renderbufferStorageMultisampleEXT(U.RENDERBUFFER,c,u,e.width,e.height):U.renderbufferStorage(U.RENDERBUFFER,u,e.width,e.height)}U.bindRenderbuffer(U.RENDERBUFFER,null)}function k(t){var e=z.get(t),n=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!e.__autoAllocateDepthBuffer){if(n)throw new Error("target.depthTexture not supported in Cube render targets");var i=e.__webglFramebuffer,r=t;if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(N.bindFramebuffer(U.FRAMEBUFFER,i),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");z.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),g(r.depthTexture,0);var i=z.get(r.depthTexture).__webglTexture,a=P(r);if(1026===r.depthTexture.format)R(r)?h.framebufferTexture2DMultisampleEXT(U.FRAMEBUFFER,U.DEPTH_ATTACHMENT,U.TEXTURE_2D,i,0,a):U.framebufferTexture2D(U.FRAMEBUFFER,U.DEPTH_ATTACHMENT,U.TEXTURE_2D,i,0);else{if(1027!==r.depthTexture.format)throw new Error("Unknown depthTexture format");R(r)?h.framebufferTexture2DMultisampleEXT(U.FRAMEBUFFER,U.DEPTH_STENCIL_ATTACHMENT,U.TEXTURE_2D,i,0,a):U.framebufferTexture2D(U.FRAMEBUFFER,U.DEPTH_STENCIL_ATTACHMENT,U.TEXTURE_2D,i,0)}}else if(n){e.__webglDepthbuffer=[];for(var o=0;o<6;o++)N.bindFramebuffer(U.FRAMEBUFFER,e.__webglFramebuffer[o]),e.__webglDepthbuffer[o]=U.createRenderbuffer(),_(e.__webglDepthbuffer[o],t,!1)}else N.bindFramebuffer(U.FRAMEBUFFER,e.__webglFramebuffer),e.__webglDepthbuffer=U.createRenderbuffer(),_(e.__webglDepthbuffer,t,!1);N.bindFramebuffer(U.FRAMEBUFFER,null)}var v=[],m=[];function P(t){return Math.min(F.maxSamples,t.samples)}function R(t){var e=z.get(t);return 0<t.samples&&!0===a.has("WEBGL_multisampled_render_to_texture")&&!1!==e.__useRenderToTexture}function q(t,e){var n=t.colorSpace,i=t.format,r=t.type;return!0!==t.isCompressedTexture&&!0!==t.isVideoTexture&&"srgb-linear"!==n&&""!==n&&("srgb"===Gt.getTransfer(n)?1023===i&&1009===r||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),e}function J(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement?(e.width=t.naturalWidth||t.width,e.height=t.naturalHeight||t.height):"undefined"!=typeof VideoFrame&&t instanceof VideoFrame?(e.width=t.displayWidth,e.height=t.displayHeight):(e.width=t.width,e.height=t.height),e}this.allocateTextureUnit=function(){var t=i;return t>=F.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+F.maxTextures),i+=1,t},this.resetTextureUnits=function(){i=0},this.setTexture2D=g,this.setTexture2DArray=function(t,e){var n=z.get(t);0<t.version&&n.__version!==t.version?f(n,t,e):N.bindTexture(U.TEXTURE_2D_ARRAY,n.__webglTexture,U.TEXTURE0+e)},this.setTexture3D=function(t,e){var n=z.get(t);0<t.version&&n.__version!==t.version?f(n,t,e):N.bindTexture(U.TEXTURE_3D,n.__webglTexture,U.TEXTURE0+e)},this.setTextureCube=function(t,e){var n=z.get(t);if(0<t.version&&n.__version!==t.version){var i=n,r=t,t=e;if(6===r.image.length){var a=K(i,r),o=r.source,s=(N.bindTexture(U.TEXTURE_CUBE_MAP,i.__webglTexture,U.TEXTURE0+t),z.get(o));if(o.version!==s.__version||!0===a){N.activeTexture(U.TEXTURE0+t);var t=Gt.getPrimaries(Gt.workingColorSpace),l=""===r.colorSpace?null:Gt.getPrimaries(r.colorSpace),t=""===r.colorSpace||t===l?U.NONE:U.BROWSER_DEFAULT_WEBGL;U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,r.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,r.unpackAlignment),U.pixelStorei(U.UNPACK_COLORSPACE_CONVERSION_WEBGL,t);for(var u=r.isCompressedTexture||r.image[0].isCompressedTexture,c=r.image[0]&&r.image[0].isDataTexture,h=[],d=0;d<6;d++)h[d]=u||c?c?r.image[d].image:r.image[d]:G(r.image[d],!0,F.maxCubemapSize),h[d]=q(r,h[d]);var l=h[0],f=H.convert(r.format,r.colorSpace),p=H.convert(r.type),v=j(r.internalFormat,f,p,r.colorSpace),m=!0!==r.isVideoTexture,t=void 0===s.__version||!0===a,g=o.dataReady,a=W(r,l);if(Y(U.TEXTURE_CUBE_MAP,r),u){m&&t&&N.texStorage2D(U.TEXTURE_CUBE_MAP,a,v,l.width,l.height);for(var y=0;y<6;y++)for(var A=h[y].mipmaps,x=0;x<A.length;x++){var w=A[x];1023!==r.format?null!==f?m?g&&N.compressedTexSubImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+y,x,0,0,w.width,w.height,f,w.data):N.compressedTexImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+y,x,v,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):m?g&&N.texSubImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+y,x,0,0,w.width,w.height,f,p,w.data):N.texImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+y,x,v,w.width,w.height,0,f,p,w.data)}}else{A=r.mipmaps,m&&t&&(0<A.length&&a++,l=J(h[0]),N.texStorage2D(U.TEXTURE_CUBE_MAP,a,v,l.width,l.height));for(var b=0;b<6;b++)if(c){m?g&&N.texSubImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+b,0,0,0,h[b].width,h[b].height,f,p,h[b].data):N.texImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+b,0,v,h[b].width,h[b].height,0,f,p,h[b].data);for(var M=0;M<A.length;M++){var E=A[M].image[b].image;m?g&&N.texSubImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+b,M+1,0,0,E.width,E.height,f,p,E.data):N.texImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+b,M+1,v,E.width,E.height,0,f,p,E.data)}}else{m?g&&N.texSubImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+b,0,0,0,f,p,h[b]):N.texImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+b,0,v,f,p,h[b]);for(var S=0;S<A.length;S++){var C=A[S];m?g&&N.texSubImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+b,S+1,0,0,f,p,C.image[b]):N.texImage2D(U.TEXTURE_CUBE_MAP_POSITIVE_X+b,S+1,v,f,p,C.image[b])}}}V(r)&&Q(U.TEXTURE_CUBE_MAP),s.__version=o.version,r.onUpdate&&r.onUpdate(r)}i.__version=r.version}}else N.bindTexture(U.TEXTURE_CUBE_MAP,n.__webglTexture,U.TEXTURE0+e)},this.rebindTextures=function(t,e,n){var i=z.get(t);void 0!==e&&T(i.__webglFramebuffer,t,t.texture,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,0),void 0!==n&&k(t)},this.setupRenderTarget=function(t){var e=t.texture,n=z.get(t),i=z.get(e),r=(t.addEventListener("dispose",C),t.textures),a=!0===t.isWebGLCubeRenderTarget,o=1<r.length;if(o||(void 0===i.__webglTexture&&(i.__webglTexture=U.createTexture()),i.__version=e.version,S.memory.textures++),a){n.__webglFramebuffer=[];for(var s=0;s<6;s++)if(e.mipmaps&&0<e.mipmaps.length){n.__webglFramebuffer[s]=[];for(var l=0;l<e.mipmaps.length;l++)n.__webglFramebuffer[s][l]=U.createFramebuffer()}else n.__webglFramebuffer[s]=U.createFramebuffer()}else{if(e.mipmaps&&0<e.mipmaps.length){n.__webglFramebuffer=[];for(var u=0;u<e.mipmaps.length;u++)n.__webglFramebuffer[u]=U.createFramebuffer()}else n.__webglFramebuffer=U.createFramebuffer();if(o)for(var c=0,h=r.length;c<h;c++){var d=z.get(r[c]);void 0===d.__webglTexture&&(d.__webglTexture=U.createTexture(),S.memory.textures++)}if(0<t.samples&&!1===R(t)){n.__webglMultisampledFramebuffer=U.createFramebuffer(),n.__webglColorRenderbuffer=[],N.bindFramebuffer(U.FRAMEBUFFER,n.__webglMultisampledFramebuffer);for(var f=0;f<r.length;f++){var p=r[f],v=(n.__webglColorRenderbuffer[f]=U.createRenderbuffer(),U.bindRenderbuffer(U.RENDERBUFFER,n.__webglColorRenderbuffer[f]),H.convert(p.format,p.colorSpace)),m=H.convert(p.type),v=j(p.internalFormat,v,m,p.colorSpace,!0===t.isXRRenderTarget),m=P(t);U.renderbufferStorageMultisample(U.RENDERBUFFER,m,v,t.width,t.height),U.framebufferRenderbuffer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0+f,U.RENDERBUFFER,n.__webglColorRenderbuffer[f])}U.bindRenderbuffer(U.RENDERBUFFER,null),t.depthBuffer&&(n.__webglDepthRenderbuffer=U.createRenderbuffer(),_(n.__webglDepthRenderbuffer,t,!0)),N.bindFramebuffer(U.FRAMEBUFFER,null)}}if(a){N.bindTexture(U.TEXTURE_CUBE_MAP,i.__webglTexture),Y(U.TEXTURE_CUBE_MAP,e);for(var g=0;g<6;g++)if(e.mipmaps&&0<e.mipmaps.length)for(var y=0;y<e.mipmaps.length;y++)T(n.__webglFramebuffer[g][y],t,e,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+g,y);else T(n.__webglFramebuffer[g],t,e,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+g,0);V(e)&&Q(U.TEXTURE_CUBE_MAP)}else if(o)for(var A=0,x=r.length;A<x;A++){var w=r[A],b=z.get(w);N.bindTexture(U.TEXTURE_2D,b.__webglTexture),Y(U.TEXTURE_2D,w),T(n.__webglFramebuffer,t,w,U.COLOR_ATTACHMENT0+A,U.TEXTURE_2D,0),V(w)&&Q(U.TEXTURE_2D)}else{var M=U.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(M=t.isWebGL3DRenderTarget?U.TEXTURE_3D:U.TEXTURE_2D_ARRAY),N.bindTexture(M,i.__webglTexture),Y(M,e),e.mipmaps&&0<e.mipmaps.length)for(var E=0;E<e.mipmaps.length;E++)T(n.__webglFramebuffer[E],t,e,U.COLOR_ATTACHMENT0,M,E);else T(n.__webglFramebuffer,t,e,U.COLOR_ATTACHMENT0,M,0);V(e)&&Q(M)}N.unbindTexture(),t.depthBuffer&&k(t)},this.updateRenderTargetMipmap=function(t){for(var e=t.textures,n=0,i=e.length;n<i;n++){var r,a=e[n];V(a)&&(r=t.isWebGLCubeRenderTarget?U.TEXTURE_CUBE_MAP:U.TEXTURE_2D,a=z.get(a).__webglTexture,N.bindTexture(r,a),Q(r),N.unbindTexture())}},this.updateMultisampleRenderTarget=function(t){if(0<t.samples)if(!1===R(t)){var e=t.textures,n=t.width,i=t.height,r=U.COLOR_BUFFER_BIT,a=t.stencilBuffer?U.DEPTH_STENCIL_ATTACHMENT:U.DEPTH_ATTACHMENT,o=z.get(t),s=1<e.length;if(s)for(var l=0;l<e.length;l++)N.bindFramebuffer(U.FRAMEBUFFER,o.__webglMultisampledFramebuffer),U.framebufferRenderbuffer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0+l,U.RENDERBUFFER,null),N.bindFramebuffer(U.FRAMEBUFFER,o.__webglFramebuffer),U.framebufferTexture2D(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0+l,U.TEXTURE_2D,null,0);N.bindFramebuffer(U.READ_FRAMEBUFFER,o.__webglMultisampledFramebuffer),N.bindFramebuffer(U.DRAW_FRAMEBUFFER,o.__webglFramebuffer);for(var u,c=0;c<e.length;c++)t.resolveDepthBuffer&&(t.depthBuffer&&(r|=U.DEPTH_BUFFER_BIT),t.stencilBuffer)&&t.resolveStencilBuffer&&(r|=U.STENCIL_BUFFER_BIT),s&&(U.framebufferRenderbuffer(U.READ_FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.RENDERBUFFER,o.__webglColorRenderbuffer[c]),u=z.get(e[c]).__webglTexture,U.framebufferTexture2D(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,u,0)),U.blitFramebuffer(0,0,n,i,0,0,n,i,r,U.NEAREST),!0===p&&(m.length=v.length=0,v.push(U.COLOR_ATTACHMENT0+c),t.depthBuffer&&!1===t.resolveDepthBuffer&&(v.push(a),m.push(a),U.invalidateFramebuffer(U.DRAW_FRAMEBUFFER,m)),U.invalidateFramebuffer(U.READ_FRAMEBUFFER,v));if(N.bindFramebuffer(U.READ_FRAMEBUFFER,null),N.bindFramebuffer(U.DRAW_FRAMEBUFFER,null),s)for(var h=0;h<e.length;h++){N.bindFramebuffer(U.FRAMEBUFFER,o.__webglMultisampledFramebuffer),U.framebufferRenderbuffer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0+h,U.RENDERBUFFER,o.__webglColorRenderbuffer[h]);var d=z.get(e[h]).__webglTexture;N.bindFramebuffer(U.FRAMEBUFFER,o.__webglFramebuffer),U.framebufferTexture2D(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0+h,U.TEXTURE_2D,d,0)}N.bindFramebuffer(U.DRAW_FRAMEBUFFER,o.__webglMultisampledFramebuffer)}else{var f;t.depthBuffer&&!1===t.resolveDepthBuffer&&p&&(f=t.stencilBuffer?U.DEPTH_STENCIL_ATTACHMENT:U.DEPTH_ATTACHMENT,U.invalidateFramebuffer(U.DRAW_FRAMEBUFFER,[f]))}},this.setupDepthRenderbuffer=k,this.setupFrameBufferTexture=T,this.useMultisampledRTT=R}function Wa(i,r){return{convert:function(t){var e,n=Gt.getTransfer(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"");if(1009===t)return i.UNSIGNED_BYTE;if(1017===t)return i.UNSIGNED_SHORT_4_4_4_4;if(1018===t)return i.UNSIGNED_SHORT_5_5_5_1;if(35902===t)return i.UNSIGNED_INT_5_9_9_9_REV;if(1010===t)return i.BYTE;if(1011===t)return i.SHORT;if(1012===t)return i.UNSIGNED_SHORT;if(1013===t)return i.INT;if(1014===t)return i.UNSIGNED_INT;if(1015===t)return i.FLOAT;if(1016===t)return i.HALF_FLOAT;if(1021===t)return i.ALPHA;if(1022===t)return i.RGB;if(1023===t)return i.RGBA;if(1024===t)return i.LUMINANCE;if(1025===t)return i.LUMINANCE_ALPHA;if(1026===t)return i.DEPTH_COMPONENT;if(1027===t)return i.DEPTH_STENCIL;if(1028===t)return i.RED;if(1029===t)return i.RED_INTEGER;if(1030===t)return i.RG;if(1031===t)return i.RG_INTEGER;if(1033===t)return i.RGBA_INTEGER;if(33776===t||33777===t||33778===t||33779===t)if("srgb"===n){if(null===(e=r.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(33776===t)return e.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===t)return e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===t)return e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===t)return e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(e=r.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===t)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(null===(e=r.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===t)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t||37492===t||37496===t){if(null===(e=r.get("WEBGL_compressed_texture_etc")))return null;if(36196===t||37492===t)return"srgb"===n?e.COMPRESSED_SRGB8_ETC2:e.COMPRESSED_RGB8_ETC2;if(37496===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:e.COMPRESSED_RGBA8_ETC2_EAC}if(37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t){if(null===(e=r.get("WEBGL_compressed_texture_astc")))return null;if(37808===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:e.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:e.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:e.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:e.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:e.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:e.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:e.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:e.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:e.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:e.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:e.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:e.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:e.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===t)return"srgb"===n?e.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:e.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===t||36494===t||36495===t){if(null===(e=r.get("EXT_texture_compression_bptc")))return null;if(36492===t)return"srgb"===n?e.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:e.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===t)return e.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===t)return e.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===t||36284===t||36285===t||36286===t){if(null===(e=r.get("EXT_texture_compression_rgtc")))return null;if(36492===t)return e.COMPRESSED_RED_RGTC1_EXT;if(36284===t)return e.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===t)return e.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===t)return e.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return 1020===t?i.UNSIGNED_INT_24_8:void 0!==i[t]?i[t]:null}}}t(ro,oi);var Ya=e(ro),Ja=(t(io,i),e(io)),Ka={type:"move"},qa=e(function t(){Ht(this,t),this._targetRay=null,this._grip=null,this._hand=null},[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Ja,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Ja,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vt),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Ja,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vt),this._grip}},{key:"dispatchEvent",value:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}},{key:"connect",value:function(t){if(t&&t.hand){var e=this._hand;if(e){var n,i=tt(t.hand.values());try{for(i.s();!(n=i.n()).done;){var r=n.value;this._getHandJoint(e,r)}}catch(t){i.e(t)}finally{i.f()}}}return this.dispatchEvent({type:"connected",data:t}),this}},{key:"disconnect",value:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(t,e,n){var i=null,r=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(l&&t.hand){var u,a=!0,c=tt(t.hand.values());try{for(c.s();!(u=c.n()).done;){var h=u.value,d=e.getJointPose(h,n),f=this._getHandJoint(l,h);null!==d&&(f.matrix.fromArray(d.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,f.jointRadius=d.radius),f.visible=null!==d}}catch(t){c.e(t)}finally{c.f()}var p=l.joints["index-finger-tip"],v=l.joints["thumb-tip"],p=p.position.distanceTo(v.position);l.inputState.pinching&&.025<p?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&p<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==s&&t.gripSpace&&null!==(r=e.getPose(t.gripSpace,n))&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&null!==(i=null===(i=e.getPose(t.targetRaySpace,n))&&null!==r?r:i)&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Ka))}return null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==a),this}},{key:"_getHandJoint",value:function(t,e){var n;return void 0===t.joints[e.jointName]&&((n=new Ja).matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)),t.joints[e.jointName]}}]),Za=e(function t(){Ht(this,t),this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0},[{key:"init",value:function(t,e,n){var i;null===this.texture&&(i=new xt,t.properties.get(i).__webglTexture=e.texture,e.depthNear==n.depthNear&&e.depthFar==n.depthFar||(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i)}},{key:"getMesh",value:function(t){return null!==this.texture&&null===this.mesh&&(t=t.cameras[0].viewport,t=new ei({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}}),this.mesh=new Gn(new Si(20,20),t)),this.mesh}},{key:"reset",value:function(){this.texture=null,this.mesh=null}}]),$a=(t(no,n),e(no)),to=new Me,eo=new fe;function no(d,a){Ht(this,no);var t,f,e,p=t=H(this,no),v=null,o=1,m=null,s="local-floor",l=1,g=null,y=null,A=null,x=null,w=null,b=new Za,u=a.getContextAttributes(),c=null,M=null,E=[],S=[],h=new $,C=null,T=new oi,_=(T.layers.enable(1),T.viewport=new Yt,new oi),k=(_.layers.enable(2),_.viewport=new Yt,[T,_]),P=new Ya,R=(P.layers.enable(1),P.layers.enable(2),null),D=null;function B(t){var e=S.indexOf(t.inputSource);-1!==e&&void 0!==(e=E[e])&&(e.update(t.inputSource,t.frame,g||m),e.dispatchEvent({type:t.type,data:t.inputSource}))}function L(){v.removeEventListener("select",B),v.removeEventListener("selectstart",B),v.removeEventListener("selectend",B),v.removeEventListener("squeeze",B),v.removeEventListener("squeezestart",B),v.removeEventListener("squeezeend",B),v.removeEventListener("end",L),v.removeEventListener("inputsourceschange",I);for(var t=0;t<E.length;t++){var e=S[t];null!==e&&(S[t]=null,E[t].disconnect(e))}D=R=null,b.reset(),d.setRenderTarget(c),M=v=y=A=x=null,N.stop(),p.isPresenting=!1,d.setPixelRatio(C),d.setSize(h.width,h.height,!1),p.dispatchEvent({type:"sessionend"})}function I(t){for(var e=0;e<t.removed.length;e++){var n=t.removed[e],i=S.indexOf(n);0<=i&&(S[i]=null,E[i].disconnect(n))}for(var r=0;r<t.added.length;r++){var a=t.added[r],o=S.indexOf(a);if(-1===o){for(var s=0;s<E.length;s++){if(s>=S.length){S.push(a),o=s;break}if(null===S[s]){S[s]=a,o=s;break}}if(-1===o)break}var l=E[o];l&&l.connect(a)}}t.cameraAutoUpdate=!0,t.enabled=!1,t.isPresenting=!1,t.getController=function(t){var e=E[t];return void 0===e&&(e=new qa,E[t]=e),e.getTargetRaySpace()},t.getControllerGrip=function(t){var e=E[t];return void 0===e&&(e=new qa,E[t]=e),e.getGripSpace()},t.getHand=function(t){var e=E[t];return void 0===e&&(e=new qa,E[t]=e),e.getHandSpace()},t.setFramebufferScaleFactor=function(t){o=t,!0===p.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},t.setReferenceSpaceType=function(t){s=t,!0===p.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},t.getReferenceSpace=function(){return g||m},t.setReferenceSpace=function(t){g=t},t.getBaseLayer=function(){return null!==A?A:x},t.getBinding=function(){return y},t.getFrame=function(){return w},t.getSession=function(){return v},t.setSession=(e=jt(Xt().mark(function t(e){var n,i,r;return Xt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(v=e))t.next=27;else{if(c=d.getRenderTarget(),v.addEventListener("select",B),v.addEventListener("selectstart",B),v.addEventListener("selectend",B),v.addEventListener("squeeze",B),v.addEventListener("squeezestart",B),v.addEventListener("squeezeend",B),v.addEventListener("end",L),v.addEventListener("inputsourceschange",I),!0!==u.xrCompatible)return t.next=14,a.makeXRCompatible();t.next=14}break;case 14:return C=d.getPixelRatio(),d.getSize(h),(M=void 0===v.renderState.layers?(n={antialias:u.antialias,alpha:!0,depth:u.depth,stencil:u.stencil,framebufferScaleFactor:o},x=new XRWebGLLayer(v,a,n),v.updateRenderState({baseLayer:x}),d.setPixelRatio(1),d.setSize(x.framebufferWidth,x.framebufferHeight,!1),new Jt(x.framebufferWidth,x.framebufferHeight,{format:1023,type:1009,colorSpace:d.outputColorSpace,stencilBuffer:u.stencil})):(r=i=n=null,u.depth&&(r=u.stencil?a.DEPTH24_STENCIL8:a.DEPTH_COMPONENT24,n=u.stencil?1027:1026,i=u.stencil?1020:1014),r={colorFormat:a.RGBA8,depthFormat:r,scaleFactor:o},y=new XRWebGLBinding(v,a),A=y.createProjectionLayer(r),v.updateRenderState({layers:[A]}),d.setPixelRatio(1),d.setSize(A.textureWidth,A.textureHeight,!1),new Jt(A.textureWidth,A.textureHeight,{format:1023,type:1009,depthTexture:new rr(A.textureWidth,A.textureHeight,i,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:u.stencil,colorSpace:d.outputColorSpace,samples:u.antialias?4:0,resolveDepthBuffer:!1===A.ignoreDepthValues}))).isXRRenderTarget=!0,this.setFoveation(l),g=null,t.next=22,v.requestReferenceSpace(s);case 22:m=t.sent,N.setContext(v),N.start(),p.isPresenting=!0,p.dispatchEvent({type:"sessionstart"});case 27:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)}),t.getEnvironmentBlendMode=function(){if(null!==v)return v.environmentBlendMode};var O=new Vt,z=new Vt;function F(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}t.updateCamera=function(t){if(null!==v){null!==b.texture&&(t.near=b.depthNear,t.far=b.depthFar),P.near=_.near=T.near=t.near,P.far=_.far=T.far=t.far,R===P.near&&D===P.far||(v.updateRenderState({depthNear:P.near,depthFar:P.far}),R=P.near,D=P.far,T.near=R,T.far=D,_.near=R,_.far=D,T.updateProjectionMatrix(),_.updateProjectionMatrix(),t.updateProjectionMatrix());var e=t.parent,n=P.cameras;F(P,e);for(var i=0;i<n.length;i++)F(n[i],e);2===n.length?(r=P,a=T,o=_,O.setFromMatrixPosition(a.matrixWorld),z.setFromMatrixPosition(o.matrixWorld),s=O.distanceTo(z),l=a.projectionMatrix.elements,o=o.projectionMatrix.elements,u=l[14]/(l[10]-1),c=l[14]/(l[10]+1),h=(l[9]+1)/l[5],d=(l[9]-1)/l[5],l=(l[8]-1)/l[0],o=(o[8]+1)/o[0],f=u*l,p=u*o,l=(o=s/(o-l))*-l,a.matrixWorld.decompose(r.position,r.quaternion,r.scale),r.translateX(l),r.translateZ(o),r.matrixWorld.compose(r.position,r.quaternion,r.scale),r.matrixWorldInverse.copy(r.matrixWorld).invert(),a=u+o,u=c+o,r.projectionMatrix.makePerspective(f-l,s-l+p,h*c/u*a,d*c/u*a,a,u),r.projectionMatrixInverse.copy(r.projectionMatrix).invert()):P.projectionMatrix.copy(T.projectionMatrix),o=t,f=P,null===(s=e)?o.matrix.copy(f.matrixWorld):(o.matrix.copy(s.matrixWorld),o.matrix.invert(),o.matrix.multiply(f.matrixWorld)),o.matrix.decompose(o.position,o.quaternion,o.scale),o.updateMatrixWorld(!0),o.projectionMatrix.copy(f.projectionMatrix),o.projectionMatrixInverse.copy(f.projectionMatrixInverse),o.isPerspectiveCamera&&(o.fov=2*Y*Math.atan(1/o.projectionMatrix.elements[5]),o.zoom=1)}var r,a,o,s,l,u,c,h,d,f,p},t.getCamera=function(){return P},t.getFoveation=function(){if(null!==A||null!==x)return l},t.setFoveation=function(t){l=t,null!==A&&(A.fixedFoveation=t),null!==x&&void 0!==x.fixedFoveation&&(x.fixedFoveation=t)},t.hasDepthSensing=function(){return null!==b.texture},t.getDepthSensingMesh=function(){return b.getMesh(P)};var U=null,N=new Mi;return N.setAnimationLoop(function(t,e){if(f=e.getViewerPose(g||m),w=e,null!==f){var n=f.views,i=(null!==x&&(d.setRenderTargetFramebuffer(M,x.framebuffer),d.setRenderTarget(M)),!1);n.length!==P.cameras.length&&(i=!(P.cameras.length=0));for(var r=0;r<n.length;r++){var a=n[r],o=null,s=(null!==x?o=x.getViewport(a):(o=(s=y.getViewSubImage(A,a)).viewport,0===r&&(d.setRenderTargetTextures(M,s.colorTexture,A.ignoreDepthValues?void 0:s.depthStencilTexture),d.setRenderTarget(M))),k[r]);void 0===s&&((s=new oi).layers.enable(r),s.viewport=new Yt,k[r]=s),s.matrix.fromArray(a.transform.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale),s.projectionMatrix.fromArray(a.projectionMatrix),s.projectionMatrixInverse.copy(s.projectionMatrix).invert(),s.viewport.set(o.x,o.y,o.width,o.height),0===r&&(P.matrix.copy(s.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),!0===i&&P.cameras.push(s)}var l=v.enabledFeatures;l&&l.includes("depth-sensing")&&(l=y.getDepthInformation(n[0]))&&l.isValid&&l.texture&&b.init(d,l,v.renderState)}for(var u=0;u<E.length;u++){var c=S[u],h=E[u];null!==c&&void 0!==h&&h.update(c,e,g||m)}U&&U(t,e),e.detectedPlanes&&p.dispatchEvent({type:"planesdetected",data:e}),w=null}),t.setAnimationLoop=function(t){U=t},t.dispose=function(){},t}function io(){var t;return Ht(this,io),(t=H(this,io)).isGroup=!0,t.type="Group",t}function ro(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return Ht(this,ro),(t=H(this,ro)).isArrayCamera=!0,t.cameras=e,t}function ao(n,c){function h(t,e){!0===t.matrixAutoUpdate&&t.updateMatrix(),e.value.copy(t.matrix)}function d(t,e){t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map,h(e.map,t.mapTransform)),e.alphaMap&&(t.alphaMap.value=e.alphaMap,h(e.alphaMap,t.alphaMapTransform)),e.bumpMap&&(t.bumpMap.value=e.bumpMap,h(e.bumpMap,t.bumpMapTransform),t.bumpScale.value=e.bumpScale,1===e.side)&&(t.bumpScale.value*=-1),e.normalMap&&(t.normalMap.value=e.normalMap,h(e.normalMap,t.normalMapTransform),t.normalScale.value.copy(e.normalScale),1===e.side)&&t.normalScale.value.negate(),e.displacementMap&&(t.displacementMap.value=e.displacementMap,h(e.displacementMap,t.displacementMapTransform),t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap,h(e.emissiveMap,t.emissiveMapTransform)),e.specularMap&&(t.specularMap.value=e.specularMap,h(e.specularMap,t.specularMapTransform)),0<e.alphaTest&&(t.alphaTest.value=e.alphaTest);var n=c.get(e),i=n.envMap,n=n.envMapRotation;i&&(t.envMap.value=i,to.copy(n),to.x*=-1,to.y*=-1,to.z*=-1,i.isCubeTexture&&!1===i.isRenderTargetTexture&&(to.y*=-1,to.z*=-1),t.envMapRotation.value.setFromMatrix4(eo.makeRotationFromEuler(to)),t.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,t.reflectivity.value=e.reflectivity,t.ior.value=e.ior,t.refractionRatio.value=e.refractionRatio),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity,h(e.lightMap,t.lightMapTransform)),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity,h(e.aoMap,t.aoMapTransform))}return{refreshFogUniforms:function(t,e){e.color.getRGB(t.fogColor.value,$n(n)),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,e,n,i,r){var a,o,s,l,u;e.isMeshBasicMaterial||e.isMeshLambertMaterial?d(t,e):e.isMeshToonMaterial?(d(t,e),u=t,e.gradientMap&&(u.gradientMap.value=e.gradientMap)):e.isMeshPhongMaterial?(d(t,e),u=e,(l=t).specular.value.copy(u.specular),l.shininess.value=Math.max(u.shininess,1e-4)):e.isMeshStandardMaterial?(d(t,e),l=e,(s=t).metalness.value=l.metalness,l.metalnessMap&&(s.metalnessMap.value=l.metalnessMap,h(l.metalnessMap,s.metalnessMapTransform)),s.roughness.value=l.roughness,l.roughnessMap&&(s.roughnessMap.value=l.roughnessMap,h(l.roughnessMap,s.roughnessMapTransform)),l.envMap&&(s.envMapIntensity.value=l.envMapIntensity),e.isMeshPhysicalMaterial&&(s=e,r=r,(o=t).ior.value=s.ior,0<s.sheen&&(o.sheenColor.value.copy(s.sheenColor).multiplyScalar(s.sheen),o.sheenRoughness.value=s.sheenRoughness,s.sheenColorMap&&(o.sheenColorMap.value=s.sheenColorMap,h(s.sheenColorMap,o.sheenColorMapTransform)),s.sheenRoughnessMap)&&(o.sheenRoughnessMap.value=s.sheenRoughnessMap,h(s.sheenRoughnessMap,o.sheenRoughnessMapTransform)),0<s.clearcoat&&(o.clearcoat.value=s.clearcoat,o.clearcoatRoughness.value=s.clearcoatRoughness,s.clearcoatMap&&(o.clearcoatMap.value=s.clearcoatMap,h(s.clearcoatMap,o.clearcoatMapTransform)),s.clearcoatRoughnessMap&&(o.clearcoatRoughnessMap.value=s.clearcoatRoughnessMap,h(s.clearcoatRoughnessMap,o.clearcoatRoughnessMapTransform)),s.clearcoatNormalMap)&&(o.clearcoatNormalMap.value=s.clearcoatNormalMap,h(s.clearcoatNormalMap,o.clearcoatNormalMapTransform),o.clearcoatNormalScale.value.copy(s.clearcoatNormalScale),1===s.side)&&o.clearcoatNormalScale.value.negate(),0<s.dispersion&&(o.dispersion.value=s.dispersion),0<s.iridescence&&(o.iridescence.value=s.iridescence,o.iridescenceIOR.value=s.iridescenceIOR,o.iridescenceThicknessMinimum.value=s.iridescenceThicknessRange[0],o.iridescenceThicknessMaximum.value=s.iridescenceThicknessRange[1],s.iridescenceMap&&(o.iridescenceMap.value=s.iridescenceMap,h(s.iridescenceMap,o.iridescenceMapTransform)),s.iridescenceThicknessMap)&&(o.iridescenceThicknessMap.value=s.iridescenceThicknessMap,h(s.iridescenceThicknessMap,o.iridescenceThicknessMapTransform)),0<s.transmission&&(o.transmission.value=s.transmission,o.transmissionSamplerMap.value=r.texture,o.transmissionSamplerSize.value.set(r.width,r.height),s.transmissionMap&&(o.transmissionMap.value=s.transmissionMap,h(s.transmissionMap,o.transmissionMapTransform)),o.thickness.value=s.thickness,s.thicknessMap&&(o.thicknessMap.value=s.thicknessMap,h(s.thicknessMap,o.thicknessMapTransform)),o.attenuationDistance.value=s.attenuationDistance,o.attenuationColor.value.copy(s.attenuationColor)),0<s.anisotropy&&(o.anisotropyVector.value.set(s.anisotropy*Math.cos(s.anisotropyRotation),s.anisotropy*Math.sin(s.anisotropyRotation)),s.anisotropyMap)&&(o.anisotropyMap.value=s.anisotropyMap,h(s.anisotropyMap,o.anisotropyMapTransform)),o.specularIntensity.value=s.specularIntensity,o.specularColor.value.copy(s.specularColor),s.specularColorMap&&(o.specularColorMap.value=s.specularColorMap,h(s.specularColorMap,o.specularColorMapTransform)),s.specularIntensityMap)&&(o.specularIntensityMap.value=s.specularIntensityMap,h(s.specularIntensityMap,o.specularIntensityMapTransform))):e.isMeshMatcapMaterial?(d(t,e),r=t,e.matcap&&(r.matcap.value=e.matcap)):e.isMeshDepthMaterial?d(t,e):e.isMeshDistanceMaterial?(d(t,e),s=t,o=c.get(e).light,s.referencePosition.value.setFromMatrixPosition(o.matrixWorld),s.nearDistance.value=o.shadow.camera.near,s.farDistance.value=o.shadow.camera.far):e.isMeshNormalMaterial?d(t,e):e.isLineBasicMaterial?(r=e,(a=t).diffuse.value.copy(r.color),a.opacity.value=r.opacity,r.map&&(a.map.value=r.map,h(r.map,a.mapTransform)),e.isLineDashedMaterial&&(r=e,(a=t).dashSize.value=r.dashSize,a.totalSize.value=r.dashSize+r.gapSize,a.scale.value=r.scale)):e.isPointsMaterial?(a=e,r=n,n=i,(i=t).diffuse.value.copy(a.color),i.opacity.value=a.opacity,i.size.value=a.size*r,i.scale.value=.5*n,a.map&&(i.map.value=a.map,h(a.map,i.uvTransform)),a.alphaMap&&(i.alphaMap.value=a.alphaMap,h(a.alphaMap,i.alphaMapTransform)),0<a.alphaTest&&(i.alphaTest.value=a.alphaTest)):e.isSpriteMaterial?(r=e,(n=t).diffuse.value.copy(r.color),n.opacity.value=r.opacity,n.rotation.value=r.rotation,r.map&&(n.map.value=r.map,h(r.map,n.mapTransform)),r.alphaMap&&(n.alphaMap.value=r.alphaMap,h(r.alphaMap,n.alphaMapTransform)),0<r.alphaTest&&(n.alphaTest.value=r.alphaTest)):e.isShadowMaterial?(t.color.value.copy(e.color),t.opacity.value=e.opacity):e.isShaderMaterial&&(e.uniformsNeedUpdate=!1)}}}function oo(L,I,t,O){var U={},N={},z=[],F=L.getParameter(L.MAX_UNIFORM_BUFFER_BINDINGS);function H(t){var e={boundary:0,storage:0};return"number"==typeof t||"boolean"==typeof t?(e.boundary=4,e.storage=4):t.isVector2?(e.boundary=8,e.storage=8):t.isVector3||t.isColor?(e.boundary=16,e.storage=12):t.isVector4?(e.boundary=16,e.storage=16):t.isMatrix3?(e.boundary=48,e.storage=48):t.isMatrix4?(e.boundary=64,e.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),e}function G(t){var t=t.target,e=(t.removeEventListener("dispose",G),z.indexOf(t.__bindingPointIndex));z.splice(e,1),L.deleteBuffer(U[t.id]),delete U[t.id],delete N[t.id]}return{bind:function(t,e){e=e.program;O.uniformBlockBinding(t,e)},update:function(t,e){var n,i=U[t.id];if(void 0===i){for(var r,a=(r=t).uniforms,o=0,s=0,l=a.length,u;s<l;s++)for(var c=Array.isArray(a[s])?a[s]:[a[s]],h=0,d=c.length;h<d;h++)for(var f=c[h],p=Array.isArray(f.value)?f.value:[f.value],v=0,m=p.length;v<m;v++){var g=H(p[v]),y=o%16;0!=y&&16-y<g.boundary&&(o+=16-y),f.__data=new Float32Array(g.storage/Float32Array.BYTES_PER_ELEMENT),f.__offset=o,o+=g.storage}0<(u=o%16)&&(o+=16-u),r.__size=o,r.__cache={},u=t,r=function(){for(var t=0;t<F;t++)if(-1===z.indexOf(t))return z.push(t),t;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}(),u.__bindingPointIndex=r,n=L.createBuffer(),A=u.__size,u=u.usage,L.bindBuffer(L.UNIFORM_BUFFER,n),L.bufferData(L.UNIFORM_BUFFER,A,u),L.bindBuffer(L.UNIFORM_BUFFER,null),L.bindBufferBase(L.UNIFORM_BUFFER,r,n),U[t.id]=i=n,t.addEventListener("dispose",G)}var A=e.program,u=(O.updateUBOMapping(t,A),I.render.frame);if(N[t.id]!==u){var r=U[t.id],x=t.uniforms,w=t.__cache;L.bindBuffer(L.UNIFORM_BUFFER,r);for(var b=0,M=x.length;b<M;b++)for(var E=Array.isArray(x[b])?x[b]:[x[b]],S=0,C=E.length;S<C;S++){var T=E[S];if(!0===function(t,e,n,i){if(t=t.value,void 0===i[e=e+"_"+n])return i[e]="number"==typeof t||"boolean"==typeof t?t:t.clone(),!0;if(n=i[e],"number"==typeof t||"boolean"==typeof t){if(n!==t)return i[e]=t,!0}else if(!1===n.equals(t))return n.copy(t),!0;return!1}(T,b,S,w)){for(var _=T.__offset,k=Array.isArray(T.value)?T.value:[T.value],P=0,R=0;R<k.length;R++){var D=k[R],B=H(D);"number"==typeof D||"boolean"==typeof D?(T.__data[0]=D,L.bufferSubData(L.UNIFORM_BUFFER,_+P,T.__data)):D.isMatrix3?(T.__data[0]=D.elements[0],T.__data[1]=D.elements[1],T.__data[2]=D.elements[2],T.__data[3]=0,T.__data[4]=D.elements[3],T.__data[5]=D.elements[4],T.__data[6]=D.elements[5],T.__data[7]=0,T.__data[8]=D.elements[6],T.__data[9]=D.elements[7],T.__data[10]=D.elements[8],T.__data[11]=0):(D.toArray(T.__data,P),P+=B.storage/Float32Array.BYTES_PER_ELEMENT)}L.bufferSubData(L.UNIFORM_BUFFER,_,T.__data)}}L.bindBuffer(L.UNIFORM_BUFFER,null),N[t.id]=u}},dispose:function(){for(var t in U)L.deleteBuffer(U[t]);z=[],U={},N={}}}}var so=e(function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ht(this,l);var c,e=t.canvas,i=void 0===e?((b=Wt("canvas")).style.display="block",b):e,b=t.context,e=void 0===b?null:b,z=t.depth,z=void 0===z||z,n=t.stencil,F=void 0!==n&&n,n=t.alpha,n=void 0!==n&&n,H=t.antialias,H=void 0!==H&&H,r=t.premultipliedAlpha,G=void 0===r||r,r=t.preserveDrawingBuffer,r=void 0!==r&&r,V=t.powerPreference,V=void 0===V?"default":V,Q=t.failIfMajorPerformanceCaveat,Q=void 0!==Q&&Q;if(this.isWebGLRenderer=!0,null!==e){if("undefined"!=typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");c=e.getContextAttributes().alpha}else c=n;var j=new Uint32Array(4),X=new Int32Array(4),m=null,M=null,h=[],d=[],E=(this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace="srgb",this.toneMapping=0,this.toneMappingExposure=1,this),W=!1,Y=0,J=0,S=null,K=-1,C=null,g=new Yt,q=new Yt,Z=null,$=new Qt(0),tt=0,a=i.width,T=i.height,_=1,et=null,nt=null,it=new Yt(0,0,a,T),rt=new Yt(0,0,a,T),at=!1,ot=new mi,k=!1,st=!1,lt=new fe,P=new Vt,ut={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},ct=!1;function ht(){return null===S?_:1}var y,R,D,o,B,L,I,O,dt,ft,A,u,pt,vt,mt,U,f,x,gt,yt,At,w,p,xt,N=e;function wt(t,e){return i.getContext(t,e)}try{var bt={alpha:!0,depth:z,stencil:F,antialias:H,premultipliedAlpha:G,preserveDrawingBuffer:r,powerPreference:V,failIfMajorPerformanceCaveat:Q};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat("165")),i.addEventListener("webglcontextlost",Et,!1),i.addEventListener("webglcontextrestored",St,!1),i.addEventListener("webglcontextcreationerror",Ct,!1),null===N)if(null===(N=wt("webgl2",bt)))throw wt("webgl2")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}catch(l){throw console.error("THREE.WebGLRenderer: "+l.message),l}function Mt(){(y=new Zi(N)).init(),w=new Wa(N,y),R=new Li(N,y,t,w),D=new ja(N),o=new er(N),B=new ka,L=new Xa(N,y,D,B,R,w,o),I=new Oi(E),O=new qi(E),dt=new Ei(N),p=new Di(N,dt),ft=new $i(N,dt,o,p),A=new ir(N,ft,dt,o),gt=new nr(N,R,L),U=new Ii(B),u=new _a(E,I,O,y,R,p,U),pt=new ao(E,B),vt=new Ba,mt=new za(y),x=new Ri(E,I,O,D,A,c,G),f=new Qa(E,A,R),xt=new oo(N,o,0,D),yt=new Bi(N,y,o),At=new tr(N,y,o),o.programs=u.programs,E.capabilities=R,E.extensions=y,E.properties=B,E.renderLists=vt,E.shadowMap=f,E.state=D,E.info=o}Mt();var v=new $a(E,N);function Et(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),W=!0}function St(){console.log("THREE.WebGLRenderer: Context Restored."),W=!1;var t=o.autoReset,e=f.enabled,n=f.autoUpdate,i=f.needsUpdate,r=f.type;Mt(),o.autoReset=t,f.enabled=e,f.autoUpdate=n,f.needsUpdate=i,f.type=r}function Ct(t){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",t.statusMessage)}function Tt(t){var t=t.target,e=(t.removeEventListener("dispose",Tt),t=t),n=B.get(e).programs;void 0!==n&&(n.forEach(function(t){u.releaseProgram(t)}),e.isShaderMaterial)&&u.releaseShaderCache(e),B.remove(t)}function _t(t,e,n){!0===t.transparent&&2===t.side&&!1===t.forceSinglePass?(t.side=1,t.needsUpdate=!0,Nt(t,e,n),t.side=0,t.needsUpdate=!0,Nt(t,e,n),t.side=2):Nt(t,e,n)}this.xr=v,this.getContext=function(){return N},this.getContextAttributes=function(){return N.getContextAttributes()},this.forceContextLoss=function(){var t=y.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=y.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return _},this.setPixelRatio=function(t){void 0!==t&&(_=t,this.setSize(a,T,!1))},this.getSize=function(t){return t.set(a,T)},this.setSize=function(t,e){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];v.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(a=t,T=e,i.width=Math.floor(t*_),i.height=Math.floor(e*_),!0===n&&(i.style.width=t+"px",i.style.height=e+"px"),this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(t){return t.set(a*_,T*_).floor()},this.setDrawingBufferSize=function(t,e,n){a=t,T=e,_=n,i.width=Math.floor(t*n),i.height=Math.floor(e*n),this.setViewport(0,0,t,e)},this.getCurrentViewport=function(t){return t.copy(g)},this.getViewport=function(t){return t.copy(it)},this.setViewport=function(t,e,n,i){t.isVector4?it.set(t.x,t.y,t.z,t.w):it.set(t,e,n,i),D.viewport(g.copy(it).multiplyScalar(_).round())},this.getScissor=function(t){return t.copy(rt)},this.setScissor=function(t,e,n,i){t.isVector4?rt.set(t.x,t.y,t.z,t.w):rt.set(t,e,n,i),D.scissor(q.copy(rt).multiplyScalar(_).round())},this.getScissorTest=function(){return at},this.setScissorTest=function(t){D.setScissorTest(at=t)},this.setOpaqueSort=function(t){et=t},this.setTransparentSort=function(t){nt=t},this.getClearColor=function(t){return t.copy(x.getClearColor())},this.setClearColor=function(){x.setClearColor.apply(x,arguments)},this.getClearAlpha=function(){return x.getClearAlpha()},this.setClearAlpha=function(){x.setClearAlpha.apply(x,arguments)},this.clear=function(){var t,e,n,i,r=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],a=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],s=0;r&&(r=!1,(r=null!==S?1033===(i=S.texture.format)||1031===i||1029===i:r)?(r=1009===(i=S.texture.type)||1014===i||1012===i||1020===i||1017===i||1018===i,i=x.getClearColor(),t=x.getClearAlpha(),e=i.r,n=i.g,i=i.b,r?(j[0]=e,j[1]=n,j[2]=i,j[3]=t,N.clearBufferuiv(N.COLOR,0,j)):(X[0]=e,X[1]=n,X[2]=i,X[3]=t,N.clearBufferiv(N.COLOR,0,X))):s|=N.COLOR_BUFFER_BIT),a&&(s|=N.DEPTH_BUFFER_BIT),o&&(s|=N.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),N.clear(s)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Et,!1),i.removeEventListener("webglcontextrestored",St,!1),i.removeEventListener("webglcontextcreationerror",Ct,!1),vt.dispose(),mt.dispose(),B.dispose(),I.dispose(),O.dispose(),A.dispose(),p.dispose(),xt.dispose(),u.dispose(),v.dispose(),v.removeEventListener("sessionstart",Pt),v.removeEventListener("sessionend",Rt),s.stop()},this.renderBufferDirect=function(t,e,n,i,r,a){null===e&&(e=ut);var o=r.isMesh&&r.matrixWorld.determinant()<0,t=function(t,e,n,i,r){!0!==e.isScene&&(e=ut),L.resetTextureUnits();var a=e.fog,o=i.isMeshStandardMaterial?e.environment:null,s=null===S?E.outputColorSpace:!0===S.isXRRenderTarget?S.texture.colorSpace:"srgb-linear",o=(i.isMeshStandardMaterial?O:I).get(i.envMap||o),l=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!i.normalMap||0<i.anisotropy),c=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,d=!!n.morphAttributes.color,f=0,p=(!i.toneMapped||null!==S&&!0!==S.isXRRenderTarget||(f=E.toneMapping),n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color),p=void 0!==p?p.length:0,v=B.get(i),m=M.state.lights;!0!==k||!0!==st&&t===C||(g=t===C&&i.id===K,U.setState(i,t,g));var g=!1,y=(i.version===v.__version?(v.needsLights&&v.lightsStateVersion!==m.state.version||v.outputColorSpace!==s||r.isBatchedMesh&&!1===v.batching||!r.isBatchedMesh&&!0===v.batching||r.isBatchedMesh&&!0===v.batchingColor&&null===r.colorTexture||r.isBatchedMesh&&!1===v.batchingColor&&null!==r.colorTexture||r.isInstancedMesh&&!1===v.instancing||!r.isInstancedMesh&&!0===v.instancing||r.isSkinnedMesh&&!1===v.skinning||!r.isSkinnedMesh&&!0===v.skinning||r.isInstancedMesh&&!0===v.instancingColor&&null===r.instanceColor||r.isInstancedMesh&&!1===v.instancingColor&&null!==r.instanceColor||r.isInstancedMesh&&!0===v.instancingMorph&&null===r.morphTexture||r.isInstancedMesh&&!1===v.instancingMorph&&null!==r.morphTexture||v.envMap!==o||!0===i.fog&&v.fog!==a||void 0!==v.numClippingPlanes&&(v.numClippingPlanes!==U.numPlanes||v.numIntersection!==U.numIntersection)||v.vertexAlphas!==l||v.vertexTangents!==u||v.morphTargets!==c||v.morphNormals!==h||v.morphColors!==d||v.toneMapping!==f||v.morphTargetsCount!==p)&&(g=!0):(g=!0,v.__version=i.version),v.currentProgram),m=(!0===g&&(y=Nt(i,e,r)),!1),s=!1,l=!1,u=y.getUniforms(),c=v.uniforms;D.useProgram(y.program)&&(l=s=m=!0),i.id!==K&&(K=i.id,s=!0),!m&&C===t||(u.setValue(N,"projectionMatrix",t.projectionMatrix),u.setValue(N,"viewMatrix",t.matrixWorldInverse),void 0!==(h=u.map.cameraPosition)&&h.setValue(N,P.setFromMatrixPosition(t.matrixWorld)),R.logarithmicDepthBuffer&&u.setValue(N,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&u.setValue(N,"isOrthographic",!0===t.isOrthographicCamera),C!==t&&(C=t,l=s=!0));r.isSkinnedMesh&&(u.setOptional(N,r,"bindMatrix"),u.setOptional(N,r,"bindMatrixInverse"),d=r.skeleton)&&(null===d.boneTexture&&d.computeBoneTexture(),u.setValue(N,"boneTexture",d.boneTexture,L));r.isBatchedMesh&&(u.setOptional(N,r,"batchingTexture"),u.setValue(N,"batchingTexture",r._matricesTexture,L),u.setOptional(N,r,"batchingColorTexture"),null!==r._colorsTexture)&&u.setValue(N,"batchingColorTexture",r._colorsTexture,L);f=n.morphAttributes;if(void 0===f.position&&void 0===f.normal&&void 0===f.color||gt.update(r,n,y),!s&&v.receiveShadow===r.receiveShadow||(v.receiveShadow=r.receiveShadow,u.setValue(N,"receiveShadow",r.receiveShadow)),i.isMeshGouraudMaterial&&null!==i.envMap&&(c.envMap.value=o,c.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1),i.isMeshStandardMaterial&&null===i.envMap&&null!==e.environment&&(c.envMapIntensity.value=e.environmentIntensity),s&&(u.setValue(N,"toneMappingExposure",E.toneMappingExposure),v.needsLights&&function(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.directionalLightShadows.needsUpdate=e,t.pointLights.needsUpdate=e,t.pointLightShadows.needsUpdate=e,t.spotLights.needsUpdate=e,t.spotLightShadows.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}(c,l),a&&!0===i.fog&&pt.refreshFogUniforms(c,a),pt.refreshMaterialUniforms(c,i,_,T,M.state.transmissionRenderTarget[t.id]),ua.upload(N,zt(v),c,L)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(ua.upload(N,zt(v),c,L),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&u.setValue(N,"center",r.center),u.setValue(N,"modelViewMatrix",r.modelViewMatrix),u.setValue(N,"normalMatrix",r.normalMatrix),u.setValue(N,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial)for(var A=i.uniformsGroups,x=0,w=A.length;x<w;x++){var b=A[x];xt.update(b,y),xt.bind(b,y)}return y}(t,e,n,i,r),e=(D.setMaterial(i,o),n.index),o=1;if(!0===i.wireframe){if(void 0===(e=ft.getWireframeAttribute(n)))return;o=2}var s=n.drawRange,l=n.attributes.position,u=s.start*o,s=(s.start+s.count)*o,a=(null!==a&&(u=Math.max(u,a.start*o),s=Math.min(s,(a.start+a.count)*o)),null!==e?(u=Math.max(u,0),s=Math.min(s,e.count)):null!=l&&(u=Math.max(u,0),s=Math.min(s,l.count)),s-u);a<0||a==1/0||(p.setup(r,i,t,n,e),o=yt,null!==e&&(l=dt.get(e),(o=At).setIndex(l)),r.isMesh?!0===i.wireframe?(D.setLineWidth(i.wireframeLinewidth*ht()),o.setMode(N.LINES)):o.setMode(N.TRIANGLES):r.isLine?(s=i.linewidth,D.setLineWidth((s=void 0===s?1:s)*ht()),r.isLineSegments?o.setMode(N.LINES):r.isLineLoop?o.setMode(N.LINE_LOOP):o.setMode(N.LINE_STRIP)):r.isPoints?o.setMode(N.POINTS):r.isSprite&&o.setMode(N.TRIANGLES),r.isBatchedMesh?null!==r._multiDrawInstances?o.renderMultiDrawInstances(r._multiDrawStarts,r._multiDrawCounts,r._multiDrawCount,r._multiDrawInstances):o.renderMultiDraw(r._multiDrawStarts,r._multiDrawCounts,r._multiDrawCount):r.isInstancedMesh?o.renderInstances(u,a,r.count):n.isInstancedBufferGeometry?(t=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,e=Math.min(n.instanceCount,t),o.renderInstances(u,a,e)):o.render(u,a))},this.compile=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=(null===r&&(r=t),(M=mt.get(r)).init(e),d.push(M),r.traverseVisible(function(t){t.isLight&&t.layers.test(e.layers)&&(M.pushLight(t),t.castShadow)&&M.pushShadow(t)}),t!==r&&t.traverseVisible(function(t){t.isLight&&t.layers.test(e.layers)&&(M.pushLight(t),t.castShadow)&&M.pushShadow(t)}),M.setupLights(),new Set);return t.traverse(function(t){var e=t.material;if(e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];_t(i,r,t),a.add(i)}else _t(e,r,t),a.add(e)}),d.pop(),M=null,a},this.compileAsync=function(n,t){var i=this.compile(n,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null);return new Promise(function(t){function e(){i.forEach(function(t){B.get(t).currentProgram.isReady()&&i.delete(t)}),0!==i.size?setTimeout(e,10):t(n)}null!==y.get("KHR_parallel_shader_compile")?e():setTimeout(e,10)})};var kt=null;function Pt(){s.stop()}function Rt(){s.start()}var Dt,s=new Mi;function Bt(t,e,n,i){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)M.pushLight(t),t.castShadow&&M.pushShadow(t);else if(t.isSprite){var r,a;t.frustumCulled&&!ot.intersectsSprite(t)||(i&&P.setFromMatrixPosition(t.matrixWorld).applyMatrix4(lt),r=A.update(t),(a=t.material).visible&&m.push(t,r,a,n,P.z,null))}else if((t.isMesh||t.isLine||t.isPoints)&&(!t.frustumCulled||ot.intersectsObject(t))){var o=A.update(t),s=t.material;if(i&&(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),P.copy(t.boundingSphere.center)):(null===o.boundingSphere&&o.computeBoundingSphere(),P.copy(o.boundingSphere.center)),P.applyMatrix4(t.matrixWorld).applyMatrix4(lt)),Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var h=l[u],d=s[h.materialIndex];d&&d.visible&&m.push(t,o,d,n,P.z,h)}else s.visible&&m.push(t,o,s,n,P.z,null)}for(var f=t.children,p=0,v=f.length;p<v;p++)Bt(f[p],e,n,i)}}function Lt(t,e,n,i){var r=t.opaque,a=t.transmissive,t=t.transparent;M.setupLightsView(n),!0===k&&U.setGlobalState(E.clippingPlanes,n),i&&D.viewport(g.copy(i)),0<r.length&&Ot(r,e,n),0<a.length&&Ot(a,e,n),0<t.length&&Ot(t,e,n),D.buffers.depth.setTest(!0),D.buffers.depth.setMask(!0),D.buffers.color.setMask(!0),D.setPolygonOffset(!1)}function It(t,e,n,i){if(null===(!0===n.isScene?n.overrideMaterial:null)){void 0===M.state.transmissionRenderTarget[i.id]&&(M.state.transmissionRenderTarget[i.id]=new Jt(1,1,{generateMipmaps:!0,type:y.has("EXT_color_buffer_half_float")||y.has("EXT_color_buffer_float")?1016:1009,minFilter:1008,samples:4,stencilBuffer:F,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Gt.workingColorSpace}));var r=M.state.transmissionRenderTarget[i.id],a=i.viewport||g,a=(r.setSize(a.z,a.w),E.getRenderTarget()),o=(E.setRenderTarget(r),E.getClearColor($),(tt=E.getClearAlpha())<1&&E.setClearColor(16777215,.5),ct?x.render(n):E.clear(),E.toneMapping),s=(E.toneMapping=0,i.viewport);if(void 0!==i.viewport&&(i.viewport=void 0),M.setupLightsView(i),!0===k&&U.setGlobalState(E.clippingPlanes,i),Ot(t,n,i),L.updateMultisampleRenderTarget(r),L.updateRenderTargetMipmap(r),!1===y.has("WEBGL_multisampled_render_to_texture")){for(var l=!1,u=0,c=e.length;u<c;u++){var h,d=e[u],f=d.object,p=d.geometry,v=d.material,d=d.group;2===v.side&&f.layers.test(i.layers)&&(h=v.side,v.side=1,v.needsUpdate=!0,Ut(f,n,i,p,v,d),v.side=h,l=v.needsUpdate=!0)}!0===l&&(L.updateMultisampleRenderTarget(r),L.updateRenderTargetMipmap(r))}E.setRenderTarget(a),E.setClearColor($,tt),void 0!==s&&(i.viewport=s),E.toneMapping=o}}function Ot(t,e,n){for(var i=!0===e.isScene?e.overrideMaterial:null,r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,l=o.geometry,u=null===i?o.material:i,o=o.group;s.layers.test(n.layers)&&Ut(s,e,n,l,u,o)}}function Ut(t,e,n,i,r,a){t.onBeforeRender(E,e,n,i,r,a),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),r.onBeforeRender(E,e,n,i,t,a),!0===r.transparent&&2===r.side&&!1===r.forceSinglePass?(r.side=1,r.needsUpdate=!0,E.renderBufferDirect(n,e,i,r,t,a),r.side=0,r.needsUpdate=!0,E.renderBufferDirect(n,e,i,r,t,a),r.side=2):E.renderBufferDirect(n,e,i,r,t,a),t.onAfterRender(E,e,n,i,r,a)}function Nt(t,e,n){!0!==e.isScene&&(e=ut);var i=B.get(t),r=M.state.lights,a=M.state.shadowsArray,o=r.state.version,a=u.getParameters(t,r.state,a,e,n),s=u.getProgramCacheKey(a),l=i.programs,e=(i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=(t.isMeshStandardMaterial?O:I).get(t.envMap||i.environment),i.envMapRotation=null!==i.environment&&null===t.envMap?e.environmentRotation:t.envMapRotation,void 0===l&&(t.addEventListener("dispose",Tt),l=new Map,i.programs=l),l.get(s));if(void 0!==e){if(i.currentProgram===e&&i.lightsStateVersion===o)return Ft(t,a),e}else a.uniforms=u.getUniforms(t),t.onBuild(n,a,E),t.onBeforeCompile(a,E),e=u.acquireProgram(a,s),l.set(s,e),i.uniforms=a.uniforms;n=i.uniforms;return(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(n.clippingPlanes=U.uniform),Ft(t,a),i.needsLights=(l=t).isMeshLambertMaterial||l.isMeshToonMaterial||l.isMeshPhongMaterial||l.isMeshStandardMaterial||l.isShadowMaterial||l.isShaderMaterial&&!0===l.lights,i.lightsStateVersion=o,i.needsLights&&(n.ambientLightColor.value=r.state.ambient,n.lightProbe.value=r.state.probe,n.directionalLights.value=r.state.directional,n.directionalLightShadows.value=r.state.directionalShadow,n.spotLights.value=r.state.spot,n.spotLightShadows.value=r.state.spotShadow,n.rectAreaLights.value=r.state.rectArea,n.ltc_1.value=r.state.rectAreaLTC1,n.ltc_2.value=r.state.rectAreaLTC2,n.pointLights.value=r.state.point,n.pointLightShadows.value=r.state.pointShadow,n.hemisphereLights.value=r.state.hemi,n.directionalShadowMap.value=r.state.directionalShadowMap,n.directionalShadowMatrix.value=r.state.directionalShadowMatrix,n.spotShadowMap.value=r.state.spotShadowMap,n.spotLightMatrix.value=r.state.spotLightMatrix,n.spotLightMap.value=r.state.spotLightMap,n.pointShadowMap.value=r.state.pointShadowMap,n.pointShadowMatrix.value=r.state.pointShadowMatrix),i.currentProgram=e,i.uniformsList=null,e}function zt(t){var e;return null===t.uniformsList&&(e=t.currentProgram.getUniforms(),t.uniformsList=ua.seqWithValue(e.seq,t.uniforms)),t.uniformsList}function Ft(t,e){t=B.get(t);t.outputColorSpace=e.outputColorSpace,t.batching=e.batching,t.batchingColor=e.batchingColor,t.instancing=e.instancing,t.instancingColor=e.instancingColor,t.instancingMorph=e.instancingMorph,t.skinning=e.skinning,t.morphTargets=e.morphTargets,t.morphNormals=e.morphNormals,t.morphColors=e.morphColors,t.morphTargetsCount=e.morphTargetsCount,t.numClippingPlanes=e.numClippingPlanes,t.numIntersection=e.numClipIntersection,t.vertexAlphas=e.vertexAlphas,t.vertexTangents=e.vertexTangents,t.toneMapping=e.toneMapping}s.setAnimationLoop(function(t){kt&&kt(t)}),"undefined"!=typeof self&&s.setContext(self),this.setAnimationLoop=function(t){kt=t,v.setAnimationLoop(t),null===t?s.stop():s.start()},v.addEventListener("sessionstart",Pt),v.addEventListener("sessionend",Rt),this.render=function(t,e){if(void 0===e||!0===e.isCamera){if(!0!==W){!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===e.parent&&!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),!0===v.enabled&&!0===v.isPresenting&&(!0===v.cameraAutoUpdate&&v.updateCamera(e),e=v.getCamera()),!0===t.isScene&&t.onBeforeRender(E,t,e,S),(M=mt.get(t,d.length)).init(e),d.push(M),lt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),ot.setFromProjectionMatrix(lt),st=this.localClippingEnabled,k=U.init(this.clippingPlanes,st),(m=vt.get(t,h.length)).init(),h.push(m),!0===v.enabled&&!0===v.isPresenting&&null!==(n=E.xr.getDepthSensingMesh())&&Bt(n,e,-1/0,E.sortObjects),Bt(t,e,0,E.sortObjects),m.finish(),!0===E.sortObjects&&m.sort(et,nt),(ct=!1===v.enabled||!1===v.isPresenting||!1===v.hasDepthSensing())&&x.addToRenderList(m,t),this.info.render.frame++,!0===k&&U.beginShadows();var n=M.state.shadowsArray,i=(f.render(n,t,e),!0===k&&U.endShadows(),!0===this.info.autoReset&&this.info.reset(),m.opaque),r=m.transmissive;if(M.setupLights(),e.isArrayCamera){var a=e.cameras;if(0<r.length)for(var o=0,s=a.length;o<s;o++)It(i,r,t,a[o]);ct&&x.render(t);for(var l=0,u=a.length;l<u;l++){var c=a[l];Lt(m,t,c,c.viewport)}}else 0<r.length&&It(i,r,t,e),ct&&x.render(t),Lt(m,t,e);null!==S&&(L.updateMultisampleRenderTarget(S),L.updateRenderTargetMipmap(S)),!0===t.isScene&&t.onAfterRender(E,t,e),p.resetDefaultState(),K=-1,C=null,d.pop(),0<d.length?(M=d[d.length-1],!0===k&&U.setGlobalState(E.clippingPlanes,M.state.camera)):M=null,h.pop(),m=0<h.length?h[h.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return Y},this.getActiveMipmapLevel=function(){return J},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(t,e,n){B.get(t.texture).__webglTexture=e,B.get(t.depthTexture).__webglTexture=n;e=B.get(t);e.__hasExternalTextures=!0,e.__autoAllocateDepthBuffer=void 0===n,e.__autoAllocateDepthBuffer||!0===y.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),e.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(t,e){t=B.get(t);t.__webglFramebuffer=e,t.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=(Y=n,J=i,!0),a=null,o=!1,s=!1;Z=(S=t)?(void 0!==(e=B.get(t)).__useDefaultFramebuffer?(D.bindFramebuffer(N.FRAMEBUFFER,null),r=!1):void 0===e.__webglFramebuffer?L.setupRenderTarget(t):e.__hasExternalTextures&&L.rebindTextures(t,B.get(t.texture).__webglTexture,B.get(t.depthTexture).__webglTexture),((e=t.texture).isData3DTexture||e.isDataArrayTexture||e.isCompressedArrayTexture)&&(s=!0),e=B.get(t).__webglFramebuffer,t.isWebGLCubeRenderTarget?(a=Array.isArray(e[n])?e[n][i]:e[n],o=!0):a=0<t.samples&&!1===L.useMultisampledRTT(t)?B.get(t).__webglMultisampledFramebuffer:Array.isArray(e)?e[i]:e,g.copy(t.viewport),q.copy(t.scissor),t.scissorTest):(g.copy(it).multiplyScalar(_).floor(),q.copy(rt).multiplyScalar(_).floor(),at),D.bindFramebuffer(N.FRAMEBUFFER,a)&&r&&D.drawBuffers(t,a),D.viewport(g),D.scissor(q),D.setScissorTest(Z),o?(e=B.get(t.texture),N.framebufferTexture2D(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_CUBE_MAP_POSITIVE_X+n,e.__webglTexture,i)):s&&(r=B.get(t.texture),N.framebufferTextureLayer(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,r.__webglTexture,i||0,n||0)),K=-1},this.readRenderTargetPixels=function(t,e,n,i,r,a,o){if(t&&t.isWebGLRenderTarget){var s=B.get(t).__webglFramebuffer;if(s=t.isWebGLCubeRenderTarget&&void 0!==o?s[o]:s){D.bindFramebuffer(N.FRAMEBUFFER,s);try{var l=t.texture,u=l.format,c=l.type;R.textureFormatReadable(u)?R.textureTypeReadable(c)?0<=e&&e<=t.width-i&&0<=n&&n<=t.height-r&&N.readPixels(e,n,i,r,w.convert(u),w.convert(c),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.")}finally{o=null!==S?B.get(S).__webglFramebuffer:null;D.bindFramebuffer(N.FRAMEBUFFER,o)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.readRenderTargetPixelsAsync=(Dt=jt(Xt().mark(function t(e,n,o,s,l,u,c){var h,d,f,p,v;return Xt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.isWebGLRenderTarget){t.next=2;break}throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");case 2:if(v=B.get(e).__webglFramebuffer,!(v=e.isWebGLCubeRenderTarget&&void 0!==c?v[c]:v)){t.next=29;break}if(D.bindFramebuffer(N.FRAMEBUFFER,v),t.prev=6,v=e.texture,h=v.format,d=v.type,R.textureFormatReadable(h)){t.next=12;break}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");case 12:if(R.textureTypeReadable(d)){t.next=14;break}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");case 14:var i,r,a;if(0<=n&&n<=e.width-s&&0<=o&&o<=e.height-l)return f=N.createBuffer(),N.bindBuffer(N.PIXEL_PACK_BUFFER,f),N.bufferData(N.PIXEL_PACK_BUFFER,u.byteLength,N.STREAM_READ),N.readPixels(n,o,s,l,w.convert(h),w.convert(d),0),N.flush(),p=N.fenceSync(N.SYNC_GPU_COMMANDS_COMPLETE,0),t.next=23,i=N,r=p,a=4,new Promise(function(e,n){setTimeout(function t(){switch(i.clientWaitSync(r,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:n();break;case i.TIMEOUT_EXPIRED:setTimeout(t,a);break;default:e()}},a)});t.next=25;break;case 23:try{N.bindBuffer(N.PIXEL_PACK_BUFFER,f),N.getBufferSubData(N.PIXEL_PACK_BUFFER,0,u)}finally{N.deleteBuffer(f),N.deleteSync(p)}return t.abrupt("return",u);case 25:return t.prev=25,v=null!==S?B.get(S).__webglFramebuffer:null,D.bindFramebuffer(N.FRAMEBUFFER,v),t.finish(25);case 29:case"end":return t.stop()}},t,null,[[6,,25,29]])})),function(t,e,n,i,r,a,o){return Dt.apply(this,arguments)}),this.copyFramebufferToTexture=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=(!0!==t.isTexture&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),e=arguments[0]||null,t=arguments[1]),Math.pow(2,-n)),r=Math.floor(t.image.width*i),i=Math.floor(t.image.height*i),a=null!==e?e.x:0,e=null!==e?e.y:0;L.setTexture2D(t,0),N.copyTexSubImage2D(N.TEXTURE_2D,n,0,0,a,e,r,i),D.unbindTexture()},this.copyTextureToTexture=function(t,e){var n,i,r,a,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,l=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,u=(!0!==t.isTexture&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),s=arguments[0]||null,t=arguments[1],e=arguments[2],l=arguments[3]||0,o=null),o=null!==o?(n=o.max.x-o.min.x,i=o.max.y-o.min.y,r=o.min.x,o.min.y):(n=t.image.width,i=t.image.height,r=0),s=null!==s?(a=s.x,s.y):a=0,w.convert(e.format)),c=w.convert(e.type),h=(L.setTexture2D(e,0),N.pixelStorei(N.UNPACK_FLIP_Y_WEBGL,e.flipY),N.pixelStorei(N.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),N.pixelStorei(N.UNPACK_ALIGNMENT,e.unpackAlignment),N.getParameter(N.UNPACK_ROW_LENGTH)),d=N.getParameter(N.UNPACK_IMAGE_HEIGHT),f=N.getParameter(N.UNPACK_SKIP_PIXELS),p=N.getParameter(N.UNPACK_SKIP_ROWS),v=N.getParameter(N.UNPACK_SKIP_IMAGES),m=t.isCompressedTexture?t.mipmaps[l]:t.image;N.pixelStorei(N.UNPACK_ROW_LENGTH,m.width),N.pixelStorei(N.UNPACK_IMAGE_HEIGHT,m.height),N.pixelStorei(N.UNPACK_SKIP_PIXELS,r),N.pixelStorei(N.UNPACK_SKIP_ROWS,o),t.isDataTexture?N.texSubImage2D(N.TEXTURE_2D,l,a,s,n,i,u,c,m.data):t.isCompressedTexture?N.compressedTexSubImage2D(N.TEXTURE_2D,l,a,s,m.width,m.height,u,m.data):N.texSubImage2D(N.TEXTURE_2D,l,a,s,u,c,m),N.pixelStorei(N.UNPACK_ROW_LENGTH,h),N.pixelStorei(N.UNPACK_IMAGE_HEIGHT,d),N.pixelStorei(N.UNPACK_SKIP_PIXELS,f),N.pixelStorei(N.UNPACK_SKIP_ROWS,p),N.pixelStorei(N.UNPACK_SKIP_IMAGES,v),0===l&&e.generateMipmaps&&N.generateMipmap(N.TEXTURE_2D),D.unbindTexture()},this.copyTextureToTexture3D=function(t,e){var n,i,r,a,o,s,l,u,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,d=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=(!0!==t.isTexture&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),c=arguments[0]||null,h=arguments[1]||null,t=arguments[2],e=arguments[3],d=arguments[4]||0),t.isCompressedTexture?t.mipmaps[d]:t.image),c=null!==c?(n=c.max.x-c.min.x,i=c.max.y-c.min.y,r=c.max.z-c.min.z,a=c.min.x,o=c.min.y,c.min.z):(n=f.width,i=f.height,r=f.depth,o=a=0),h=null!==h?(s=h.x,l=h.y,h.z):l=s=0,p=w.convert(e.format),v=w.convert(e.type);if(e.isData3DTexture)L.setTexture3D(e,0),u=N.TEXTURE_3D;else{if(!e.isDataArrayTexture&&!e.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");L.setTexture2DArray(e,0),u=N.TEXTURE_2D_ARRAY}N.pixelStorei(N.UNPACK_FLIP_Y_WEBGL,e.flipY),N.pixelStorei(N.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),N.pixelStorei(N.UNPACK_ALIGNMENT,e.unpackAlignment);var m=N.getParameter(N.UNPACK_ROW_LENGTH),g=N.getParameter(N.UNPACK_IMAGE_HEIGHT),y=N.getParameter(N.UNPACK_SKIP_PIXELS),A=N.getParameter(N.UNPACK_SKIP_ROWS),x=N.getParameter(N.UNPACK_SKIP_IMAGES);N.pixelStorei(N.UNPACK_ROW_LENGTH,f.width),N.pixelStorei(N.UNPACK_IMAGE_HEIGHT,f.height),N.pixelStorei(N.UNPACK_SKIP_PIXELS,a),N.pixelStorei(N.UNPACK_SKIP_ROWS,o),N.pixelStorei(N.UNPACK_SKIP_IMAGES,c),t.isDataTexture||t.isData3DTexture?N.texSubImage3D(u,d,s,l,h,n,i,r,p,v,f.data):e.isCompressedArrayTexture?N.compressedTexSubImage3D(u,d,s,l,h,n,i,r,p,f.data):N.texSubImage3D(u,d,s,l,h,n,i,r,p,v,f),N.pixelStorei(N.UNPACK_ROW_LENGTH,m),N.pixelStorei(N.UNPACK_IMAGE_HEIGHT,g),N.pixelStorei(N.UNPACK_SKIP_PIXELS,y),N.pixelStorei(N.UNPACK_SKIP_ROWS,A),N.pixelStorei(N.UNPACK_SKIP_IMAGES,x),0===d&&e.generateMipmaps&&N.generateMipmap(u),D.unbindTexture()},this.initRenderTarget=function(t){void 0===B.get(t).__webglFramebuffer&&L.setupRenderTarget(t)},this.initTexture=function(t){t.isCubeTexture?L.setTextureCube(t,0):t.isData3DTexture?L.setTexture3D(t,0):t.isDataArrayTexture||t.isCompressedArrayTexture?L.setTexture2DArray(t,0):L.setTexture2D(t,0),D.unbindTexture()},this.resetState=function(){J=Y=0,S=null,D.reset(),p.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))},[{key:"coordinateSystem",get:function(){return 2e3}},{key:"outputColorSpace",get:function(){return this._outputColorSpace},set:function(t){this._outputColorSpace=t;var e=this.getContext();e.drawingBufferColorSpace="display-p3"===t?"display-p3":"srgb",e.unpackColorSpace="display-p3-linear"===Gt.workingColorSpace?"display-p3":"srgb"}}]),lo=(t(uo,i),e(uo,[{key:"copy",value:function(t,e){return o(s(uo.prototype),"copy",this).call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}},{key:"toJSON",value:function(t){t=o(s(uo.prototype),"toJSON",this).call(this,t);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),0<this.backgroundBlurriness&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}]));function uo(){var t;return Ht(this,uo),(t=H(this,uo)).isScene=!0,t.type="Scene",t.background=null,t.environment=null,t.fog=null,t.backgroundBlurriness=0,t.backgroundIntensity=1,t.backgroundRotation=new Me,t.environmentIntensity=1,t.environmentRotation=new Me,t.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:t})),t}ni=e(function t(){Ht(this,t),this.type="Curve",this.arcLengthDivisions=200},[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(t,e){t=this.getUtoTmapping(t);return this.getPoint(t,e)}},{key:"getPoints",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}},{key:"getSpacedPoints",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}},{key:"getLength",value:function(){var t=this.getLengths();return t[t.length-1]}},{key:"getLengths",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n=[],i=this.getPoint(0),r=0;n.push(0);for(var a=1;a<=t;a++)r+=(e=this.getPoint(a/t)).distanceTo(i),n.push(r),i=e;return this.cacheArcLengths=n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(t,e){for(var n,i=this.getLengths(),r=0,a=i.length,o=e||t*i[a-1],s=0,l=a-1;s<=l;)if((n=i[r=Math.floor(s+(l-s)/2)]-o)<0)s=r+1;else{if(!(0<n)){l=r;break}l=r-1}return i[r=l]===o?r/(a-1):(r+(o-(e=i[r]))/(i[r+1]-e))/(a-1)}},{key:"getTangent",value:function(t,e){var n=t-1e-4,t=t+1e-4,n=(1<t&&(t=1),this.getPoint(n=n<0?0:n)),t=this.getPoint(t),e=e||new(n.isVector2?$:Vt);return e.copy(t).sub(n).normalize(),e}},{key:"getTangentAt",value:function(t,e){t=this.getUtoTmapping(t);return this.getTangent(t,e)}},{key:"computeFrenetFrames",value:function(t,e){for(var n=new Vt,i=[],r=[],a=[],o=new Vt,s=new fe,l=0;l<=t;l++)i[l]=this.getTangentAt(l/t,new Vt);r[0]=new Vt,a[0]=new Vt;var u=Number.MAX_VALUE,c=Math.abs(i[0].x),h=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,n.set(1,0,0)),h<=u&&(u=h,n.set(0,1,0)),d<=u&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(var f,p=1;p<=t;p++)r[p]=r[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(i[p-1],i[p]),o.length()>Number.EPSILON&&(o.normalize(),f=Math.acos(K(i[p-1].dot(i[p]),-1,1)),r[p].applyMatrix4(s.makeRotationAxis(o,f))),a[p].crossVectors(i[p],r[p]);if(!0===e){var v=Math.acos(K(r[0].dot(r[t]),-1,1));v/=t,0<i[0].dot(o.crossVectors(r[0],r[t]))&&(v=-v);for(var m=1;m<=t;m++)r[m].applyMatrix4(s.makeRotationAxis(i[m],v*m)),a[m].crossVectors(i[m],r[m])}return{tangents:i,normals:r,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}},{key:"toJSON",value:function(){var t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}},{key:"fromJSON",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}]);function co(t,e,n,i,r){var e=.5*(i-e),r=.5*(r-n),a=t*t;return t*a*(2*n-2*i+e+r)+(-3*n+3*i-2*e-r)*a+e*t+n}t(fo,ni);var ho=e(fo,[{key:"getPoint",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new $,n=this.points,t=(n.length-1)*t,i=Math.floor(t),t=t-i,r=n[0===i?i:i-1],a=n[i],o=n[i>n.length-2?n.length-1:i+1],n=n[i>n.length-3?n.length-1:i+2];return e.set(co(t,r.x,a.x,o.x,n.x),co(t,r.y,a.y,o.y,n.y)),e}},{key:"copy",value:function(t){o(s(fo.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var t=o(s(fo.prototype),"toJSON",this).call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var i=this.points[e];t.points.push(i.toArray())}return t}},{key:"fromJSON",value:function(t){o(s(fo.prototype),"fromJSON",this).call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new $).fromArray(i))}return this}}]);function fo(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return Ht(this,fo),(t=H(this,fo)).isSplineCurve=!0,t.type="SplineCurve",t.points=e,t}t(vo,En);var po=e(vo,[{key:"copy",value:function(t){return o(s(vo.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}],[{key:"fromJSON",value:function(t){return new vo(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}]);function vo(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:32,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:2*Math.PI,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:Math.PI;Ht(this,vo),(t=H(this,vo)).type="SphereGeometry",t.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:a,thetaStart:o,thetaLength:s};for(var n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i)),l=Math.min(o+s,Math.PI),u=0,c=[],h=new Vt,d=new Vt,f=[],p=[],v=[],m=[],g=0;g<=i;g++){var y=[],A=g/i,x=0;0===g&&0===o?x=.5/n:g===i&&l===Math.PI&&(x=-.5/n);for(var w=0;w<=n;w++){var b=w/n;h.x=-e*Math.cos(r+b*a)*Math.sin(o+A*s),h.y=e*Math.cos(o+A*s),h.z=e*Math.sin(r+b*a)*Math.sin(o+A*s),p.push(h.x,h.y,h.z),d.copy(h).normalize(),v.push(d.x,d.y,d.z),m.push(b+x,1-A),y.push(u++)}c.push(y)}for(var M=0;M<i;M++)for(var E=0;E<n;E++){var S=c[M][E+1],C=c[M][E],T=c[M+1][E],_=c[M+1][E+1];(0!==M||0<o)&&f.push(S,C,_),(M!==i-1||l<Math.PI)&&f.push(C,T,_)}return t.setIndex(f),t.setAttribute("position",new mn(p,3)),t.setAttribute("normal",new mn(v,3)),t.setAttribute("uv",new mn(m,2)),t}function mo(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)}var r=e(function t(e,n,i,r){Ht(this,t),this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}},[{key:"evaluate",value:function(t){var e,n=this.parameterPositions,i=this._cachedIndex,r=n[i],a=n[i-1];t:{e:{n:{i:if(!(t<r)){for(var o=i+2;;){if(void 0===r){if(t<a)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(a=r,t<(r=n[++i]))break e}e=n.length;break n}if(a<=t)break t;var s=n[1];t<s&&(i=2,a=s);for(var l=i-2;;){if(void 0===a)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=a,t>=(a=n[--i-1]))break e}e=i,i=0}for(;i<e;){var u=i+e>>>1;t<n[u]?e=u:i=1+u}if(r=n[i],void 0===(a=n[i-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,t,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,a=0;a!==i;++a)e[a]=n[r+a];return e}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),go=(t(bo,r),e(bo,[{key:"intervalChanged_",value:function(t,e,n){var i=this.parameterPositions,r=t-2,a=t+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=t,o=2*e-n;break;case 2402:o=e+i[r=i.length-2]-i[r+1];break;default:r=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=t,s=2*n-e;break;case 2402:s=n+i[a=1]-i[0];break;default:a=t-1,s=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(s-n),this._offsetPrev=r*u,this._offsetNext=a*u}},{key:"interpolate_",value:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,t=this._weightPrev,h=this._weightNext,n=(n-e)/(i-e),i=n*n,e=i*n,d=-t*e+2*t*i-t*n,f=(1+t)*e+(-1.5-2*t)*i+(-.5+t)*n+1,p=(-1-h)*e+(1.5+h)*i+.5*n,v=h*e-h*i,m=0;m!==o;++m)r[m]=d*a[u+m]+f*a[l+m]+p*a[s+m]+v*a[c+m];return r}}])),yo=(t(wo,r),e(wo,[{key:"interpolate_",value:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=(n-e)/(i-e),c=1-u,h=0;h!==o;++h)r[h]=a[l+h]*c+a[s+h]*u;return r}}])),Ao=(t(xo,r),e(xo,[{key:"interpolate_",value:function(t){return this.copySampleValue_(t-1)}}])),Mt=e(function t(e,n,i,r){if(Ht(this,t),void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=mo(n,this.TimeBufferType),this.values=mo(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)},[{key:"InterpolantFactoryMethodDiscrete",value:function(t){return new Ao(this.times,this.values,this.getValueSize(),t)}},{key:"InterpolantFactoryMethodLinear",value:function(t){return new yo(this.times,this.values,this.getValueSize(),t)}},{key:"InterpolantFactoryMethodSmooth",value:function(t){return new go(this.times,this.values,this.getValueSize(),t)}},{key:"setInterpolation",value:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",n)}else this.createInterpolant=e;return this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this}},{key:"scale",value:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this}},{key:"trim",value:function(t,e){for(var n,i=this.times,r=i.length,a=0,o=r-1;a!==r&&i[a]<t;)++a;for(;-1!==o&&i[o]>e;)--o;return++o,0===a&&o===r||(o<=a&&(a=(o=Math.max(o,1))-1),n=this.getValueSize(),this.times=i.slice(a,o),this.values=this.values.slice(a*n,o*n)),this}},{key:"validate",value:function(){var t=!0,e=this.getValueSize(),n=(e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1),this.times),i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&s<a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==i&&(e=i,ArrayBuffer.isView(e))&&!(e instanceof DataView))for(var l=0,u=i.length;l!==u;++l){var c=i[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),t=!1;break}}return t}},{key:"optimize",value:function(){for(var t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),i=2302===this.getInterpolation(),r=t.length-1,a=1,o=1;o<r;++o){var s=!1,l=t[o];if(l!==t[o+1]&&(1!==o||l!==t[0]))if(i)s=!0;else for(var u=o*n,c=u-n,h=u+n,d=0;d!==n;++d){var f=e[u+d];if(f!==e[c+d]||f!==e[h+d]){s=!0;break}}if(s){if(o!==a){t[a]=t[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)e[v+m]=e[p+m]}++a}}if(0<r){t[a]=t[r];for(var g=r*n,y=a*n,A=0;A!==n;++A)e[y+A]=e[g+A];++a}return a!==t.length?(this.times=t.slice(0,a),this.values=e.slice(0,a*n)):(this.times=t,this.values=e),this}},{key:"clone",value:function(){var t=this.times.slice(),e=this.values.slice(),t=new this.constructor(this.name,t,e);return t.createInterpolant=this.createInterpolant,t}}],[{key:"toJSON",value:function(t){var e,n=t.constructor;return n.toJSON!==this.toJSON?e=n.toJSON(t):(e={name:t.name,times:mo(t.times,Array),values:mo(t.values,Array)},(n=t.getInterpolation())!==t.DefaultInterpolation&&(e.interpolation=n)),e.type=t.ValueTypeName,e}}]);function xo(t,e,n,i){return Ht(this,xo),H(this,xo,[t,e,n,i])}function wo(t,e,n,i){return Ht(this,wo),H(this,wo,[t,e,n,i])}function bo(t,e,n,i){return Ht(this,bo),(t=H(this,bo,[t,e,n,i]))._weightPrev=-0,t._offsetPrev=-0,t._weightNext=-0,t._offsetNext=-0,t.DefaultSettings_={endingStart:2400,endingEnd:2400},t}Mt.prototype.TimeBufferType=Float32Array,Mt.prototype.ValueBufferType=Float32Array,Mt.prototype.DefaultInterpolation=2301;t(Mo,Mt);sn=e(Mo);function Mo(t,e,n){return Ht(this,Mo),H(this,Mo,[t,e,n])}function Eo(){return Ht(this,Eo),H(this,Eo,arguments)}function So(){return Ht(this,So),H(this,So,arguments)}sn.prototype.ValueTypeName="bool",sn.prototype.ValueBufferType=Array,sn.prototype.DefaultInterpolation=2300,sn.prototype.InterpolantFactoryMethodLinear=void 0,sn.prototype.InterpolantFactoryMethodSmooth=void 0,t(Eo,Mt),e(Eo).prototype.ValueTypeName="color",t(So,Mt),e(So).prototype.ValueTypeName="number";t(_o,r);var Co=e(_o,[{key:"interpolate_",value:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-e)/(i-e),l=t*o,u=l+o;l!==u;l+=4)Et.slerpFlat(r,0,a,l-o,a,l,s);return r}}]),n=(t(To,Mt),e(To,[{key:"InterpolantFactoryMethodLinear",value:function(t){return new Co(this.times,this.values,this.getValueSize(),t)}}]));function To(){return Ht(this,To),H(this,To,arguments)}function _o(t,e,n,i){return Ht(this,_o),H(this,_o,[t,e,n,i])}n.prototype.ValueTypeName="quaternion",n.prototype.InterpolantFactoryMethodSmooth=void 0;t(ko,Mt);i=e(ko);function ko(t,e,n){return Ht(this,ko),H(this,ko,[t,e,n])}function Po(){return Ht(this,Po),H(this,Po,arguments)}i.prototype.ValueTypeName="string",i.prototype.ValueBufferType=Array,i.prototype.DefaultInterpolation=2300,i.prototype.InterpolantFactoryMethodLinear=void 0,i.prototype.InterpolantFactoryMethodSmooth=void 0,t(Po,Mt);var Ro={enabled:!(e(Po).prototype.ValueTypeName="vector"),files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Do=new(e(function t(e,n,i){Ht(this,t);var r=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(t){s++,!1===a&&void 0!==r.onStart&&r.onStart(t,o,s),a=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,s),o===s&&(a=!1,void 0!==r.onLoad)&&r.onLoad()},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return l?l(t):t},this.setURLModifier=function(t){return l=t,this},this.addHandler=function(t,e){return u.push(t,e),this},this.removeHandler=function(t){t=u.indexOf(t);return-1!==t&&u.splice(t,2),this},this.getHandler=function(t){for(var e=0,n=u.length;e<n;e+=2){var i=u[e],r=u[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return r}return null}})),ni=e(function t(e){Ht(this,t),this.manager=void 0!==e?e:Do,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}},[{key:"load",value:function(){}},{key:"loadAsync",value:function(n,i){var r=this;return new Promise(function(t,e){r.load(n,t,i,e)})}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(t){return this.crossOrigin=t,this}},{key:"setWithCredentials",value:function(t){return this.withCredentials=t,this}},{key:"setPath",value:function(t){return this.path=t,this}},{key:"setResourcePath",value:function(t){return this.resourcePath=t,this}},{key:"setRequestHeader",value:function(t){return this.requestHeader=t,this}}]),Bo=(ni.DEFAULT_MATERIAL_NAME="__DEFAULT",Error,new RegExp("[\\[\\]\\.:\\/]","g")),sn="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Lo=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]")+/(WCOD+)?/.source.replace("WCOD",sn)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]")+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]")+"$"),Io=["material","materials","bones","map"],r=e(function t(e,n,i){Ht(this,t);i=i||a.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)},[{key:"getValue",value:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,n=this._bindings[n];void 0!==n&&n.getValue(t,e)}},{key:"setValue",value:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)}},{key:"bind",value:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}},{key:"unbind",value:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}]),a=e(Oo,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(t,e){t[e]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)t[e++]=n[i]}},{key:"_getValue_arrayElement",value:function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(t,e){this.resolvedProperty.toArray(t,e)}},{key:"_setValue_direct",value:function(t,e){this.targetObject[this.propertyName]=t[e]}},{key:"_setValue_direct_setNeedsUpdate",value:function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]}},{key:"_setValue_array_setNeedsUpdate",value:function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(t,e){this.resolvedProperty.fromArray(t,e)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(t,e){this.bind(),this.getValue(t,e)}},{key:"_setValue_unbound",value:function(t,e){this.bind(),this.setValue(t,e)}},{key:"bind",value:function(){var t=this.node,e=this.parsedPath,n=e.objectName,i=e.propertyName,r=e.propertyIndex;if(t||(t=Oo.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var a=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);for(var t=t.skeleton.bones,o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;case"map":if("map"in t)t=t.map;else{if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var s=t[i];if(void 0!==s){var l=this.Versioning.None,u=(void 0!==(this.targetObject=t).needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate),this.BindingType.Direct);if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else{r=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+r+"."+i+" but it wasn't found.",t)}}else console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,e,n){return new(t&&t.isAnimationObjectGroup?Oo.Composite:Oo)(t,e,n)}},{key:"sanitizeNodeName",value:function(t){return t.replace(/\s/g,"_").replace(Bo,"")}},{key:"parseTrackName",value:function(t){var e=Lo.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n,e={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=e.nodeName&&e.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i&&(n=e.nodeName.substring(i+1),-1!==Io.indexOf(n))&&(e.nodeName=e.nodeName.substring(0,i),e.objectName=n),null===e.propertyName||0===e.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return e}},{key:"findNode",value:function(t,r){if(void 0===r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){var e=t.skeleton.getBoneByName(r);if(void 0!==e)return e}if(t.children){e=function t(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===r||i.uuid===r)return i;i=t(i.children);if(i)return i}return null}(t.children);if(e)return e}return null}}]);function Oo(t,e,n){Ht(this,Oo),this.path=e,this.parsedPath=n||Oo.parseTrackName(e),this.node=Oo.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}a.Composite=r,a.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},a.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},a.prototype.GetterByBindingType=[a.prototype._getValue_direct,a.prototype._getValue_array,a.prototype._getValue_arrayElement,a.prototype._getValue_toArray],a.prototype.SetterByBindingTypeAndVersioning=[[a.prototype._setValue_direct,a.prototype._setValue_direct_setNeedsUpdate,a.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[a.prototype._setValue_array,a.prototype._setValue_array_setNeedsUpdate,a.prototype._setValue_array_setMatrixWorldNeedsUpdate],[a.prototype._setValue_arrayElement,a.prototype._setValue_arrayElement_setNeedsUpdate,a.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[a.prototype._setValue_fromArray,a.prototype._setValue_fromArray_setNeedsUpdate,a.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);var Uo=new fe,No=e(function t(e,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1/0;Ht(this,t),this.ray=new de(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Se,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}},[{key:"set",value:function(t,e){this.ray.set(t,e)}},{key:"setFromCamera",value:function(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}},{key:"setFromXRController",value:function(t){return Uo.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Uo),this}},{key:"intersectObject",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return Fo(t,this,n,e),n.sort(zo),n}},{key:"intersectObjects",value:function(t){for(var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=0,r=t.length;i<r;i++)Fo(t[i],this,n,e);return n.sort(zo),n}}]);function zo(t,e){return t.distance-e.distance}function Fo(t,e,n,i){var r=!0;if(!0===(r=t.layers.test(e.layers)&&!1===t.raycast(e,n)?!1:r)&&!0===i)for(var a=t.children,o=0,s=a.length;o<s;o++)Fo(a[o],e,n,!0)}function Ho(){Ho=function(){return o};var l,o={},t=Object.prototype,u=t.hasOwnProperty,c=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(l){a=function(t,e,n){return t[e]=n}}function s(t,e,n,i){var r,a,o,s,e=e&&e.prototype instanceof m?e:m,e=Object.create(e.prototype),i=new S(i||[]);return c(e,"_invoke",{value:(r=t,a=n,o=i,s=d,function(t,e){if(s===f)throw Error("Generator is already running");if(s===p){if("throw"===t)throw e;return{value:l,done:!0}}for(o.method=t,o.arg=e;;){var n=o.delegate;if(n){n=function t(e,n){var i=n.method,r=e.iterator[i];if(r===l)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=l,t(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v;i=h(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;r=i.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l),n.delegate=null,v):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}(n,o);if(n){if(n===v)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(s===d)throw s=p,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s=f;n=h(r,a,o);if("normal"===n.type){if(s=o.done?p:"suspendedYield",n.arg===v)continue;return{value:n.arg,done:o.done}}"throw"===n.type&&(s=p,o.method="throw",o.arg=n.arg)}})}),e}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}o.wrap=s;var d="suspendedStart",f="executing",p="completed",v={};function m(){}function g(){}function y(){}var e={},A=(a(e,i,function(){return this}),Object.getPrototypeOf),A=A&&A(A(C([]))),x=(A&&A!==t&&u.call(A,i)&&(e=A),y.prototype=m.prototype=Object.create(e));function w(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function b(o,s){var e;c(this,"_invoke",{value:function(n,i){function t(){return new s(function(t,e){!function e(t,n,i,r){var a,t=h(o[t],o,n);if("throw"!==t.type)return(n=(a=t.arg).value)&&"object"==$o(n)&&u.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,i,r)},function(t){e("throw",t,i,r)}):s.resolve(n).then(function(t){a.value=t,i(a)},function(t){return e("throw",t,i,r)});r(t.arg)}(n,i,t,e)})}return e=e?e.then(t,t):t()}})}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function C(e){if(e||""===e){var n,t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=l,t.done=!0,t}).next=t}throw new TypeError($o(e)+" is not iterable")}return c(x,"constructor",{value:g.prototype=y,configurable:!0}),c(y,"constructor",{value:g,configurable:!0}),g.displayName=a(y,r,"GeneratorFunction"),o.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a(t,r,"GeneratorFunction")),t.prototype=Object.create(x),t},o.awrap=function(t){return{__await:t}},w(b.prototype),a(b.prototype,n,function(){return this}),o.AsyncIterator=b,o.async=function(t,e,n,i,r){void 0===r&&(r=Promise);var a=new b(s(t,e,n,i),r);return o.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},w(x),a(x,r,"Generator"),a(x,i,function(){return this}),a(x,"toString",function(){return"[object Generator]"}),o.keys=function(t){var e,n=Object(t),i=[];for(e in n)i.push(e);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},o.values=C,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function t(t,e){return a.type="throw",a.arg=n,i.next=t,e&&(i.method="next",i.arg=l),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],a=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=u.call(r,"catchLoc"),s=u.call(r,"finallyLoc");if(o&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&u.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}var a=(r=r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc?null:r)?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,i,r=this.tryEntries[e];if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(i=n.arg,E(r)),i}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=l),v}},o}function Go(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(t){return n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}function Vo(s){return function(){var t=this,o=arguments;return new Promise(function(e,n){var i=s.apply(t,o);function r(t){Go(i,e,n,r,a,"next",t)}function a(t){Go(i,e,n,r,a,"throw",t)}r(void 0)})}}function u(){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i)return(i=Object.getOwnPropertyDescriptor(i,e)).get?i.get.call(arguments.length<3?t:n):i.value}).apply(null,arguments)}function Qo(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qo(Object(n),!0).forEach(function(t){Xo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xo(t,e,n){return(e=Yo(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wo(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Yo(i.key),i)}}function c(t,e,n){return e&&Wo(t.prototype,e),n&&Wo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yo(t){t=function(t){if("object"!=$o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return String(t);e=e.call(t,"string");if("object"!=$o(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(t);return"symbol"==$o(t)?t:t+""}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e,n){return e=p(e),Jo(t,qo()?Reflect.construct(e,n||[],p(t).constructor):e.apply(t,n))}function Jo(t,e){if(e&&("object"==$o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");e=t;if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zo(t,e)}function Ko(t){var n="function"==typeof Map?new Map:void 0;return(Ko=function(t){if(null===t||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return function(t,e,n){var i;return qo()?Reflect.construct.apply(null,arguments):((i=[null]).push.apply(i,e),e=new(t.bind.apply(t,i)),n&&Zo(e,n.prototype),e)}(t,arguments,p(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Zo(e,t)})(t)}function qo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qo=function(){return!!t})()}function Zo(t,e){return(Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $o(t){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ts(t){return function(t){if(Array.isArray(t))return ns(t)}(t)||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||es(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(t){u=!0,r=t}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}}(t,e)||es(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(t,e){var n;if(t)return"string"==typeof t?ns(t,e):"Map"===(n="Object"===(n={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ns(t,e):void 0}function ns(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"165"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="165");function is(t,e){for(var n in e)rs(t,n,{get:e[n],enumerable:!0})}var rs=Object.defineProperty,as={};is(as,{ACTIONS:function(){return ys},ANIMATION_MIN_DURATION:function(){return ls},CAPTURE_EVENTS_CLASS:function(){return gs},CTRLZOOM_TIMEOUT:function(){return fs},DBLCLICK_DELAY:function(){return cs},DEFAULT_TRANSITION:function(){return ss},EASINGS:function(){return bs},ICONS:function(){return ws},IDS:function(){return As},INERTIA_WINDOW:function(){return ps},KEY_CODES:function(){return xs},LONGTOUCH_DELAY:function(){return hs},MOVE_THRESHOLD:function(){return us},SPHERE_RADIUS:function(){return vs},TWOFINGERSOVERLAY_DELAY:function(){return ds},VIEWER_DATA:function(){return ms}});var os,ss=1500,ls=500,us=4,cs=300,hs=500,ds=100,fs=2e3,ps=300,vs=10,ms="photoSphereViewer",gs="psv--capture-event",ys=((n=ys||{}).ROTATE_UP="ROTATE_UP",n.ROTATE_DOWN="ROTATE_DOWN",n.ROTATE_RIGHT="ROTATE_RIGHT",n.ROTATE_LEFT="ROTATE_LEFT",n.ZOOM_IN="ZOOM_IN",n.ZOOM_OUT="ZOOM_OUT",n),As={MENU:"menu",TWO_FINGERS:"twoFingers",CTRL_ZOOM:"ctrlZoom",ERROR:"error",DESCRIPTION:"description"},xs={Enter:"Enter",Control:"Control",Escape:"Escape",Space:" ",PageUp:"PageUp",PageDown:"PageDown",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",Delete:"Delete",Plus:"+",Minus:"-"},ws={arrow:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="40 40 432 432"><g transform="rotate(0, 256, 256)"><path fill="currentColor" d="M425.23 210.55H227.39a5 5 0 01-3.53-8.53l56.56-56.57a45.5 45.5 0 000-64.28 45.15 45.15 0 00-32.13-13.3 45.15 45.15 0 00-32.14 13.3L41.32 256l174.83 174.83a45.15 45.15 0 0032.14 13.3 45.15 45.15 0 0032.13-13.3 45.5 45.5 0 000-64.28l-56.57-56.57a5 5 0 013.54-8.53h197.84c25.06 0 45.45-20.39 45.45-45.45s-20.4-45.45-45.45-45.45z"/></g>\x3c!-- Created by Flatart from the Noun Project --\x3e</svg>\n',close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><g fill="currentColor" transform=" translate(50, 50) rotate(45)"><rect x="-5" y="-65" width="10" height="130"/><rect x="-65" y="-5" width="130" height="10"/></g></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M83.3 35.6h-17V3H32.2v32.6H16.6l33.6 32.7 33-32.7z"/><path fill="currentColor" d="M83.3 64.2v16.3H16.6V64.2H-.1v32.6H100V64.2H83.3z"/>\x3c!--Created by Michael Zenaty from the Noun Project--\x3e</svg>\n',fullscreenIn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M100 40H87.1V18.8h-21V6H100zM100 93.2H66V80.3h21.1v-21H100zM34 93.2H0v-34h12.9v21.1h21zM12.9 40H0V6h34v12.9H12.8z"/>\x3c!--Created by Garrett Knoll from the Noun Project--\x3e</svg>\n',fullscreenOut:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M66 7h13v21h21v13H66zM66 60.3h34v12.9H79v21H66zM0 60.3h34v34H21V73.1H0zM21 7h13v34H0V28h21z"/>\x3c!--Created by Garrett Knoll from the Noun Project--\x3e</svg>\n',info:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path fill="currentColor" d="M28.3 26.1c-1 2.6-1.9 4.8-2.6 7-2.5 7.4-5 14.7-7.2 22-1.3 4.4.5 7.2 4.3 7.8 1.3.2 2.8.2 4.2-.1 8.2-2 11.9-8.6 15.7-15.2l-2.2 2a18.8 18.8 0 0 1-7.4 5.2 2 2 0 0 1-1.6-.2c-.2-.1 0-1 0-1.4l.8-1.8L41.9 28c.5-1.4.9-3 .7-4.4-.2-2.6-3-4.4-6.3-4.4-8.8.2-15 4.5-19.5 11.8-.2.3-.2.6-.3 1.3 3.7-2.8 6.8-6.1 11.8-6.2z"/><circle fill="currentColor" cx="39.3" cy="9.2" r="8.2"/>\x3c!--Created by Arafat Uddin from the Noun Project--\x3e</svg>\n',menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 80 80"><g fill="currentColor"><circle r="10" cx="20" cy="20"/><circle r="10" cx="50" cy="20"/><circle r="10" cx="80" cy="20"/><circle r="10" cx="20" cy="50"/><circle r="10" cx="50" cy="50"/><circle r="10" cx="80" cy="50"/><circle r="10" cx="20" cy="80"/><circle r="10" cx="50" cy="80"/><circle r="10" cx="80" cy="80"/></g>\x3c!-- Created by Richard Kunák from the Noun Project--\x3e</svg>\n',zoomIn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M14.043 12.22a7.738 7.738 0 1 0-1.823 1.822l4.985 4.985c.503.504 1.32.504 1.822 0a1.285 1.285 0 0 0 0-1.822l-4.984-4.985zm-6.305 1.043a5.527 5.527 0 1 1 0-11.053 5.527 5.527 0 0 1 0 11.053z"/><path fill="currentColor" d="M8.728 4.009H6.744v2.737H4.006V8.73h2.738v2.736h1.984V8.73h2.737V6.746H8.728z"/>\x3c!--Created by Ryan Canning from the Noun Project--\x3e</svg>\n',zoomOut:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M14.043 12.22a7.738 7.738 0 1 0-1.823 1.822l4.985 4.985c.503.504 1.32.504 1.822 0a1.285 1.285 0 0 0 0-1.822l-4.984-4.985zm-6.305 1.043a5.527 5.527 0 1 1 0-11.053 5.527 5.527 0 0 1 0 11.053z"/><path fill="currentColor" d="M4.006 6.746h7.459V8.73H4.006z"/>\x3c!--Created by Ryan Canning from the Noun Project--\x3e</svg>\n'},bs={linear:function(t){return t},inQuad:function(t){return t*t},outQuad:function(t){return t*(2-t)},inOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1- --t*t*t*t},inOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return 1+--t*t*t*t*t},inOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},inSine:function(t){return 1-Math.cos(t*(Math.PI/2))},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return.5-.5*Math.cos(Math.PI*t)},inExpo:function(t){return Math.pow(2,10*(t-1))},outExpo:function(t){return 1-Math.pow(2,-10*t)},inOutExpo:function(t){return(t=2*t-1)<0?.5*Math.pow(2,10*t):1-.5*Math.pow(2,-10*t)},inCirc:function(t){return 1-Math.sqrt(1-t*t)},outCirc:function(t){return Math.sqrt(1-(t-1)*(t-1))},inOutCirc:function(t){return(t*=2)<1?.5-.5*Math.sqrt(1-t*t):.5+.5*Math.sqrt(1-(t-=2)*t)}},m={};function Ms(t,e){t%=e;return t<0&&(t+=e),t}function Es(t){return t.reduce(function(t,e){return t+e},0)}function Ss(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Cs(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}function Ts(n,i){return[0,2*Math.PI,2*-Math.PI].reduce(function(t,e){e=i-n+e;return Math.abs(e)<Math.abs(t)?e:t},1/0)}function _s(t,e){return Math.acos(Math.cos(t.pitch)*Math.cos(e.pitch)*Math.cos(t.yaw-e.yaw)+Math.sin(t.pitch)*Math.sin(e.pitch))}function ks(t,e){var t=v(t,2),n=t[0],t=t[1],e=v(e,2),i=e[0],e=e[1],i=(n-i>Math.PI?n-=2*Math.PI:n-i<-Math.PI&&(n+=2*Math.PI),(i-n)*Math.cos((t+e)/2)),n=e-t;return Math.sqrt(i*i+n*n)}function Ps(t){return"string"==typeof t?t.match(/^[a-z]/i)?document.getElementById(t):document.querySelector(t):t}function Rs(t,e,n){void 0===n?t.classList.toggle(e):n?t.classList.add(e):t.classList.remove(e)}function Ds(t,e){(t=t.classList).add.apply(t,ts(e.split(" ").filter(function(t){return!!t})))}function Bs(t,e){(t=t.classList).remove.apply(t,ts(e.split(" ").filter(function(t){return!!t})))}function Ls(t,e){var n=t;do{if(n===e)return!0}while(n=n.parentElement);return!1}function Is(t,e){if(null!=t&&t.matches){var n=t;do{if(n.matches(e))return n}while(n=n.parentElement)}return null}function Os(t){for(var e=0,n=0,i=t;i;)e+=i.offsetLeft-i.scrollLeft+i.clientLeft,n+=i.offsetTop-i.scrollTop+i.clientTop,i=i.offsetParent;return{x:e,y:n}}function Us(t,e){return window.getComputedStyle(t).getPropertyValue(e)}function Ns(t){var e;return t.touches.length<2?null:{distance:Ss(e={x:t.touches[0].clientX,y:t.touches[0].clientY},t={x:t.touches[1].clientX,y:t.touches[1].clientY}),angle:Cs(e,t),center:{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}}function zs(t){return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]?t===os:document.fullscreenElement===t}function Fs(t){1<arguments.length&&void 0!==arguments[1]&&arguments[1]?((os=t).classList.add("psv-fullscreen-emulation"),document.dispatchEvent(new Event("fullscreenchange"))):t.requestFullscreen()}function Hs(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]?(os.classList.remove("psv-fullscreen-emulation"),os=null,document.dispatchEvent(new Event("fullscreenchange"))):document.exitFullscreen()}function Gs(t){return t.replace(/[A-Z](?:(?=[^A-Z])|[A-Z]*(?=[A-Z][^A-Z]|$))/g,function(t,e){return(0<e?"-":"")+t.toLowerCase()})}function Vs(r,a){var o=!1;return function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];o||(o=!0,setTimeout(function(){r.apply(t,n),o=!1},a))}}function Qs(t){if("object"!==$o(t)||null===t||"[object Object]"!==Object.prototype.toString.call(t))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function js(t,e){var r=e;return function n(i,e){return Array.isArray(e)?(i&&Array.isArray(i)?i.length=0:i=[],e.forEach(function(t,e){i[e]=n(null,t)})):"object"===$o(e)?(i&&!Array.isArray(i)||(i={}),Object.keys(e).forEach(function(t){"object"===$o(e[t])&&e[t]&&Qs(e[t])?e[t]!==r&&(i[t]?n(i[t],e[t]):i[t]=n(null,e[t])):i[t]=e[t]})):i=e,i}(t,e)}function Xs(t){return js(null,t)}function Ws(t){return!t||0===Object.keys(t).length&&t.constructor===Object}function Ys(t){return null==t}function Js(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var a=r[i];if(!Ys(a))return a}return null}function Ks(t,e){if(t===e)return!0;if(qs(t)&&qs(e)){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];if(!Ks(t[r],e[r]))return!1}return!0}return!1}function qs(t){return"object"===$o(t)&&null!==t}is(m,{Animation:function(){return Ml},Dynamic:function(){return El},MultiDynamic:function(){return Sl},PressHandler:function(){return Cl},Slider:function(){return _l},SliderDirection:function(){return Tl},addClasses:function(){return Ds},angle:function(){return Cs},applyEulerInverse:function(){return Al},checkStylesheet:function(){return wl},checkVersion:function(){return bl},cleanCssPosition:function(){return dl},clone:function(){return Xs},createTexture:function(){return gl},cssPositionIsOrdered:function(){return fl},dasherize:function(){return Gs},deepEqual:function(){return Ks},deepmerge:function(){return js},distance:function(){return Ss},exitFullscreen:function(){return Hs},firstNonNull:function(){return Js},getAbortError:function(){return el},getAngle:function(){return _s},getClosest:function(){return Is},getConfigParser:function(){return xl},getElement:function(){return Ps},getPosition:function(){return Os},getShortestArc:function(){return Ts},getStyleProperty:function(){return Us},getTouchData:function(){return Ns},getXMPValue:function(){return al},greatArcDistance:function(){return ks},hasParent:function(){return Ls},invertResolvableBoolean:function(){return tl},isAbortError:function(){return nl},isEmpty:function(){return Ws},isExtendedPosition:function(){return rl},isFullscreenEnabled:function(){return zs},isNil:function(){return Ys},isPlainObject:function(){return Qs},logWarn:function(){return il},parseAngle:function(){return ml},parsePoint:function(){return hl},parseSpeed:function(){return pl},removeClasses:function(){return Bs},requestFullscreen:function(){return Fs},resolveBoolean:function(){return $s},speedToDuration:function(){return vl},sum:function(){return Es},throttle:function(){return Vs},toggleClass:function(){return Rs},wrap:function(){return Ms}});f(Zs,Ko(Error));var g=c(Zs);function Zs(t,e){return h(this,Zs),(e=d(this,Zs,[e&&e instanceof Error?"".concat(t,": ").concat(e.message):t])).name="PSVError",null!=(t=Error.captureStackTrace)&&t.call(Error,e,Zs),e}function $s(t,e){Qs(t)?(e(t.initial,!0),t.promise.then(function(t){return e(t,!1)})):e(t,!0)}function tl(t){return{initial:!t.initial,promise:t.promise.then(function(t){return!t})}}function el(){var t=new Error("Loading was aborted.");return t.name="AbortError",t}function nl(t){return"AbortError"===(null==t?void 0:t.name)}function il(t){console.warn("PhotoSphereViewer: ".concat(t))}function rl(n){return!(!n||Array.isArray(n))&&[["textureX","textureY"],["yaw","pitch"]].some(function(t){var t=v(t,2),e=t[0],t=t[1];return void 0!==n[e]&&void 0!==n[t]})}function al(t,e){var n,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=t.match("<GPano:"+e+">(.*)</GPano:"+e+">");return null!==r?(n=i?parseInt(r[1],10):parseFloat(r[1]),isNaN(n)?null:n):null===(r=t.match("GPano:"+e+'="(.*?)"'))||(n=i?parseInt(r[1],10):parseFloat(r[1]),isNaN(n))?null:n}var ol={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},sl=["left","center","right"],ll=["top","center","bottom"],ul=[].concat(sl,ll),cl="center";function hl(t){var e;return t?"object"===$o(t)?t:(e="left"!==(t=1===(t=t.toLocaleLowerCase().split(" ").slice(0,2)).length?ol[t[0]]?[t[0],cl]:[t[0],t[0]]:t)[1]&&"right"!==t[1]&&"top"!==t[0]&&"bottom"!==t[0],t=t.map(function(t){return ol[t]||t}),e||t.reverse(),(e=t.join(" ").match(/^([0-9.]+)% ([0-9.]+)%$/))?{x:parseFloat(e[1])/100,y:parseFloat(e[2])/100}:{x:.5,y:.5}):{x:.5,y:.5}}function dl(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{allowCenter:!0,cssOrder:!0},n=e.allowCenter,e=e.cssOrder;return t?(1===(t="string"==typeof t?t.split(" "):t).length&&(t[0]===cl?t=[cl,cl]:-1!==sl.indexOf(t[0])?t=[cl,t[0]]:-1!==ll.indexOf(t[0])&&(t=[t[0],cl])),2!==t.length||-1===ul.indexOf(t[0])||-1===ul.indexOf(t[1])?(il("Unparsable position ".concat(t)),null):n||t[0]!==cl||t[1]!==cl?t=(t=(t=e&&!fl(t)?[t[1],t[0]]:t)[1]===cl&&-1!==sl.indexOf(t[0])?[cl,t[0]]:t)[0]===cl&&-1!==ll.indexOf(t[1])?[t[1],cl]:t:(il("Invalid position center center"),null)):null}function fl(t){return-1!==ll.indexOf(t[0])&&-1!==sl.indexOf(t[1])}function pl(t){var e;if("string"==typeof t){var n=t.toString().trim(),i=parseFloat(n.replace(/^(-?[0-9]+(?:\.[0-9]*)?).*$/,"$1")),r=n.replace(/^-?[0-9]+(?:\.[0-9]*)?(.*)$/,"$1").trim();switch(r.match(/(pm|per minute)$/)&&(i/=60),r){case"dpm":case"degrees per minute":case"dps":case"degrees per second":e=l.degToRad(i);break;case"rdpm":case"radians per minute":case"rdps":case"radians per second":e=i;break;case"rpm":case"revolutions per minute":case"rps":case"revolutions per second":e=i*Math.PI*2;break;default:throw new g('Unknown speed unit "'.concat(r,'"'))}}else e=t;return e}function vl(t,e){var n;return"number"!=typeof t?(n=pl(t),e/Math.abs(n)*1e3):Math.abs(t)}function ml(t){var e,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:n;if("string"==typeof t){var r=t.toLowerCase().trim().match(/^(-?[0-9]+(?:\.[0-9]*)?)(.*)$/);if(!r)throw new g('Unknown angle "'.concat(t,'"'));var a=parseFloat(r[1]),o=r[2];if(o)switch(o){case"deg":case"degs":e=l.degToRad(a);break;case"rad":case"rads":e=a;break;default:throw new g('Unknown angle unit "'.concat(o,'"'))}else e=a}else{if("number"!=typeof t||isNaN(t))throw new g('Unknown angle "'.concat(t,'"'));e=t}return e=Ms(n?e+Math.PI:e,2*Math.PI),n?l.clamp(e-Math.PI,-Math.PI/(i?2:1),Math.PI/(i?2:1)):e}function gl(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=new xt(t);return t.needsUpdate=!0,t.minFilter=e?1008:1006,t.generateMipmaps=e,t.anisotropy=e?2:1,t}var yl=new Et;function Al(t,e){yl.setFromEuler(e).invert(),t.applyQuaternion(yl)}function xl(s,l){function t(t){if(!t)return Xs(s);for(var e=Xs(jo(jo({},s),t)),n={},i=0,r=Object.entries(e);i<r.length;i++){var a=v(r[i],2),o=a[0],a=a[1];if(l&&o in l)a=l[o](a,{rawConfig:e,defValue:s[o]});else if(!(o in s)){il("Unknown option ".concat(o));continue}n[o]=a}return n}return t.defaults=s,t.parsers=l||{},t}function wl(t,e){"true"!==Us(t,"--psv-".concat(e,"-loaded"))&&console.error('PhotoSphereViewer: stylesheet "@photo-sphere-viewer/'.concat(e,'/index.css" is not loaded'))}function bl(t,e,n){e&&e!==n&&console.error("PhotoSphereViewer: @photo-sphere-viewer/".concat(t," is in version ").concat(e," but @photo-sphere-viewer/core is in version ").concat(n))}var Ml=c(function t(e){var n=this;h(this,t),this.easing=bs.linear,this.callbacks=[],this.resolved=!1,this.cancelled=!1,(this.options=e)?(e.easing&&(this.easing="function"==typeof e.easing?e.easing:bs[e.easing]||bs.linear),this.delayTimeout=setTimeout(function(){n.delayTimeout=void 0,n.animationFrame=window.requestAnimationFrame(function(t){return n.__run(t)})},e.delay||0)):this.resolved=!0},[{key:"__run",value:function(t){var e=this;if(!this.cancelled){this.start||(this.start=t);var n=(t-this.start)/this.options.duration,i={};if(n<1){for(var r=0,a=Object.entries(this.options.properties);r<a.length;r++){var o=v(a[r],2),s=o[0],o=o[1];o&&(o=o.start+(o.end-o.start)*this.easing(n),i[s]=o)}this.options.onTick(i,n),this.animationFrame=window.requestAnimationFrame(function(t){return e.__run(t)})}else{for(var l=0,u=Object.entries(this.options.properties);l<u.length;l++){var c=v(u[l],2),h=c[0],c=c[1];c&&(i[h]=c.end)}this.options.onTick(i,1),this.__resolve(!0),this.animationFrame=void 0}}}},{key:"__resolve",value:function(e){e?this.resolved=!0:this.cancelled=!0,this.callbacks.forEach(function(t){return t(e)}),this.callbacks.length=0}},{key:"then",value:function(t){var e=this;return(this.resolved||this.cancelled?Promise.resolve(this.resolved):new Promise(function(t){e.callbacks.push(t)})).then(t)}},{key:"cancel",value:function(){this.cancelled||this.resolved||(this.__resolve(!1),this.delayTimeout&&(window.clearTimeout(this.delayTimeout),this.delayTimeout=void 0),this.animationFrame&&(window.cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0))}}]),El=c(function t(e,n){if(h(this,t),this.fn=e,this.mode=0,this.speed=0,this.speedMult=0,this.currentSpeed=0,this.target=0,this.__current=0,this.min=n.min,this.max=n.max,this.wrap=n.wrap,this.current=n.defaultValue,this.wrap&&0!==this.min)throw new g("invalid config");this.fn&&this.fn(this.current)},[{key:"current",get:function(){return this.__current},set:function(t){this.__current=t}},{key:"setSpeed",value:function(t){this.speed=t}},{key:"goto",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.mode=2,this.target=this.wrap?Ms(t,this.max):l.clamp(t,this.min,this.max),this.speedMult=e}},{key:"step",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;0===e?this.setValue(this.current+t):(2!==this.mode&&(this.target=this.current),this.goto(this.target+t,e))}},{key:"roll",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.mode=1,this.target=t?-1/0:1/0,this.speedMult=e}},{key:"stop",value:function(){this.mode=0}},{key:"setValue",value:function(t){return this.target=this.wrap?Ms(t,this.max):l.clamp(t,this.min,this.max),this.mode=0,this.currentSpeed=0,this.target!==this.current&&(this.current=this.target,this.fn&&this.fn(this.current),!0)}},{key:"update",value:function(t){2===this.mode&&(this.wrap&&Math.abs(this.target-this.current)>this.max/2&&(this.current=this.current<this.target?this.current+this.max:this.current-this.max),e=this.currentSpeed*this.currentSpeed/(this.speed*this.speedMult*4),Math.abs(this.target-this.current)<=e)&&(this.mode=0);var e=0===this.mode?0:this.speed*this.speedMult,e=(this.target<this.current&&(e=-e),this.currentSpeed<e?this.currentSpeed=Math.min(e,this.currentSpeed+t/1e3*this.speed*this.speedMult*2):this.currentSpeed>e&&(this.currentSpeed=Math.max(e,this.currentSpeed-t/1e3*this.speed*this.speedMult*2)),null);return this.current>this.target&&this.currentSpeed?e=Math.max(this.target,this.current+this.currentSpeed*t/1e3):this.current<this.target&&this.currentSpeed&&(e=Math.min(this.target,this.current+this.currentSpeed*t/1e3)),null!==e&&(e=this.wrap?Ms(e,this.max):l.clamp(e,this.min,this.max))!==this.current&&(this.current=e,this.fn&&this.fn(this.current),!0)}}]),Sl=c(function t(e,n){h(this,t),this.fn=e,this.dynamics=n,this.fn&&this.fn(this.current)},[{key:"current",get:function(){return Object.entries(this.dynamics).reduce(function(t,e){var e=v(e,2),n=e[0],e=e[1];return t[n]=e.current,t},{})}},{key:"setSpeed",value:function(t){for(var e=0,n=Object.values(this.dynamics);e<n.length;e++)n[e].setSpeed(t)}},{key:"goto",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=0,i=Object.entries(t);n<i.length;n++){var r=v(i[n],2),a=r[0],r=r[1];this.dynamics[a].goto(r,e)}}},{key:"step",value:function(n){var i=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(0===t)this.setValue(Object.keys(n).reduce(function(t,e){return t[e]=n[e]+i.dynamics[e].current,t},{}));else for(var e=0,r=Object.entries(n);e<r.length;e++){var a=v(r[e],2),o=a[0],a=a[1];this.dynamics[o].step(a,t)}}},{key:"roll",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=0,i=Object.entries(t);n<i.length;n++){var r=v(i[n],2),a=r[0],r=r[1];this.dynamics[a].roll(r,e)}}},{key:"stop",value:function(){for(var t=0,e=Object.values(this.dynamics);t<e.length;t++)e[t].stop()}},{key:"setValue",value:function(t){for(var e=!1,n=0,i=Object.entries(t);n<i.length;n++)var r=v(i[n],2),a=r[0],r=r[1],e=this.dynamics[a].setValue(r)||e;return e&&this.fn&&this.fn(this.current),e}},{key:"update",value:function(t){for(var e=!1,n=0,i=Object.values(this.dynamics);n<i.length;n++)e=i[n].update(t)||e;return e&&this.fn&&this.fn(this.current),e}}]),Cl=c(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:200;h(this,t),this.delay=e,this.time=0,this.delay=e},[{key:"pending",get:function(){return 0!==this.time}},{key:"down",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0),this.time=(new Date).getTime()}},{key:"up",value:function(t){var e=this;this.time&&(Date.now()-this.time<this.delay?this.timeout=setTimeout(function(){t(),e.timeout=void 0,e.time=0},this.delay):(t(),this.time=0))}}]),Tl=((i=Tl||{}).VERTICAL="VERTICAL",i.HORIZONTAL="HORIZONTAL",i),_l=c(function t(e,n,i){h(this,t),this.container=e,this.direction=n,this.listener=i,this.mousedown=!1,this.mouseover=!1,this.container.addEventListener("click",this),this.container.addEventListener("mousedown",this),this.container.addEventListener("mouseenter",this),this.container.addEventListener("mouseleave",this),this.container.addEventListener("touchstart",this),this.container.addEventListener("mousemove",this,!0),this.container.addEventListener("touchmove",this,!0),window.addEventListener("mouseup",this),window.addEventListener("touchend",this)},[{key:"isVertical",get:function(){return"VERTICAL"===this.direction}},{key:"isHorizontal",get:function(){return"HORIZONTAL"===this.direction}},{key:"destroy",value:function(){window.removeEventListener("mouseup",this),window.removeEventListener("touchend",this)}},{key:"handleEvent",value:function(t){switch(t.type){case"click":t.stopPropagation();break;case"mousedown":this.__onMouseDown(t);break;case"mouseenter":this.__onMouseEnter(t);break;case"mouseleave":this.__onMouseLeave(t);break;case"touchstart":this.__onTouchStart(t);break;case"mousemove":this.__onMouseMove(t);break;case"touchmove":this.__onTouchMove(t);break;case"mouseup":this.__onMouseUp(t);break;case"touchend":this.__onTouchEnd(t)}}},{key:"__onMouseDown",value:function(t){this.mousedown=!0,this.__update(t.clientX,t.clientY,!0)}},{key:"__onMouseEnter",value:function(t){this.mouseover=!0,this.__update(t.clientX,t.clientY,!0)}},{key:"__onTouchStart",value:function(t){this.mouseover=!0,this.mousedown=!0;t=t.changedTouches[0];this.__update(t.clientX,t.clientY,!0)}},{key:"__onMouseMove",value:function(t){(this.mousedown||this.mouseover)&&(t.stopPropagation(),this.__update(t.clientX,t.clientY,!0))}},{key:"__onTouchMove",value:function(t){(this.mousedown||this.mouseover)&&(t.stopPropagation(),t=t.changedTouches[0],this.__update(t.clientX,t.clientY,!0))}},{key:"__onMouseUp",value:function(t){this.mousedown&&(this.mousedown=!1,this.__update(t.clientX,t.clientY,!1))}},{key:"__onMouseLeave",value:function(t){this.mouseover&&(this.mouseover=!1,this.__update(t.clientX,t.clientY,!0))}},{key:"__onTouchEnd",value:function(t){this.mousedown&&(this.mouseover=!1,this.mousedown=!1,t=t.changedTouches[0],this.__update(t.clientX,t.clientY,!1))}},{key:"__update",value:function(t,e,n){var i=this.container.getBoundingClientRect(),r=this.isVertical?e:t,a=i[this.isVertical?"bottom":"left"],i=i[this.isVertical?"height":"width"],a=Math.abs((a-r)/i);this.listener({value:a,click:!n,mousedown:this.mousedown,mouseover:this.mouseover,cursor:{clientX:t,clientY:e}})}}]),kl={},Mt=(is(kl,{BeforeAnimateEvent:function(){return Ll},BeforeRenderEvent:function(){return Ol},BeforeRotateEvent:function(){return Nl},ClickEvent:function(){return Fl},ConfigChangedEvent:function(){return Gl},DoubleClickEvent:function(){return Ql},FullscreenEvent:function(){return Xl},HideNotificationEvent:function(){return Yl},HideOverlayEvent:function(){return Kl},HidePanelEvent:function(){return Zl},HideTooltipEvent:function(){return tu},KeypressEvent:function(){return nu},LoadProgressEvent:function(){return ru},ObjectEnterEvent:function(){return Ou},ObjectEvent:function(){return Bu},ObjectHoverEvent:function(){return Fu},ObjectLeaveEvent:function(){return Nu},PanoramaErrorEvent:function(){return cu},PanoramaLoadEvent:function(){return ou},PanoramaLoadedEvent:function(){return lu},PositionUpdatedEvent:function(){return du},ReadyEvent:function(){return mu},RenderEvent:function(){return yu},RollUpdatedEvent:function(){return pu},ShowNotificationEvent:function(){return xu},ShowOverlayEvent:function(){return bu},ShowPanelEvent:function(){return Eu},ShowTooltipEvent:function(){return Cu},SizeUpdatedEvent:function(){return _u},StopAllEvent:function(){return Pu},ViewerEvent:function(){return y},ZoomUpdatedEvent:function(){return Du}}),f(Bl,Ko(Event)),c(Bl)),sn=(f(Dl,Ko(EventTarget)),c(Dl,[{key:"dispatchEvent",value:function(t){return u(p(Dl.prototype),"dispatchEvent",this).call(this,t)}},{key:"addEventListener",value:function(t,e,n){u(p(Dl.prototype),"addEventListener",this).call(this,t,e,n)}},{key:"removeEventListener",value:function(t,e,n){u(p(Dl.prototype),"removeEventListener",this).call(this,t,e,n)}}])),y=(f(Rl,Mt),c(Rl)),r=(f(Pl,y),c(Pl));function Pl(t,e){var n;return h(this,Pl),(n=d(this,Pl,[Pl.type,!0])).position=t,n.zoomLevel=e,n}function Rl(){return h(this,Rl),d(this,Rl,arguments)}function Dl(){return h(this,Dl),d(this,Dl,arguments)}function Bl(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return h(this,Bl),d(this,Bl,[t,{cancelable:e}])}r.type="before-animate";var Ll=r,n=(f(Il,y),c(Il));function Il(t,e){var n;return h(this,Il),(n=d(this,Il,[Il.type])).timestamp=t,n.elapsed=e,n}n.type="before-render";var Ol=n,i=(f(Ul,y),c(Ul));function Ul(t){var e;return h(this,Ul),(e=d(this,Ul,[Ul.type,!0])).position=t,e}i.type="before-rotate";var Nl=i,r=(f(zl,y),c(zl));function zl(t){var e;return h(this,zl),(e=d(this,zl,[zl.type])).data=t,e}r.type="click";var Fl=r,n=(f(Hl,y),c(Hl,[{key:"containsOptions",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.some(function(t){return e.options.includes(t)})}}]));function Hl(t){var e;return h(this,Hl),(e=d(this,Hl,[Hl.type])).options=t,e}n.type="config-changed";var Gl=n,i=(f(Vl,y),c(Vl));function Vl(t){var e;return h(this,Vl),(e=d(this,Vl,[Vl.type])).data=t,e}i.type="dblclick";var Ql=i,r=(f(jl,y),c(jl));function jl(t){var e;return h(this,jl),(e=d(this,jl,[jl.type])).fullscreenEnabled=t,e}r.type="fullscreen";var Xl=r,n=(f(Wl,y),c(Wl));function Wl(t){var e;return h(this,Wl),(e=d(this,Wl,[Wl.type])).notificationId=t,e}n.type="hide-notification";var Yl=n,i=(f(Jl,y),c(Jl));function Jl(t){var e;return h(this,Jl),(e=d(this,Jl,[Jl.type])).overlayId=t,e}i.type="hide-overlay";var Kl=i,r=(f(ql,y),c(ql));function ql(t){var e;return h(this,ql),(e=d(this,ql,[ql.type])).panelId=t,e}r.type="hide-panel";var Zl=r,n=(f($l,y),c($l));function $l(t){var e;return h(this,$l),(e=d(this,$l,[$l.type])).tooltipData=t,e}n.type="hide-tooltip";var tu=n,i=(f(eu,y),c(eu));function eu(t){var e;return h(this,eu),(e=d(this,eu,[eu.type,!0])).key=t,e}i.type="key-press";var nu=i,r=(f(iu,y),c(iu));function iu(t){var e;return h(this,iu),(e=d(this,iu,[iu.type])).progress=t,e}r.type="load-progress";var ru=r,n=(f(au,y),c(au));function au(t){var e;return h(this,au),(e=d(this,au,[au.type])).panorama=t,e}n.type="panorama-load";var ou=n,i=(f(su,y),c(su));function su(t){var e;return h(this,su),(e=d(this,su,[su.type])).data=t,e}i.type="panorama-loaded";var lu=i,r=(f(uu,y),c(uu));function uu(t,e){var n;return h(this,uu),(n=d(this,uu,[uu.type])).panorama=t,n.error=e,n}r.type="panorama-error";var cu=r,n=(f(hu,y),c(hu));function hu(t){var e;return h(this,hu),(e=d(this,hu,[hu.type])).position=t,e}n.type="position-updated";var du=n,i=(f(fu,y),c(fu));function fu(t){var e;return h(this,fu),(e=d(this,fu,[fu.type])).roll=t,e}i.type="roll-updated";var pu=i,r=(f(vu,y),c(vu));function vu(){return h(this,vu),d(this,vu,[vu.type])}r.type="ready";var mu=r,n=(f(gu,y),c(gu));function gu(){return h(this,gu),d(this,gu,[gu.type])}n.type="render";var yu=n,i=(f(Au,y),c(Au));function Au(t){var e;return h(this,Au),(e=d(this,Au,[Au.type])).notificationId=t,e}i.type="show-notification";var xu=i,r=(f(wu,y),c(wu));function wu(t){var e;return h(this,wu),(e=d(this,wu,[wu.type])).overlayId=t,e}r.type="show-overlay";var bu=r,n=(f(Mu,y),c(Mu));function Mu(t){var e;return h(this,Mu),(e=d(this,Mu,[Mu.type])).panelId=t,e}n.type="show-panel";var Eu=n,i=(f(Su,y),c(Su));function Su(t,e){var n;return h(this,Su),(n=d(this,Su,[Su.type])).tooltip=t,n.tooltipData=e,n}i.type="show-tooltip";var Cu=i,r=(f(Tu,y),c(Tu));function Tu(t){var e;return h(this,Tu),(e=d(this,Tu,[Tu.type])).size=t,e}r.type="size-updated";var _u=r,n=(f(ku,y),c(ku));function ku(){return h(this,ku),d(this,ku,[ku.type])}n.type="stop-all";var Pu=n,i=(f(Ru,y),c(Ru));function Ru(t){var e;return h(this,Ru),(e=d(this,Ru,[Ru.type])).zoomLevel=t,e}i.type="zoom-updated";var Du=i,Bu=(f(Iu,y),c(Iu)),r=(f(Lu,Bu),c(Lu));function Lu(t,e,n,i){return h(this,Lu),d(this,Lu,[Lu.type,t,e,n,i])}function Iu(t,e,n,i,r){return h(this,Iu),(t=d(this,Iu,[t])).originalEvent=e,t.object=n,t.viewerPoint=i,t.userDataKey=r,t}r.type="enter-object";var Ou=r,n=(f(Uu,Bu),c(Uu));function Uu(t,e,n,i){return h(this,Uu),d(this,Uu,[Uu.type,t,e,n,i])}n.type="leave-object";var Nu=n,i=(f(zu,Bu),c(zu));function zu(t,e,n,i){return h(this,zu),d(this,zu,[zu.type,t,e,n,i])}i.type="hover-object";var Fu=i,Hu=c(function t(e){h(this,t),this.viewer=e},[{key:"init",value:function(){}},{key:"destroy",value:function(){}},{key:"supportsTransition",value:function(t){return!1}},{key:"supportsPreload",value:function(t){return!1}},{key:"textureCoordsToSphericalCoords",value:function(t,e){throw new g("Current adapter does not support texture coordinates.")}},{key:"sphericalCoordsToTextureCoords",value:function(t,e){throw new g("Current adapter does not support texture coordinates.")}}]);function Gu(t){if(t)for(var e=0,n=[["_",t]].concat(ts(Object.entries(t)));e<n.length;e++){var i=v(n[e],2)[1];if(i.prototype instanceof Hu)return bl(i.id,i.VERSION,"5.8.1"),i}return null}Hu.supportsDownload=!1;var Vu,Qu,ju="".concat(ms,"_touchSupport"),Xu={loaded:!1,pixelRatio:1,isWebGLSupported:!1,maxTextureWidth:0,isTouchEnabled:null,__maxCanvasWidth:null,isIphone:!1,get maxCanvasWidth(){return null===this.__maxCanvasWidth&&(this.__maxCanvasWidth=function(t){for(var e=t,n=!1;1024<e&&!n;){var i=document.createElement("canvas"),r=i.getContext("2d");i.width=e,i.height=e/2,r.fillStyle="white",r.fillRect(0,0,1,1);try{0<r.getImageData(0,0,1,1).data[0]&&(n=!0)}catch(t){}i.width=0,i.height=0,n||(e/=2)}if(n)return e;throw new g("Unable to detect system capabilities")}(this.maxTextureWidth)),this.__maxCanvasWidth},load:function(){var a,t;if(this.loaded||(t=function(){try{return document.createElement("canvas").getContext("webgl2")}catch(t){return null}}(),this.pixelRatio=window.devicePixelRatio||1,this.isWebGLSupported=!!t,this.maxTextureWidth=t?t.getParameter(t.MAX_TEXTURE_SIZE):0,this.isTouchEnabled=(a="ontouchstart"in window||0<navigator.maxTouchPoints,ju in localStorage&&(a="true"===localStorage[ju]),t=new Promise(function(t){function e(){window.removeEventListener("mousedown",n),window.removeEventListener("touchstart",i),clearTimeout(r)}var n=function(){e(),localStorage[ju]=!1,t(!1)},i=function(){e(),localStorage[ju]=!0,t(!0)},r=(window.addEventListener("mousedown",n,!1),window.addEventListener("touchstart",i,!1),setTimeout(function(){e(),localStorage[ju]=a,t(a)},1e4))}),{initial:a,promise:t}),this.isIphone=/iPhone/i.test(navigator.userAgent),this.loaded=!0),!Xu.isWebGLSupported)throw new g("WebGL 2 is not supported.");if(0===Xu.maxTextureWidth)throw new g("Unable to detect system capabilities")}},Wu=URL.createObjectURL(new Blob(["(",function(){function p(t){return"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")}function v(t,e){return{r:Math.round(t.r/2+e.r/2),g:Math.round(t.g/2+e.g/2),b:Math.round(t.b/2+e.b/2)}}function m(t,e,n,i,r){t=t.createLinearGradient(e,0,n,0);return t.addColorStop(0,p(i)),t.addColorStop(1,p(r)),t}function g(t,e,n,i,r,a){a=Math.round(a);for(var o=0,s=0,l=0,u=0,c=t.getImageData(e,n,i,r),h=0;h<r;h+=a)for(var d=0;d<i;d+=a){var f=4*(h*i+d);o+=c.data[f],s+=c.data[1+f],l+=c.data[2+f],u++}return{r:o=Math.round(o/u),g:s=Math.round(s/u),b:l=Math.round(l/u)}}self.onmessage=function(t){var e,n,i,r,a,o,s,l,u,c=t.data.panoData,h=new OffscreenCanvas(c.fullWidth,c.fullHeight),d=h.getContext("2d",{willReadFrequently:!0}),f=new OffscreenCanvas(c.croppedWidth,c.croppedHeight);f.getContext("2d").putImageData(t.data.image,0,0),t=h,f=f,r=(c=c).fullHeight-c.croppedHeight-c.croppedY,a=c.fullWidth-c.croppedWidth-c.croppedX,o=c.croppedY+c.croppedHeight/2,s=t.width/32,s="blur(".concat(l=s,"px)"),(u=t.getContext("2d")).drawImage(f,c.croppedX,c.croppedY,c.croppedWidth,c.croppedHeight),0<c.croppedY&&((0<c.croppedX||0<a)&&(u.filter="none",i=v(e=g(u,c.croppedX,c.croppedY,10,10,2),n=g(u,t.width-a-11,c.croppedY,10,10,2)),0<c.croppedX&&(u.fillStyle=m(u,0,c.croppedX,i,e),u.fillRect(-l,-l,c.croppedX+2*l,o+l)),0<a)&&(u.fillStyle=m(u,t.width-a,t.width,n,i),u.fillRect(t.width-a-l,-l,a+2*l,o+l)),u.filter=s,u.drawImage(f,0,0,f.width,10,c.croppedX,-l,c.croppedWidth,c.croppedY+2*l),u.fillStyle=p(g(u,0,0,t.width,10,10)),u.fillRect(-l,-l,t.width+2*l,2*l)),0<r&&((0<c.croppedX||0<a)&&(u.filter="none",i=v(e=g(u,c.croppedX,t.height-r-1-10,10,10,2),n=g(u,t.width-a-1-10,t.height-r-1-10,10,10,2)),0<c.croppedX&&(u.fillStyle=m(u,0,c.croppedX,i,e),u.fillRect(-l,o,c.croppedX+2*l,t.height-o+l)),0<a)&&(u.fillStyle=m(u,t.width-a,t.width,n,i),u.fillRect(t.width-a-l,o,a+2*l,t.height-o+l)),u.filter=s,u.drawImage(f,0,f.height-10,f.width,10,c.croppedX,t.height-r-l,c.croppedWidth,r+2*l),u.fillStyle=p(g(u,0,t.height-1-10,t.width,10,10)),u.fillRect(-l,t.height-l,t.width+2*l,2*l)),0<c.croppedX&&(u.filter=s,u.drawImage(f,f.width-10,0,10,f.height,-l,c.croppedY,2*l,c.croppedHeight),u.drawImage(f,0,0,10,f.height,0,c.croppedY,c.croppedX+l,c.croppedHeight)),0<a&&(u.filter=s,u.drawImage(f,0,0,10,f.height,t.width-l,c.croppedY,2*l,c.croppedHeight),u.drawImage(f,f.width-10,0,10,f.height,t.width-a-l,c.croppedY,a+l,c.croppedHeight)),u.filter="none",u.drawImage(f,c.croppedX,c.croppedY,c.croppedWidth,c.croppedHeight),postMessage(d.getImageData(0,0,h.width,h.height))}}.toString(),")()"],{type:"application/javascript"})),Yu=xl({backgroundColor:"#000",interpolateBackground:!1,resolution:64,useXmpData:!0,blur:!1},{resolution:function(t){if(t&&l.isPowerOfTwo(t))return t;throw new g("EquirectangularAdapter resolution must be power of two")}}),r=(f(Ju,Hu),c(Ju,[{key:"supportsTransition",value:function(){return!0}},{key:"supportsPreload",value:function(){return!0}},{key:"destroy",value:function(){var t;null!=(t=this.interpolationWorker)&&t.terminate(),u(p(Ju.prototype),"destroy",this).call(this)}},{key:"textureCoordsToSphericalCoords",value:function(t,e){if(Ys(t.textureX)||Ys(t.textureY))throw new g("Texture position is missing 'textureX' or 'textureY'");var n=(t.textureX+e.croppedX)/e.fullWidth*Math.PI*2,t=(t.textureY+e.croppedY)/e.fullHeight*Math.PI;return{yaw:n>=Math.PI?n-Math.PI:n+Math.PI,pitch:Math.PI/2-t}}},{key:"sphericalCoordsToTextureCoords",value:function(t,e){var n=t.yaw/Math.PI/2*e.fullWidth,i=t.pitch/Math.PI*e.fullHeight;return{textureX:Math.round(t.yaw<Math.PI?n+e.fullWidth/2:n-e.fullWidth/2)-e.croppedX,textureY:Math.round(e.fullHeight/2-i)-e.croppedY}}},{key:"loadTexture",value:(Qu=Vo(Ho().mark(function t(e){var n,i,r,a,o,s,l,u=this,c=arguments;return Ho().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!(1<c.length&&void 0!==c[1])||c[1],i=2<c.length?c[2]:void 0,r=3<c.length&&void 0!==c[3]?c[3]:this.config.useXmpData,"string"!=typeof e)return t.abrupt("return",Promise.reject(new g("Invalid panorama url, are you using the right adapter?")));t.next=5;break;case 5:return t.next=7,this.viewer.textureLoader.loadFile(e,n?function(t){return u.viewer.loader.setProgress(t)}:null,e);case 7:if(a=t.sent,r)return t.next=11,this.loadXMP(a);t.next=14;break;case 11:t.t0=t.sent,t.next=15;break;case 14:t.t0=null;case 15:return o=t.t0,t.next=18,this.viewer.textureLoader.blobToImage(a);case 18:return l=t.sent,(i="function"==typeof i?i(l,o):i)||o||(i=this.__defaultPanoData(l)),(s={isEquirectangular:!0,fullWidth:Js(null==(s=i)?void 0:s.fullWidth,null==o?void 0:o.fullWidth,l.width),fullHeight:Js(null==(s=i)?void 0:s.fullHeight,null==o?void 0:o.fullHeight,l.height),croppedWidth:Js(null==(s=i)?void 0:s.croppedWidth,null==o?void 0:o.croppedWidth,l.width),croppedHeight:Js(null==(s=i)?void 0:s.croppedHeight,null==o?void 0:o.croppedHeight,l.height),croppedX:Js(null==(s=i)?void 0:s.croppedX,null==o?void 0:o.croppedX,0),croppedY:Js(null==(s=i)?void 0:s.croppedY,null==o?void 0:o.croppedY,0),poseHeading:Js(null==(s=i)?void 0:s.poseHeading,null==o?void 0:o.poseHeading,0),posePitch:Js(null==(s=i)?void 0:s.posePitch,null==o?void 0:o.posePitch,0),poseRoll:Js(null==(s=i)?void 0:s.poseRoll,null==o?void 0:o.poseRoll,0),initialHeading:null==o?void 0:o.initialHeading,initialPitch:null==o?void 0:o.initialPitch,initialFov:null==o?void 0:o.initialFov}).croppedWidth===l.width&&s.croppedHeight===l.height||il("Invalid panoData, croppedWidth/croppedHeight is not coherent with the loaded image.\n            panoData: ".concat(s.croppedWidth,"x").concat(s.croppedHeight,", image: ").concat(l.width,"x").concat(l.height)),1<Math.abs(s.fullWidth-2*s.fullHeight)&&(il("Invalid panoData, fullWidth should be twice fullHeight"),s.fullWidth=2*s.fullHeight),s.croppedX+s.croppedWidth>s.fullWidth&&(il("Invalid panoData, croppedX + croppedWidth > fullWidth"),s.croppedX=s.fullWidth-s.croppedWidth),s.croppedY+s.croppedHeight>s.fullHeight&&(il("Invalid panoData, croppedY + croppedHeight > fullHeight"),s.croppedY=s.fullHeight-s.croppedHeight),l=this.createEquirectangularTexture(l,s),t.abrupt("return",{panorama:e,texture:l,panoData:s,cacheKey:e});case 28:case"end":return t.stop()}},t,this)})),function(t){return Qu.apply(this,arguments)})},{key:"loadXMP",value:(Vu=Vo(Ho().mark(function t(e){var n,i,r;return Ho().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadBlobAsString(e);case 2:if(r=t.sent,n=r.indexOf("<x:xmpmeta"),i=r.indexOf("</x:xmpmeta>"),r=r.substring(n,i),-1!==n&&-1!==i&&r.includes("GPano:"))return t.abrupt("return",{isEquirectangular:!0,fullWidth:al(r,"FullPanoWidthPixels"),fullHeight:al(r,"FullPanoHeightPixels"),croppedWidth:al(r,"CroppedAreaImageWidthPixels"),croppedHeight:al(r,"CroppedAreaImageHeightPixels"),croppedX:al(r,"CroppedAreaLeftPixels"),croppedY:al(r,"CroppedAreaTopPixels"),poseHeading:al(r,"PoseHeadingDegrees",!1),posePitch:al(r,"PosePitchDegrees",!1),poseRoll:al(r,"PoseRollDegrees",!1),initialHeading:al(r,"InitialViewHeadingDegrees",!1),initialPitch:al(r,"InitialViewPitchDegrees",!1),initialFov:al(r,"InitialHorizontalFOVDegrees",!1)});t.next=8;break;case 8:return t.abrupt("return",null);case 9:case"end":return t.stop()}},t,this)})),function(t){return Vu.apply(this,arguments)})},{key:"loadBlobAsString",value:function(i){return new Promise(function(t,e){var n=new FileReader;n.onload=function(){return t(n.result)},n.onerror=e,n.readAsText(i)})}},{key:"createEquirectangularTexture",value:function(t,e){var n,i,r,a,o,s,l,u=this;return this.config.blur||e.fullWidth>Xu.maxTextureWidth||e.croppedWidth!==e.fullWidth||e.croppedHeight!==e.fullHeight?(n=Math.min(1,Xu.maxCanvasWidth/e.fullWidth),i={fullWidth:e.fullWidth*n,fullHeight:e.fullHeight*n,croppedWidth:e.croppedWidth*n,croppedHeight:e.croppedHeight*n,croppedX:e.croppedX*n,croppedY:e.croppedY*n},(r=document.createElement("canvas")).width=i.fullWidth,r.height=i.fullHeight,a=r.getContext("2d"),this.config.backgroundColor&&(a.fillStyle=this.config.backgroundColor,a.fillRect(0,0,r.width,r.height)),this.config.blur&&(o=r.width/2048,s=Math.ceil(2*o),i.croppedWidth===r.width&&(a.drawImage(t,0,0,s/n,t.height,0,i.croppedY,s,i.croppedHeight),a.drawImage(t,t.width-s/n,0,s/n,t.height,r.width-s,i.croppedY,s,i.croppedHeight)),i.croppedHeight===r.height&&(a.drawImage(t,0,0,1,1,i.croppedX,0,i.croppedWidth,s),a.drawImage(t,0,t.height-1,1,1,i.croppedX,r.height-s,i.croppedWidth,s)),a.filter="blur(".concat(o,"px)")),a.drawImage(t,i.croppedX,i.croppedY,i.croppedWidth,i.croppedHeight),l=gl(r),this.config.interpolateBackground&&i.fullWidth<=8096&&(e.croppedWidth!==e.fullWidth||e.croppedHeight!==e.fullHeight)&&(this.interpolationWorker.postMessage({image:a.getImageData(i.croppedX,i.croppedY,i.croppedWidth,i.croppedHeight),panoData:i}),this.interpolationWorker.onmessage=function(t){a.putImageData(t.data,0,0),l.needsUpdate=!0,u.viewer.needsUpdate()}),l):gl(t)}},{key:"createMesh",value:function(){var t=new po(vs,this.SPHERE_SEGMENTS,this.SPHERE_HORIZONTAL_SEGMENTS,-Math.PI/2).scale(-1,1,1);return new Gn(t,new ln)}},{key:"setTexture",value:function(t,e){t.material.map=e.texture}},{key:"setTextureOpacity",value:function(t,e){t.material.opacity=e,t.material.transparent=e<1}},{key:"disposeTexture",value:function(t){null!=(t=t.texture)&&t.dispose()}},{key:"__defaultPanoData",value:function(t){var e=Math.max(t.width,2*t.height),n=Math.round(e/2),i=Math.round((e-t.width)/2),r=Math.round((n-t.height)/2);return{isEquirectangular:!0,fullWidth:e,fullHeight:n,croppedWidth:t.width,croppedHeight:t.height,croppedX:i,croppedY:r}}}]));function Ju(t,e){return h(this,Ju),(t=d(this,Ju,[t])).config=Yu(e),t.config.interpolateBackground&&(window.Worker?t.interpolationWorker=new Worker(Wu,{name:"photo-sphere-viewer-interpolation"}):(il("Web Worker API not available"),t.config.interpolateBackground=!1)),t.SPHERE_SEGMENTS=t.config.resolution,t.SPHERE_HORIZONTAL_SEGMENTS=t.SPHERE_SEGMENTS/2,t}r.id="equirectangular",r.VERSION="5.8.1",r.supportsDownload=!0;f(qu,r);var Ku,n=c(qu,[{key:"loadTexture",value:(Ku=Vo(Ho().mark(function t(e,n){var i;return Ho().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(p(qu.prototype),"loadTexture",this).call(this,e,n,null,!1);case 2:return(i=t.sent).panoData=null,t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return Ku.apply(this,arguments)})},{key:"createMesh",value:function(){for(var t=new po(vs,this.SPHERE_SEGMENTS,this.SPHERE_HORIZONTAL_SEGMENTS).scale(-1,1,1).toNonIndexed(),e=t.getAttribute("uv"),n=t.getAttribute("normal"),i=0;i<e.count;i++)for(var r=0;r<3;r++){var a,o=3*i+r,s=n.getX(o),l=n.getY(o),u=n.getZ(o);i<e.count/6?(a=0===s&&0===u?1:Math.acos(l)/Math.sqrt(s*s+u*u)*(2/Math.PI),e.setXY(o,.23675*s*a+.25,.4735*u*a+.5)):(a=0===s&&0===u?1:Math.acos(-l)/Math.sqrt(s*s+u*u)*(2/Math.PI),e.setXY(o,.23675*-s*a+.75,.4735*u*a+.5))}return t.rotateX(-Math.PI/2),t.rotateY(Math.PI),new Gn(t,new ln)}}]);function qu(t,e){return h(this,qu),d(this,qu,[t,{resolution:null!=(t=null==e?void 0:e.resolution)?t:64,interpolateBackground:!1,useXmpData:!1}])}n.id="dual-fisheye",n.VERSION="5.8.1";var i=c(function t(e,n){h(this,t),this.parent=e,this.children=[],this.container=document.createElement("div"),this.state={visible:!0},this.viewer=e instanceof t?e.viewer:e,this.container.className=n.className||"",this.parent.children.push(this),this.parent.container.appendChild(this.container)},[{key:"destroy",value:function(){this.parent.container.removeChild(this.container);var t=this.parent.children.indexOf(this);-1!==t&&this.parent.children.splice(t,1),this.children.slice().forEach(function(t){return t.destroy()}),this.children.length=0}},{key:"toggle",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:!this.isVisible())?this.show():this.hide()}},{key:"hide",value:function(t){this.container.style.display="none",this.state.visible=!1}},{key:"show",value:function(t){this.container.style.display="",this.state.visible=!0}},{key:"isVisible",value:function(){return this.state.visible}}]),Zu=xl({id:null,className:null,title:null,hoverScale:!1,collapsable:!1,tabbable:!0,icon:null,iconActive:null}),$u=(f(rc,i),c(rc,[{key:"id",get:function(){return this.config.id}},{key:"title",get:function(){return this.container.title}},{key:"content",get:function(){return this.container.innerHTML}},{key:"width",get:function(){return this.state.width}},{key:"collapsable",get:function(){return this.config.collapsable}},{key:"show",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.isVisible()||(this.state.visible=!0,this.state.collapsed||(this.container.style.display=""),t&&this.viewer.navbar.autoSize())}},{key:"hide",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.isVisible()&&(this.state.visible=!1,this.container.style.display="none",t)&&this.viewer.navbar.autoSize()}},{key:"checkSupported",value:function(){var n=this;$s(this.isSupported(),function(t,e){n.state&&(n.state.supported=t,e?t||n.hide():n.toggle(t))})}},{key:"autoSize",value:function(){}},{key:"isSupported",value:function(){return!0}},{key:"toggleActive",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!this.state.active;t!==this.state.active&&(this.state.active=t,Rs(this.container,"psv-button--active",this.state.active),this.config.iconActive)&&this.__setIcon(this.state.active?this.config.iconActive:this.config.icon)}},{key:"disable",value:function(){this.container.classList.add("psv-button--disabled"),this.state.enabled=!1}},{key:"enable",value:function(){this.container.classList.remove("psv-button--disabled"),this.state.enabled=!0}},{key:"collapse",value:function(){this.state.collapsed=!0,this.container.style.display="none"}},{key:"uncollapse",value:function(){this.state.collapsed=!1,this.state.visible&&(this.container.style.display="")}},{key:"__setIcon",value:function(t){this.container.innerHTML=t,Ds(this.container.querySelector("svg"),"psv-button-svg")}}])),tc=(f(ic,$u),c(ic,[{key:"onClick",value:function(){var t;null!=(t=this.customOnClick)&&t.call(this,this.viewer)}}])),ec=(f(nc,$u),c(nc,[{key:"destroy",value:function(){this.viewer.removeEventListener(Yl.type,this),this.viewer.removeEventListener(xu.type,this),this.viewer.removeEventListener(Zl.type,this),this.viewer.removeEventListener(Eu.type,this),this.viewer.removeEventListener(Gl.type,this),u(p(nc.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){var e;t instanceof Gl?t.containsOptions("description")&&this.autoSize(!0):this.mode&&(e=!1,t instanceof Yl?e=1===this.mode:t instanceof xu?e=1===this.mode&&t.notificationId!==As.DESCRIPTION:t instanceof Zl?e=2===this.mode:t instanceof Eu&&(e=2===this.mode&&t.panelId!==As.DESCRIPTION),e)&&(this.toggleActive(!1),this.mode=0)}},{key:"onClick",value:function(){this.mode?this.__close():this.__open()}},{key:"hide",value:function(t){u(p(nc.prototype),"hide",this).call(this,t),this.mode&&this.__close()}},{key:"autoSize",value:function(){var t,e;0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(t=(t=this.viewer.navbar.getButton("caption",!1))&&!t.isVisible(),e=!!this.viewer.config.description,t||e?this.show(!1):this.hide(!1))}},{key:"__close",value:function(){switch(this.mode){case 1:this.viewer.notification.hide(As.DESCRIPTION);break;case 2:this.viewer.panel.hide(As.DESCRIPTION)}}},{key:"__open",value:function(){this.toggleActive(!0),this.viewer.config.description?(this.mode=2,this.viewer.panel.show({id:As.DESCRIPTION,content:(this.viewer.config.caption?"<p>".concat(this.viewer.config.caption,"</p>"):"")+this.viewer.config.description})):(this.mode=1,this.viewer.notification.show({id:As.DESCRIPTION,content:this.viewer.config.caption}))}}]));function nc(t){return h(this,nc),(t=d(this,nc,[t,{className:"psv-description-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:ws.info}])).mode=0,t.viewer.addEventListener(Yl.type,t),t.viewer.addEventListener(xu.type,t),t.viewer.addEventListener(Zl.type,t),t.viewer.addEventListener(Eu.type,t),t.viewer.addEventListener(Gl.type,t),t}function ic(t,e){var n,i;return h(this,ic),(t=d(this,ic,[t,{className:"psv-custom-button ".concat(e.className||""),hoverScale:!1,collapsable:!1!==e.collapsable,tabbable:!1!==e.tabbable,title:e.title}])).customOnClick=e.onClick,e.id?t.config.id=e.id:t.config.id="psvButton-"+Math.random().toString(36).substring(2),e.content&&("string"==typeof e.content?t.container.innerHTML=e.content:(t.container.classList.add("psv-custom-button--no-padding"),e.content.style.height="100%",null!=(n=(i=e.content).attachViewer)&&n.call(i,t.viewer),t.container.appendChild(e.content))),t.state.width=t.container.offsetWidth,e.disabled&&t.disable(),!1===e.visible&&t.hide(),t}function rc(t,e){var n;return h(this,rc),(n=d(this,rc,[t,{className:"psv-button ".concat(e.hoverScale?"psv-button--hover-scale":""," ").concat(e.className||"")}])).state={visible:!0,enabled:!0,supported:!0,collapsed:!1,active:!1,width:0},n.config=Zu(e),n.config.id=n.constructor.id,e.icon&&n.__setIcon(e.icon),n.state.width=n.container.offsetWidth,n.config.title?n.container.title=n.config.title:n.id&&n.id in n.viewer.config.lang&&(n.container.title=n.viewer.config.lang[n.id]),e.tabbable&&(n.container.tabIndex=0),n.container.addEventListener("click",function(t){n.state.enabled&&n.onClick(),t.stopPropagation()}),n.container.addEventListener("keydown",function(t){t.key===xs.Enter&&n.state.enabled&&(n.onClick(),t.stopPropagation())}),n}ec.id="description";f(ac,$u);n=c(ac,[{key:"destroy",value:function(){this.viewer.removeEventListener(Gl.type,this),u(p(ac.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof Gl&&t.containsOptions("downloadUrl")&&this.checkSupported()}},{key:"onClick",value:function(){var t=this,e=document.createElement("a");e.href=this.viewer.config.downloadUrl||this.viewer.config.panorama,e.href.startsWith("data:")&&!this.viewer.config.downloadName?e.download="panorama."+e.href.substring(0,e.href.indexOf(";")).split("/").pop():e.download=this.viewer.config.downloadName||e.href.split("/").pop(),e.target="_blank",this.viewer.container.appendChild(e),e.click(),setTimeout(function(){t.viewer.container.removeChild(e)},100)}},{key:"checkSupported",value:function(){this.viewer.adapter.constructor.supportsDownload||this.viewer.config.downloadUrl?this.show():this.hide()}}]);function ac(t){return h(this,ac),(t=d(this,ac,[t,{className:"psv-download-button",hoverScale:!0,collapsable:!0,tabbable:!0,icon:ws.download}])).viewer.addEventListener(Gl.type,t),t}n.id="download";f(sc,$u);var oc=c(sc,[{key:"destroy",value:function(){this.viewer.removeEventListener(Xl.type,this),u(p(sc.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof Xl&&this.toggleActive(t.fullscreenEnabled)}},{key:"onClick",value:function(){this.viewer.toggleFullscreen()}}]);function sc(t){return h(this,sc),(t=d(this,sc,[t,{className:"psv-fullscreen-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:ws.fullscreenIn,iconActive:ws.fullscreenOut}])).viewer.addEventListener(Xl.type,t),t}oc.id="fullscreen";f(uc,$u);var lc=c(uc,[{key:"destroy",value:function(){this.viewer.removeEventListener(Eu.type,this),this.viewer.removeEventListener(Zl.type,this),u(p(uc.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof Eu?this.toggleActive(t.panelId===As.MENU):t instanceof Zl&&this.toggleActive(!1)}},{key:"onClick",value:function(){this.state.active?this.__hideMenu():this.__showMenu()}},{key:"hide",value:function(t){u(p(uc.prototype),"hide",this).call(this,t),this.__hideMenu()}},{key:"show",value:function(t){u(p(uc.prototype),"show",this).call(this,t),this.state.active&&this.__showMenu()}},{key:"__showMenu",value:function(){var t,e,n=this;this.viewer.panel.show({id:As.MENU,content:(t=this.viewer.navbar.collapsed,e=this.viewer.config.lang.menu,'\n<div class="psv-panel-menu psv-panel-menu--stripped">\n  <h1 class="psv-panel-menu-title">'.concat(ws.menu," ").concat(e,'</h1>\n  <ul class="psv-panel-menu-list">\n    ').concat(t.map(function(t){return'\n    <li data-psv-button="'.concat(t.id,'" class="psv-panel-menu-item" tabindex="0">\n      <span class="psv-panel-menu-item-icon">').concat(t.content,'</span>\n      <span class="psv-panel-menu-item-label">').concat(t.title,"</span>\n    </li>\n    ")}).join(""),"\n  </ul>\n</div>\n")),noMargin:!0,clickHandler:function(t){t=t?Is(t,"li"):void 0,t=t?t.dataset.psvButton:void 0;t&&(n.viewer.navbar.getButton(t).onClick(),n.__hideMenu())}})}},{key:"__hideMenu",value:function(){this.viewer.panel.hide(As.MENU)}}]);function uc(t){return h(this,uc),(t=d(this,uc,[t,{className:"psv-menu-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:ws.menu}])).viewer.addEventListener(Eu.type,t),t.viewer.addEventListener(Zl.type,t),u(p(uc.prototype),"hide",t).call(t),t}lc.id="menu";f(cc,$u);var x=c(cc,[{key:"destroy",value:function(){this.__onMouseUp(),this.viewer.container.removeEventListener("mouseup",this),this.viewer.container.removeEventListener("touchend",this),u(p(cc.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case"mousedown":this.__onMouseDown();break;case"mouseup":case"touchend":this.__onMouseUp();break;case"keydown":t.key===xs.Enter&&this.__onMouseDown();break;case"keyup":t.key===xs.Enter&&this.__onMouseUp()}}},{key:"onClick",value:function(){}},{key:"isSupported",value:function(){return tl(Xu.isTouchEnabled)}},{key:"__onMouseDown",value:function(){if(this.state.enabled){var t={};switch(this.direction){case 0:t.pitch=!1;break;case 1:t.pitch=!0;break;case 3:t.yaw=!1;break;default:t.yaw=!0}this.viewer.stopAll(),this.viewer.dynamics.position.roll(t),this.handler.down()}}},{key:"__onMouseUp",value:function(){var t=this;this.state.enabled&&this.handler.up(function(){t.viewer.dynamics.position.stop(),t.viewer.resetIdleTimer()})}}]);function cc(t,e){return h(this,cc),(t=d(this,cc,[t,{className:"psv-move-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:function(t){var e=0;switch(t){case 0:e=90;break;case 1:e=-90;break;case 3:e=180;break;default:e=0}return ws.arrow.replace("rotate(0","rotate(".concat(e))}(e)}])).direction=e,t.handler=new Cl,t.container.addEventListener("mousedown",t),t.container.addEventListener("keydown",t),t.container.addEventListener("keyup",t),t.viewer.container.addEventListener("mouseup",t),t.viewer.container.addEventListener("touchend",t),t}x.groupId="move";f(dc,x);var hc=c(dc);function dc(t){return h(this,dc),d(this,dc,[t,1])}hc.id="moveDown";f(pc,x);var fc=c(pc);function pc(t){return h(this,pc),d(this,pc,[t,2])}fc.id="moveLeft";f(mc,x);var vc=c(mc);function mc(t){return h(this,mc),d(this,mc,[t,3])}vc.id="moveRight";f(gc,x);x=c(gc);function gc(t){return h(this,gc),d(this,gc,[t,0])}x.id="moveUp";f(Ac,$u);var yc=c(Ac,[{key:"destroy",value:function(){this.__onMouseUp(),this.viewer.container.removeEventListener("mouseup",this),this.viewer.container.removeEventListener("touchend",this),u(p(Ac.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case"mousedown":this.__onMouseDown();break;case"mouseup":case"touchend":this.__onMouseUp();break;case"keydown":t.key===xs.Enter&&this.__onMouseDown();break;case"keyup":t.key===xs.Enter&&this.__onMouseUp()}}},{key:"onClick",value:function(){}},{key:"isSupported",value:function(){return tl(Xu.isTouchEnabled)}},{key:"__onMouseDown",value:function(){this.state.enabled&&(this.viewer.dynamics.zoom.roll(1===this.direction),this.handler.down())}},{key:"__onMouseUp",value:function(){var t=this;this.state.enabled&&this.handler.up(function(){return t.viewer.dynamics.zoom.stop()})}}]);function Ac(t,e,n){return h(this,Ac),(t=d(this,Ac,[t,{className:"psv-zoom-button",hoverScale:!0,collapsable:!1,tabbable:!0,icon:e}])).direction=n,t.handler=new Cl,t.container.addEventListener("mousedown",t),t.container.addEventListener("keydown",t),t.container.addEventListener("keyup",t),t.viewer.container.addEventListener("mouseup",t),t.viewer.container.addEventListener("touchend",t),t}yc.groupId="zoom";f(wc,yc);var xc=c(wc);function wc(t){return h(this,wc),d(this,wc,[t,ws.zoomIn,0])}xc.id="zoomIn";f(bc,yc);yc=c(bc);function bc(t){return h(this,bc),d(this,bc,[t,ws.zoomOut,1])}yc.id="zoomOut";f(Ec,$u);var Mc=c(Ec,[{key:"destroy",value:function(){this.slider.destroy(),this.viewer.removeEventListener(Du.type,this),this.viewer.removeEventListener(mu.type,this),u(p(Ec.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof Du?this.__moveZoomValue(t.zoomLevel):t instanceof mu&&this.__moveZoomValue(this.viewer.getZoomLevel())}},{key:"onClick",value:function(){}},{key:"isSupported",value:function(){return tl(Xu.isTouchEnabled)}},{key:"autoSize",value:function(){this.state.supported&&(this.viewer.state.size.width<=this.mediaMinWidth&&this.state.visible?this.hide(!1):this.viewer.state.size.width>this.mediaMinWidth&&!this.state.visible&&this.show(!1))}},{key:"__moveZoomValue",value:function(t){this.zoomValue.style.left=t/100*this.zoomRange.offsetWidth-this.zoomValue.offsetWidth/2+"px"}},{key:"__onSliderUpdate",value:function(t){t.mousedown&&this.viewer.zoom(100*t.value)}}]);function Ec(t){var e;return h(this,Ec),(e=d(this,Ec,[t,{className:"psv-zoom-range",hoverScale:!1,collapsable:!1,tabbable:!1}])).zoomRange=document.createElement("div"),e.zoomRange.className="psv-zoom-range-line",e.container.appendChild(e.zoomRange),e.zoomValue=document.createElement("div"),e.zoomValue.className="psv-zoom-range-handle",e.zoomRange.appendChild(e.zoomValue),e.slider=new _l(e.container,"HORIZONTAL",function(t){return e.__onSliderUpdate(t)}),e.mediaMinWidth=parseInt(Us(e.container,"max-width"),10),e.viewer.addEventListener(Du.type,e),e.viewer.state.ready?e.__moveZoomValue(e.viewer.getZoomLevel()):e.viewer.addEventListener(mu.type,e),e}Mc.id="zoomRange",Mc.groupId="zoom";f(_c,sn);var Sc=c(_c,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),Cc=(f(Tc,Sc),c(Tc,[{key:"setOption",value:function(t,e){this.setOptions(Xo({},t,e))}},{key:"setOptions",value:function(t){for(var e=jo(jo({},this.config),t),n=this.constructor,i=n.configParser,r=n.readonlyOptions,a=n.id,o=0,s=Object.entries(t);o<s.length;o++){var l=v(s[o],2),u=l[0],l=l[1];u in i.defaults?r.includes(u)?il("".concat(a,': Option "').concat(u,'" cannot be updated')):(u in i.parsers&&(l=i.parsers[u](l,{rawConfig:e,defValue:i.defaults[u]})),this.config[u]=l):il("".concat(a,': Unknown option "').concat(u,'"'))}}}]));function Tc(t,e){return h(this,Tc),(t=d(this,Tc,[t])).config=t.constructor.configParser(e),t}function _c(t){var e;return h(this,_c),(e=d(this,_c)).viewer=t,e}function kc(t){if(t)for(var e=0,n=[["_",t]].concat(ts(Object.entries(t)));e<n.length;e++){var i=v(n[e],2)[1];if(i.prototype instanceof Sc)return bl(i.id,i.VERSION,"5.8.1"),i}return null}Cc.readonlyOptions=[];var Pc={panorama:null,container:null,adapter:[r,null],plugins:[],caption:null,description:null,downloadUrl:null,downloadName:null,loadingImg:null,loadingTxt:"",size:null,fisheye:0,minFov:30,maxFov:90,defaultZoomLvl:50,defaultYaw:0,defaultPitch:0,sphereCorrection:null,moveSpeed:1,zoomSpeed:1,moveInertia:!0,mousewheel:!0,mousemove:!0,mousewheelCtrlKey:!1,touchmoveTwoFingers:!1,panoData:null,requestHeaders:null,rendererParameters:{alpha:!0,antialias:!0},withCredentials:!1,navbar:["zoom","move","download","description","caption","fullscreen"],lang:{zoom:"Zoom",zoomOut:"Zoom out",zoomIn:"Zoom in",moveUp:"Move up",moveDown:"Move down",moveLeft:"Move left",moveRight:"Move right",description:"Description",download:"Download",fullscreen:"Fullscreen",loading:"Loading...",menu:"Menu",close:"Close",twoFingers:"Use two fingers to navigate",ctrlZoom:"Use ctrl + scroll to zoom the image",loadError:"The panorama cannot be loaded",webglError:"Your browser does not seem to support WebGL"},keyboard:"fullscreen",keyboardActions:Xo(Xo(Xo(Xo(Xo(Xo(Xo(Xo({},xs.ArrowUp,"ROTATE_UP"),xs.ArrowDown,"ROTATE_DOWN"),xs.ArrowRight,"ROTATE_RIGHT"),xs.ArrowLeft,"ROTATE_LEFT"),xs.PageUp,"ZOOM_IN"),xs.PageDown,"ZOOM_OUT"),xs.Plus,"ZOOM_IN"),xs.Minus,"ZOOM_OUT")},Rc={panorama:"Use setPanorama method to change the panorama",panoData:"Use setPanorama method to change the panorama",container:"Cannot change viewer container",adapter:"Cannot change adapter",plugins:"Cannot change plugins"},Dc={container:function(t){if(t)return t;throw new g("No value given for container.")},adapter:function(t,e){e=e.defValue;if(!(t=t?Array.isArray(t)?[Gu(t[0]),t[1]]:[Gu(t),null]:e)[0])throw new g("An undefined value was given for adapter.");if(t[0].id)return"little-planet"===t[0].id&&(il("LittlePlanetAdapter support has been removed, use `{ fisheye: 2, maxFov: 130 }` to achieve similar effect."),t=e),t;throw new g("Adapter has no id.")},defaultYaw:function(t){return ml(t)},defaultPitch:function(t){return ml(t,!0)},defaultZoomLvl:function(t){return l.clamp(t,0,100)},minFov:function(t,e){e=e.rawConfig;return e.maxFov<t&&(il("maxFov cannot be lower than minFov"),t=e.maxFov),l.clamp(t,1,179)},maxFov:function(t,e){e=e.rawConfig;return t<e.minFov&&(t=e.minFov),l.clamp(t,1,179)},lang:function(t){return jo(jo({},Pc.lang),t)},keyboard:function(t){return!!t&&("object"===$o(t)?(il("Use keyboardActions to configure the keyboard actions, keyboard option must be either true, false, 'fullscreen' or 'always'"),"fullscreen"):"always"===t?"always":"fullscreen")},keyboardActions:function(t,e){e=e.rawConfig;return e.keyboard&&"object"===$o(e.keyboard)?e.keyboard:t},fisheye:function(t){return!0===t?1:!1===t?0:t},requestHeaders:function(t){return t&&"object"===$o(t)?function(){return t}:"function"==typeof t?t:null},rendererParameters:function(t,e){e=e.defValue;return jo(jo({},t),e)},plugins:function(t){return t.map(function(t,e){if(!(t=Array.isArray(t)?[kc(t[0]),t[1]]:[kc(t),null])[0])throw new g("An undefined value was given for plugin ".concat(e,"."));if(t[0].id)return t;throw new g("Plugin ".concat(e," has no id."))})},navbar:function(t){return!1===t?null:!0===t?Xs(Pc.navbar):"string"==typeof t?t.split(/[ ,]/):t}},Bc=xl(Pc,Dc),Lc=(f(Ic,$u),c(Ic,[{key:"hide",value:function(){this.contentElt.style.display="none",this.state.visible=!1}},{key:"show",value:function(){this.contentElt.style.display="",this.state.visible=!0}},{key:"onClick",value:function(){}},{key:"setCaption",value:function(t){this.show(),this.contentElt.innerHTML=null!=t?t:"",this.contentElt.innerHTML?this.contentWidth=this.contentElt.offsetWidth:this.contentWidth=0,this.autoSize()}},{key:"autoSize",value:function(){this.toggle(this.container.offsetWidth>=this.contentWidth),this.__refreshButton()}},{key:"__refreshButton",value:function(){var t;null!=(t=this.viewer.navbar.getButton(ec.id,!1))&&t.autoSize(!0)}}]));function Ic(t){return h(this,Ic),(t=d(this,Ic,[t,{className:"psv-caption",hoverScale:!1,collapsable:!1,tabbable:!0}])).contentWidth=0,t.state.width=0,t.contentElt=document.createElement("div"),t.contentElt.className="psv-caption-content",t.container.appendChild(t.contentElt),t.setCaption(t.viewer.config.caption),t}Lc.id="caption";var Oc={},Uc={};function Nc(t,e){if(!t.id)throw new g("Button id is required");if((Oc[t.id]=t).groupId&&(Uc[t.groupId]=Uc[t.groupId]||[]).push(t),e){var n=Pc.navbar;switch(e){case"start":n.unshift(t.id);break;case"end":n.push(t.id);break;default:var i=v(e.split(":"),2),r=i[0],i=i[1],a=n.indexOf(r);if(!r||!i||-1===a)throw new g("Invalid defaultPosition ".concat(e));n.splice(a+("right"===i?1:0),0,t.id)}}}[yc,Mc,xc,ec,Lc,n,oc,fc,vc,x,hc].forEach(function(t){return Nc(t)});f(Fc,i);var zc=c(Fc,[{key:"show",value:function(){this.viewer.container.classList.add("psv--has-navbar"),this.container.classList.add("psv-navbar--open"),this.state.visible=!0}},{key:"hide",value:function(){this.viewer.container.classList.remove("psv--has-navbar"),this.container.classList.remove("psv-navbar--open"),this.state.visible=!1}},{key:"setButtons",value:function(t){var e=this;this.children.slice().forEach(function(t){return t.destroy()}),this.children.length=0,-1!==t.indexOf(Lc.id)&&-1===t.indexOf(ec.id)&&t.splice(t.indexOf(Lc.id),0,ec.id),t.forEach(function(t){"object"===$o(t)?new tc(e,t):Oc[t]?new Oc[t](e):Uc[t]?Uc[t].forEach(function(t){new t(e)}):il("Unknown button ".concat(t))}),new lc(this),this.children.forEach(function(t){t instanceof $u&&t.checkSupported()}),this.autoSize()}},{key:"setCaption",value:function(e){this.children.some(function(t){return t instanceof Lc&&(t.setCaption(e),!0)})}},{key:"getButton",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.children.find(function(t){return t instanceof $u&&t.id===e});return!n&&t&&il('button "'.concat(e,'" not found in the navbar')),n}},{key:"autoSize",value:function(){this.children.forEach(function(t){t instanceof $u&&t.autoSize()});var t=this.container.offsetWidth,e=0,n=[];this.children.forEach(function(t){t.isVisible()&&t instanceof $u&&(e+=t.width,t.collapsable)&&n.push(t)}),0!==e&&(t<e&&0<n.length?(n.forEach(function(t){return t.collapse()}),this.collapsed=n,this.getButton(lc.id).show(!1)):e<=t&&0<this.collapsed.length&&(this.collapsed.forEach(function(t){return t.uncollapse()}),this.collapsed=[],this.getButton(lc.id).hide(!1)),null!=(t=this.getButton(Lc.id,!1)))&&t.autoSize()}}]);function Fc(t){return h(this,Fc),(t=d(this,Fc,[t,{className:"psv-navbar ".concat(gs)}])).collapsed=[],t.state.visible=!1,t}var Hc={enabled:!(Ro.enabled=!1),maxItems:10,ttl:600,items:{},purgeInterval:null,init:function(){var t=this;Ro.enabled&&(il("ThreeJS cache should be disabled"),Ro.enabled=!1),!this.purgeInterval&&this.enabled&&(this.purgeInterval=setInterval(function(){return t.purge()},6e4))},add:function(t,e,n){var i;this.enabled&&e&&(this.items[e]=null!=(i=this.items[e])?i:{files:{},lastAccess:null},this.items[e].files[t]=n,this.items[e].lastAccess=Date.now())},get:function(t,e){if(this.enabled&&e&&this.items[e])return this.items[e].lastAccess=Date.now(),this.items[e].files[t]},remove:function(t,e){this.enabled&&e&&this.items[e]&&(delete this.items[e].files[t],0===Object.keys(this.items[e].files).length)&&delete this.items[e]},purge:function(){var i=this;Object.entries(this.items).sort(function(t,e){t=v(t,2)[1];return v(e,2)[1].lastAccess-t.lastAccess}).forEach(function(t,e){var t=v(t,2),n=t[0],t=t[1].lastAccess;0<e&&(Date.now()-t>=1e3*i.ttl||e>=i.maxItems)&&delete i.items[n]})}},Gc=(f(eh,i),c(eh,[{key:"destroy",value:function(){this.viewer.removeEventListener(Gl.type,this),u(p(eh.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){t instanceof Gl&&t.containsOptions("loadingImg","loadingTxt")&&this.__updateContent()}},{key:"setProgress",value:function(t){var e=Math.min(t,99.999)/100*Math.PI*2,n=this.size/2,i=n,r=this.thickness/2+this.border,a=(this.size-this.thickness)/2-this.border,o=Math.sin(e)*a+n,e=-Math.cos(e)*a+n,s=50<t?"1":"0";this.canvas.innerHTML='\n            <circle cx="'.concat(n,'" cy="').concat(n,'" r="').concat(n,'" fill="').concat(this.color,'"/>\n            <path d="M ').concat(i," ").concat(r," A ").concat(a," ").concat(a," 0 ").concat(s," 1 ").concat(o," ").concat(e,'" \n                  fill="none" stroke="').concat(this.textColor,'" stroke-width="').concat(this.thickness,'" stroke-linecap="round"/>\n        '),this.viewer.dispatchEvent(new ru(Math.round(t)))}},{key:"__updateContent",value:function(){var t,e=this.loader.querySelector(".psv-loader-image, .psv-loader-text");e&&this.loader.removeChild(e),this.viewer.config.loadingImg?((t=document.createElement("img")).className="psv-loader-image",t.src=this.viewer.config.loadingImg):null!==this.viewer.config.loadingTxt&&((t=document.createElement("div")).className="psv-loader-text",t.innerHTML=this.viewer.config.loadingTxt||this.viewer.config.lang.loading),t&&(e=Math.round(Math.sqrt(2*Math.pow(this.size/2-this.thickness/2-this.border,2))),t.style.maxWidth=e+"px",t.style.maxHeight=e+"px",this.loader.appendChild(t))}}])),Vc=(f(th,i),c(th,[{key:"isVisible",value:function(t){return this.state.visible&&(!t||!this.state.contentId||this.state.contentId===t)}},{key:"toggle",value:function(){throw new g("Notification cannot be toggled")}},{key:"show",value:function(t){var e=this;this.state.timeout&&(clearTimeout(this.state.timeout),this.state.timeout=null),this.state.contentId=(t="string"==typeof t?{content:t}:t).id||null,this.content.innerHTML=t.content,this.container.classList.add("psv-notification--visible"),this.state.visible=!0,this.viewer.dispatchEvent(new xu(t.id)),t.timeout&&(this.state.timeout=setTimeout(function(){return e.hide(e.state.contentId)},t.timeout))}},{key:"hide",value:function(t){this.isVisible(t)&&(t=this.state.contentId,this.container.classList.remove("psv-notification--visible"),this.state.visible=!1,this.state.contentId=null,this.viewer.dispatchEvent(new Yl(t)))}}])),Qc=(f($c,i),c($c,[{key:"destroy",value:function(){this.viewer.removeEventListener(nu.type,this),u(p($c.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){"click"===t.type?this.isVisible()&&this.state.dissmisable&&(this.hide(),t.stopPropagation()):t instanceof nu&&this.isVisible()&&this.state.dissmisable&&t.key===xs.Escape&&(this.hide(),t.preventDefault())}},{key:"isVisible",value:function(t){return this.state.visible&&(!t||!this.state.contentId||this.state.contentId===t)}},{key:"toggle",value:function(){throw new g("Overlay cannot be toggled")}},{key:"show",value:function(t){this.state.contentId=(t="string"==typeof t?{title:t}:t).id||null,this.state.dissmisable=!1!==t.dissmisable,this.image.innerHTML=t.image||"",this.title.innerHTML=t.title||"",this.text.innerHTML=t.text||"",u(p($c.prototype),"show",this).call(this),this.viewer.dispatchEvent(new bu(t.id))}},{key:"hide",value:function(t){this.isVisible(t)&&(t=this.state.contentId,u(p($c.prototype),"hide",this).call(this),this.state.contentId=null,this.viewer.dispatchEvent(new Kl(t)))}}])),jc=(f(Zc,i),c(Zc,[{key:"destroy",value:function(){this.viewer.removeEventListener(nu.type,this),this.viewer.container.removeEventListener("mousemove",this),this.viewer.container.removeEventListener("touchmove",this),this.viewer.container.removeEventListener("mouseup",this),this.viewer.container.removeEventListener("touchend",this),u(p(Zc.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case"mousedown":this.__onMouseDown(t);break;case"touchstart":this.__onTouchStart(t);break;case"mousemove":this.__onMouseMove(t);break;case"touchmove":this.__onTouchMove(t);break;case"mouseup":this.__onMouseUp(t);break;case"touchend":this.__onTouchEnd(t);break;case nu.type:this.__onKeyPress(t)}}},{key:"isVisible",value:function(t){return this.state.visible&&(!t||!this.state.contentId||this.state.contentId===t)}},{key:"toggle",value:function(){throw new g("Panel cannot be toggled")}},{key:"show",value:function(e){var n=this,t=("string"==typeof e&&(e={content:e}),this.isVisible(e.id));this.state.contentId=e.id||null,this.state.visible=!0,this.state.clickHandler&&(this.content.removeEventListener("click",this.state.clickHandler),this.content.removeEventListener("keydown",this.state.keyHandler),this.state.clickHandler=null,this.state.keyHandler=null),e.id&&this.state.width[e.id]?this.container.style.width=this.state.width[e.id]:e.width?this.container.style.width=e.width:this.container.style.width=null,this.content.innerHTML=e.content,this.content.scrollTop=0,this.container.classList.add("psv-panel--open"),Rs(this.content,"psv-panel-content--no-margin",!0===e.noMargin),e.clickHandler&&(this.state.clickHandler=function(t){e.clickHandler(t.target)},this.state.keyHandler=function(t){t.key===xs.Enter&&e.clickHandler(t.target)},this.content.addEventListener("click",this.state.clickHandler),this.content.addEventListener("keydown",this.state.keyHandler),t||setTimeout(function(){var t;null!=(t=n.content.querySelector("a,button,[tabindex]"))&&t.focus()},300)),this.viewer.dispatchEvent(new Eu(e.id))}},{key:"hide",value:function(t){this.isVisible(t)&&(t=this.state.contentId,this.state.visible=!1,this.state.contentId=null,this.content.innerHTML=null,this.container.classList.remove("psv-panel--open"),this.state.clickHandler&&(this.content.removeEventListener("click",this.state.clickHandler),this.state.clickHandler=null),this.viewer.dispatchEvent(new Zl(t)))}},{key:"__onMouseDown",value:function(t){t.stopPropagation(),this.__startResize(t.clientX,t.clientY)}},{key:"__onTouchStart",value:function(t){t.stopPropagation(),1===t.touches.length&&(t=t.touches[0],this.__startResize(t.clientX,t.clientY))}},{key:"__onMouseUp",value:function(t){this.state.mousedown&&(t.stopPropagation(),this.state.mousedown=!1,this.content.classList.remove("psv-panel-content--no-interaction"))}},{key:"__onTouchEnd",value:function(t){this.state.mousedown&&(t.stopPropagation(),0===t.touches.length)&&(this.state.mousedown=!1,this.content.classList.remove("psv-panel-content--no-interaction"))}},{key:"__onMouseMove",value:function(t){this.state.mousedown&&(t.stopPropagation(),this.__resize(t.clientX,t.clientY))}},{key:"__onTouchMove",value:function(t){this.state.mousedown&&(t=t.touches[0],this.__resize(t.clientX,t.clientY))}},{key:"__onKeyPress",value:function(t){this.isVisible()&&t.key===xs.Escape&&(this.hide(),t.preventDefault())}},{key:"__startResize",value:function(t,e){this.state.mouseX=t,this.state.mouseY=e,this.state.mousedown=!0,this.content.classList.add("psv-panel-content--no-interaction")}},{key:"__resize",value:function(t,e){var n=Math.max(200,this.container.offsetWidth-(t-this.state.mouseX))+"px";this.state.contentId&&(this.state.width[this.state.contentId]=n),this.container.style.width=n,this.state.mouseX=t,this.state.mouseY=e}}])),Xc=(f(qc,i),c(qc,[{key:"handleEvent",value:function(t){"transitionend"===t.type&&this.__onTransitionEnd(t)}},{key:"destroy",value:function(){clearTimeout(this.state.hideTimeout),delete this.state.data,u(p(qc.prototype),"destroy",this).call(this)}},{key:"toggle",value:function(){throw new g("Tooltip cannot be toggled")}},{key:"show",value:function(t){if(0!==this.state.state)throw new g("Initialized tooltip cannot be re-initialized");t.className&&Ds(this.container,t.className),t.style&&Object.assign(this.container.style,t.style),this.state.state=3,this.update(t.content,t),this.state.data=t.data,this.state.state=1,this.viewer.dispatchEvent(new Cu(this,this.state.data)),this.__waitImages()}},{key:"update",value:function(t,e){this.content.innerHTML=t;t=this.container.getBoundingClientRect();this.state.width=t.right-t.left,this.state.height=t.bottom-t.top,this.state.arrow=parseInt(Us(this.arrow,"border-top-width"),10),this.state.border=parseInt(Us(this.container,"border-top-left-radius"),10),this.move(null!=e?e:this.state.config),this.__waitImages()}},{key:"move",value:function(t){if(1!==this.state.state&&3!==this.state.state)throw new g("Uninitialized tooltip cannot be moved");t.box=null!=(n=null!=(n=t.box)?n:null==(n=this.state.config)?void 0:n.box)?n:{width:0,height:0},this.state.config=t;var e,n=this.container,i=this.arrow,r={posClass:dl(t.position,{allowCenter:!1,cssOrder:!1})||["top","center"],width:this.state.width,height:this.state.height,top:0,left:0,arrowTop:0,arrowLeft:0},a=(this.__computeTooltipPosition(r,t),null),o=null,a=(r.top<0?a="bottom":r.top+r.height>this.viewer.state.size.height&&(a="top"),r.left<0?o="right":r.left+r.width>this.viewer.state.size.width&&(o="left"),(o||a)&&(e=fl(r.posClass),a&&(r.posClass[e?0:1]=a),o&&(r.posClass[e?1:0]=o),this.__computeTooltipPosition(r,t)),n.style.top=r.top+"px",n.style.left=r.left+"px",i.style.top=r.arrowTop+"px",i.style.left=r.arrowLeft+"px",r.posClass.join("-"));a!==this.state.pos&&(n.classList.remove("psv-tooltip--".concat(this.state.pos)),this.state.pos=a,n.classList.add("psv-tooltip--".concat(this.state.pos)))}},{key:"hide",value:function(){var t=this,e=(this.container.classList.remove("psv-tooltip--visible"),this.state.state=2,this.viewer.dispatchEvent(new tu(this.state.data)),parseFloat(Us(this.container,"transition-duration")));this.state.hideTimeout=setTimeout(function(){t.destroy()},2*e)}},{key:"__onTransitionEnd",value:function(t){if("transform"===t.propertyName)switch(this.state.state){case 1:this.container.classList.add("psv-tooltip--visible"),this.state.state=3;break;case 2:this.state.state=0,this.destroy()}}},{key:"__computeTooltipPosition",value:function(t,e){var n=this.state.arrow,i=e.top,r=t.height,a=e.left,o=t.width,s=n+this.state.border,l=e.box.width/2+2*n,u=e.box.height/2+2*n;switch(t.posClass.join("-")){case"top-left":t.top=i-u-r,t.left=a+s-o,t.arrowTop=r,t.arrowLeft=o-s-n;break;case"top-center":t.top=i-u-r,t.left=a-o/2,t.arrowTop=r,t.arrowLeft=o/2-n;break;case"top-right":t.top=i-u-r,t.left=a-s,t.arrowTop=r,t.arrowLeft=n;break;case"bottom-left":t.top=i+u,t.left=a+s-o,t.arrowTop=2*-n,t.arrowLeft=o-s-n;break;case"bottom-center":t.top=i+u,t.left=a-o/2,t.arrowTop=2*-n,t.arrowLeft=o/2-n;break;case"bottom-right":t.top=i+u,t.left=a-s,t.arrowTop=2*-n,t.arrowLeft=n;break;case"left-top":t.top=i+s-r,t.left=a-l-o,t.arrowTop=r-s-n,t.arrowLeft=o;break;case"center-left":t.top=i-r/2,t.left=a-l-o,t.arrowTop=r/2-n,t.arrowLeft=o;break;case"left-bottom":t.top=i-s,t.left=a-l-o,t.arrowTop=n,t.arrowLeft=o;break;case"right-top":t.top=i+s-r,t.left=a+l,t.arrowTop=r-s-n,t.arrowLeft=2*-n;break;case"center-right":t.top=i-r/2,t.left=a+l,t.arrowTop=r/2-n,t.arrowLeft=2*-n;break;case"right-bottom":t.top=i-s,t.left=a+l,t.arrowTop=n,t.arrowLeft=2*-n}}},{key:"__waitImages",value:function(){var t,e=this,n=this.content.querySelectorAll("img");0<n.length&&(t=[],n.forEach(function(e){e.complete||t.push(new Promise(function(t){e.onload=t,e.onerror=t}))}),t.length)&&Promise.all(t).then(function(){var t;1!==e.state.state&&3!==e.state.state||(t=e.container.getBoundingClientRect(),e.state.width=t.right-t.left,e.state.height=t.bottom-t.top,e.move(e.state.config))})}}])),r=c(function t(e){h(this,t),this.viewer=e,this.config=e.config,this.state=e.state},[{key:"destroy",value:function(){}}]),Wc=new Vt,Yc=new Me(0,0,0,"ZXY"),Jc=(f(Kc,r),c(Kc,[{key:"fovToZoomLevel",value:function(t){t=Math.round((t-this.config.minFov)/(this.config.maxFov-this.config.minFov)*100);return l.clamp(t-2*(t-50),0,100)}},{key:"zoomLevelToFov",value:function(t){return this.config.maxFov+t/100*(this.config.minFov-this.config.maxFov)}},{key:"vFovToHFov",value:function(t){return l.radToDeg(2*Math.atan(Math.tan(l.degToRad(t)/2)*this.state.aspect))}},{key:"hFovToVFov",value:function(t){return l.radToDeg(2*Math.atan(Math.tan(l.degToRad(t)/2)/this.state.aspect))}},{key:"getAnimationProperties",value:function(t,e,n){var i,r=!Ys(e),a=!Ys(n),o={},s=null;return r&&(i=Ts((r=this.viewer.getPosition()).yaw,e.yaw),o.yaw={start:r.yaw,end:r.yaw+i},o.pitch={start:r.pitch,end:e.pitch},s=vl(t,_s(r,e))),{duration:s=null===(s=a&&(i=this.viewer.getZoomLevel(),r=Math.abs(n-i),o.zoom={start:i,end:n},null===s)?vl(t,Math.PI/4*r/100):s)?"number"==typeof t?t:ls:Math.max(ls,s),properties:o}}},{key:"textureCoordsToSphericalCoords",value:function(t){var e;if(null!=(e=this.state.textureData)&&e.panoData)return e=this.viewer.adapter.textureCoordsToSphericalCoords(t,this.state.textureData.panoData),Yc.equals(this.viewer.renderer.panoramaPose)&&Yc.equals(this.viewer.renderer.sphereCorrection)?e:(this.sphericalCoordsToVector3(e,Wc),Wc.applyEuler(this.viewer.renderer.panoramaPose),Wc.applyEuler(this.viewer.renderer.sphereCorrection),this.vector3ToSphericalCoords(Wc));throw new g("Current adapter does not support texture coordinates or no texture has been loaded")}},{key:"sphericalCoordsToTextureCoords",value:function(t){var e;if(null!=(e=this.state.textureData)&&e.panoData)return Yc.equals(this.viewer.renderer.panoramaPose)&&Yc.equals(this.viewer.renderer.sphereCorrection)||(this.sphericalCoordsToVector3(t,Wc),Al(Wc,this.viewer.renderer.sphereCorrection),Al(Wc,this.viewer.renderer.panoramaPose),t=this.vector3ToSphericalCoords(Wc)),this.viewer.adapter.sphericalCoordsToTextureCoords(t,this.state.textureData.panoData);throw new g("Current adapter does not support texture coordinates or no texture has been loaded")}},{key:"sphericalCoordsToVector3",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:vs;return(e=e||new Vt).x=n*-Math.cos(t.pitch)*Math.sin(t.yaw),e.y=n*Math.sin(t.pitch),e.z=n*Math.cos(t.pitch)*Math.cos(t.yaw),e}},{key:"vector3ToSphericalCoords",value:function(t){var e=Math.acos(t.y/Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)),t=Math.atan2(t.x,t.z);return{yaw:t<0?-t:2*Math.PI-t,pitch:Math.PI/2-e}}},{key:"viewerCoordsToVector3",value:function(t){t=this.viewer.renderer.getIntersections(t).filter(function(t){return t.object.userData[ms]});return t.length?t[0].point:null}},{key:"viewerCoordsToSphericalCoords",value:function(t){t=this.viewerCoordsToVector3(t);return t?this.vector3ToSphericalCoords(t):null}},{key:"vector3ToViewerCoords",value:function(t){t=t.clone();return t.project(this.viewer.renderer.camera),{x:Math.round((t.x+1)/2*this.state.size.width),y:Math.round((1-t.y)/2*this.state.size.height)}}},{key:"sphericalCoordsToViewerCoords",value:function(t){return this.sphericalCoordsToVector3(t,Wc),this.vector3ToViewerCoords(Wc)}},{key:"isPointVisible",value:function(t){var e,n;if(t instanceof Vt)n=this.vector3ToViewerCoords(e=t);else{if(!rl(t))return!1;e=this.sphericalCoordsToVector3(t,Wc),n=this.vector3ToViewerCoords(e)}return 0<e.dot(this.viewer.state.direction)&&0<=n.x&&n.x<=this.viewer.state.size.width&&0<=n.y&&n.y<=this.viewer.state.size.height}},{key:"cleanPosition",value:function(t){if("yaw"in t||"pitch"in t){if("yaw"in t&&"pitch"in t)return{yaw:ml(t.yaw),pitch:ml(t.pitch,!0)};throw new g("Position is missing 'yaw' or 'pitch'")}return this.textureCoordsToSphericalCoords(t)}},{key:"cleanSphereCorrection",value:function(t){return{pan:ml((null==t?void 0:t.pan)||0),tilt:ml((null==t?void 0:t.tilt)||0,!0),roll:ml((null==t?void 0:t.roll)||0,!0,!1)}}},{key:"cleanPanoramaPose",value:function(t){return{pan:l.degToRad((null==t?void 0:t.poseHeading)||0),tilt:l.degToRad((null==t?void 0:t.posePitch)||0),roll:l.degToRad((null==t?void 0:t.poseRoll)||0)}}},{key:"cleanPanoramaOptions",value:function(t,e){return null!=e&&e.isEquirectangular&&(Ys(t.zoom)&&!Ys(e.initialFov)&&(t=jo(jo({},t),{},{zoom:this.fovToZoomLevel(this.hFovToVFov(e.initialFov))})),!Ys(t.position)||Ys(e.initialHeading)||Ys(e.initialPitch)||(t=jo(jo({},t),{},{position:{yaw:ml(e.initialHeading),pitch:ml(e.initialPitch,!0)}}))),t}}])),yc=c(function t(){h(this,t),this.$=t.IDLE},[{key:"is",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.some(function(t){return e.$&t})}},{key:"set",value:function(t){this.$=t}},{key:"add",value:function(t){this.$|=t}},{key:"remove",value:function(t){this.$&=~t}}]);function Kc(t){return h(this,Kc),d(this,Kc,[t])}function qc(t,e){return h(this,qc),(t=d(this,qc,[t,{className:"psv-tooltip"}])).state={visible:!0,arrow:0,border:0,state:0,width:0,height:0,pos:"",config:null,data:null,hideTimeout:null},t.content=document.createElement("div"),t.content.className="psv-tooltip-content",t.container.appendChild(t.content),t.arrow=document.createElement("div"),t.arrow.className="psv-tooltip-arrow",t.container.appendChild(t.arrow),t.container.addEventListener("transitionend",t),t.container.addEventListener("touchdown",function(t){return t.stopPropagation()}),t.container.addEventListener("mousedown",function(t){return t.stopPropagation()}),t.container.style.top="-1000px",t.container.style.left="-1000px",t.show(e),t}function Zc(t){h(this,Zc),(e=d(this,Zc,[t,{className:"psv-panel ".concat(gs)}])).state={visible:!1,contentId:null,mouseX:0,mouseY:0,mousedown:!1,clickHandler:null,keyHandler:null,width:{}};var e,n=document.createElement("div"),i=(n.className="psv-panel-resizer",e.container.appendChild(n),document.createElement("div"));return i.className="psv-panel-close-button",i.innerHTML=ws.close,i.title=t.config.lang.close,e.container.appendChild(i),e.content=document.createElement("div"),e.content.className="psv-panel-content",e.container.appendChild(e.content),e.container.addEventListener("wheel",function(t){return t.stopPropagation()}),i.addEventListener("click",function(){return e.hide()}),n.addEventListener("mousedown",e),n.addEventListener("touchstart",e),e.viewer.container.addEventListener("mouseup",e),e.viewer.container.addEventListener("touchend",e),e.viewer.container.addEventListener("mousemove",e),e.viewer.container.addEventListener("touchmove",e),e.viewer.addEventListener(nu.type,e),e}function $c(t){return h(this,$c),(t=d(this,$c,[t,{className:"psv-overlay ".concat(gs)}])).state={visible:!1,contentId:null,dissmisable:!0},t.image=document.createElement("div"),t.image.className="psv-overlay-image",t.container.appendChild(t.image),t.title=document.createElement("div"),t.title.className="psv-overlay-title",t.container.appendChild(t.title),t.text=document.createElement("div"),t.text.className="psv-overlay-text",t.container.appendChild(t.text),t.container.addEventListener("click",t),t.viewer.addEventListener(nu.type,t),u(p($c.prototype),"hide",t).call(t),t}function th(t){var e;return h(this,th),(e=d(this,th,[t,{className:"psv-notification"}])).state={visible:!1,contentId:null,timeout:null},e.content=document.createElement("div"),e.content.className="psv-notification-content",e.container.appendChild(e.content),e.content.addEventListener("click",function(){return e.hide()}),e}function eh(t){return h(this,eh),(t=d(this,eh,[t,{className:"psv-loader-container"}])).loader=document.createElement("div"),t.loader.className="psv-loader",t.container.appendChild(t.loader),t.size=t.loader.offsetWidth,t.canvas=document.createElementNS("http://www.w3.org/2000/svg","svg"),t.canvas.setAttribute("class","psv-loader-canvas"),t.canvas.setAttribute("viewBox","0 0 ".concat(t.size," ").concat(t.size)),t.loader.appendChild(t.canvas),t.textColor=Us(t.loader,"color"),t.color=Us(t.canvas,"color"),t.border=parseInt(Us(t.loader,"--psv-loader-border"),10),t.thickness=parseInt(Us(t.loader,"--psv-loader-tickness"),10),t.viewer.addEventListener(Gl.type,t),t.__updateContent(),t.hide(),t}yc.IDLE=0,yc.CLICK=1,yc.MOVING=2,yc.INERTIA=4;var w=yc,nh=(f(ih,r),c(ih,[{key:"init",value:function(){window.addEventListener("keydown",this,{passive:!1}),window.addEventListener("keyup",this),this.viewer.container.addEventListener("mousedown",this),window.addEventListener("mousemove",this,{passive:!1}),window.addEventListener("mouseup",this),this.viewer.container.addEventListener("touchstart",this,{passive:!1}),window.addEventListener("touchmove",this,{passive:!1}),window.addEventListener("touchend",this,{passive:!1}),this.viewer.container.addEventListener("wheel",this,{passive:!1}),document.addEventListener("fullscreenchange",this),this.resizeObserver.observe(this.viewer.container)}},{key:"destroy",value:function(){window.removeEventListener("keydown",this),window.removeEventListener("keyup",this),this.viewer.container.removeEventListener("mousedown",this),window.removeEventListener("mousemove",this),window.removeEventListener("mouseup",this),this.viewer.container.removeEventListener("touchstart",this),window.removeEventListener("touchmove",this),window.removeEventListener("touchend",this),this.viewer.container.removeEventListener("wheel",this),document.removeEventListener("fullscreenchange",this),this.resizeObserver.disconnect(),clearTimeout(this.data.dblclickTimeout),clearTimeout(this.data.longtouchTimeout),clearTimeout(this.data.twofingersTimeout),clearTimeout(this.data.ctrlZoomTimeout),u(p(ih.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case"keydown":this.__onKeyDown(t);break;case"keyup":this.__onKeyUp();break;case"mousemove":this.__onMouseMove(t);break;case"mouseup":this.__onMouseUp(t);break;case"touchmove":this.__onTouchMove(t);break;case"touchend":this.__onTouchEnd(t);break;case"fullscreenchange":this.__onFullscreenChange()}if(!Is(t.target,"."+gs))switch(t.type){case"mousedown":this.__onMouseDown(t);break;case"touchstart":this.__onTouchStart(t);break;case"wheel":this.__onMouseWheel(t)}}},{key:"__onKeyDown",value:function(t){if(this.config.mousewheelCtrlKey&&(this.data.ctrlKeyDown=t.key===xs.Control,this.data.ctrlKeyDown)&&(clearTimeout(this.data.ctrlZoomTimeout),this.viewer.overlay.hide(As.CTRL_ZOOM)),this.viewer.dispatchEvent(new nu(t.key))&&this.state.keyboardEnabled){var e=null==(e=this.config.keyboardActions)?void 0:e[t.key];if("function"==typeof e)e(this.viewer),t.preventDefault();else if(e&&!this.keyHandler.pending){switch("ZOOM_IN"!==e&&"ZOOM_OUT"!==e&&this.viewer.stopAll(),e){case"ROTATE_UP":this.viewer.dynamics.position.roll({pitch:!1});break;case"ROTATE_DOWN":this.viewer.dynamics.position.roll({pitch:!0});break;case"ROTATE_RIGHT":this.viewer.dynamics.position.roll({yaw:!1});break;case"ROTATE_LEFT":this.viewer.dynamics.position.roll({yaw:!0});break;case"ZOOM_IN":this.viewer.dynamics.zoom.roll(!1);break;case"ZOOM_OUT":this.viewer.dynamics.zoom.roll(!0)}this.keyHandler.down(),t.preventDefault()}}}},{key:"__onKeyUp",value:function(){var t=this;this.data.ctrlKeyDown=!1,this.state.keyboardEnabled&&this.keyHandler.up(function(){t.viewer.dynamics.position.stop(),t.viewer.dynamics.zoom.stop(),t.viewer.resetIdleTimer()})}},{key:"__onMouseDown",value:function(t){this.step.add(w.CLICK),this.data.startMouseX=t.clientX,this.data.startMouseY=t.clientY}},{key:"__onMouseUp",value:function(t){this.step.is(w.CLICK,w.MOVING)&&this.__stopMove(t.clientX,t.clientY,t.target,2===t.button)}},{key:"__onMouseMove",value:function(t){this.config.mousemove&&this.step.is(w.CLICK,w.MOVING)&&(t.preventDefault(),this.__doMove(t.clientX,t.clientY)),this.__handleObjectsEvents(t)}},{key:"__onTouchStart",value:function(e){var n=this;1===e.touches.length?(this.step.add(w.CLICK),this.data.startMouseX=e.touches[0].clientX,this.data.startMouseY=e.touches[0].clientY,this.data.longtouchTimeout||(this.data.longtouchTimeout=setTimeout(function(){var t=e.touches[0];n.__stopMove(t.clientX,t.clientY,t.target,!0),n.data.longtouchTimeout=null},hs))):2===e.touches.length&&(this.step.set(w.IDLE),this.__cancelLongTouch(),this.config.mousemove)&&(this.__cancelTwoFingersOverlay(),this.__startMoveZoom(e),e.preventDefault())}},{key:"__onTouchEnd",value:function(t){this.__cancelLongTouch(),this.step.is(w.CLICK,w.MOVING)&&(t.preventDefault(),this.__cancelTwoFingersOverlay(),1===t.touches.length?this.__stopMove(this.data.mouseX,this.data.mouseY):0===t.touches.length&&(t=t.changedTouches[0],this.__stopMove(t.clientX,t.clientY,t.target)))}},{key:"__onTouchMove",value:function(t){var e,n=this;this.__cancelLongTouch(),this.config.mousemove&&(1===t.touches.length?this.config.touchmoveTwoFingers?this.step.is(w.CLICK)&&!this.data.twofingersTimeout&&(this.data.twofingersTimeout=setTimeout(function(){n.viewer.overlay.show({id:As.TWO_FINGERS,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="currentColor" d="M33.38 33.2a1.96 1.96 0 0 0 1.5-3.23 10.61 10.61 0 0 1 7.18-17.51c.7-.06 1.31-.49 1.61-1.12a13.02 13.02 0 0 1 11.74-7.43c7.14 0 12.96 5.8 12.96 12.9 0 3.07-1.1 6.05-3.1 8.38-.7.82-.61 2.05.21 2.76.83.7 2.07.6 2.78-.22a16.77 16.77 0 0 0 4.04-10.91C72.3 7.54 64.72 0 55.4 0a16.98 16.98 0 0 0-14.79 8.7 14.6 14.6 0 0 0-12.23 14.36c0 3.46 1.25 6.82 3.5 9.45.4.45.94.69 1.5.69m45.74 43.55a22.13 22.13 0 0 1-5.23 12.4c-4 4.55-9.53 6.86-16.42 6.86-12.6 0-20.1-10.8-20.17-10.91a1.82 1.82 0 0 0-.08-.1c-5.3-6.83-14.55-23.82-17.27-28.87-.05-.1 0-.21.02-.23a6.3 6.3 0 0 1 8.24 1.85l9.38 12.59a1.97 1.97 0 0 0 3.54-1.17V25.34a4 4 0 0 1 1.19-2.87 3.32 3.32 0 0 1 2.4-.95c1.88.05 3.4 1.82 3.4 3.94v24.32a1.96 1.96 0 0 0 3.93 0v-33.1a3.5 3.5 0 0 1 7 0v35.39a1.96 1.96 0 0 0 3.93 0v-.44c.05-2.05 1.6-3.7 3.49-3.7 1.93 0 3.5 1.7 3.5 3.82v5.63c0 .24.04.48.13.71l.1.26a1.97 1.97 0 0 0 3.76-.37c.33-1.78 1.77-3.07 3.43-3.07 1.9 0 3.45 1.67 3.5 3.74l-1.77 18.1zM77.39 51c-1.25 0-2.45.32-3.5.9v-.15c0-4.27-3.33-7.74-7.42-7.74-1.26 0-2.45.33-3.5.9V16.69a7.42 7.42 0 0 0-14.85 0v1.86a7 7 0 0 0-3.28-.94 7.21 7.21 0 0 0-5.26 2.07 7.92 7.92 0 0 0-2.38 5.67v37.9l-5.83-7.82a10.2 10.2 0 0 0-13.35-2.92 4.1 4.1 0 0 0-1.53 5.48C20 64.52 28.74 80.45 34.07 87.34c.72 1.04 9.02 12.59 23.4 12.59 7.96 0 14.66-2.84 19.38-8.2a26.06 26.06 0 0 0 6.18-14.6l1.78-18.2v-.2c0-4.26-3.32-7.73-7.42-7.73z"/>\x3c!--Created by AomAm from the Noun Project--\x3e</svg>\n',title:n.config.lang.twoFingers})},ds)):this.step.is(w.CLICK,w.MOVING)&&(t.preventDefault(),e=t.touches[0],this.__doMove(e.clientX,e.clientY)):(this.__doMoveZoom(t),this.__cancelTwoFingersOverlay()))}},{key:"__cancelLongTouch",value:function(){this.data.longtouchTimeout&&(clearTimeout(this.data.longtouchTimeout),this.data.longtouchTimeout=null)}},{key:"__cancelTwoFingersOverlay",value:function(){this.config.touchmoveTwoFingers&&(this.data.twofingersTimeout&&(clearTimeout(this.data.twofingersTimeout),this.data.twofingersTimeout=null),this.viewer.overlay.hide(As.TWO_FINGERS))}},{key:"__onMouseWheel",value:function(t){var e=this;this.config.mousewheel&&t.deltaY&&(this.config.mousewheelCtrlKey&&!this.data.ctrlKeyDown?(this.viewer.overlay.show({id:As.CTRL_ZOOM,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 17 79 79"><path fill="currentColor" d="M38.1 29.27c-.24 0-.44.2-.44.45v10.7a.45.45 0 00.9 0v-10.7c0-.25-.2-.45-.45-.45zm10.2 26.66a11.54 11.54 0 01-8.48-6.14.45.45 0 10-.8.41 12.45 12.45 0 009.22 6.62.45.45 0 00.07-.9zm24.55-13.08a23.04 23.04 0 00-22.56-23v7.07l-.01.05a2.83 2.83 0 012.39 2.78v14.03l.09-.02h8.84v-9.22a.45.45 0 11.9 0v9.22h10.35v-.9zm0 27.33V44.66H62.5c-.02 2.01-.52 4-1.47 5.76a.45.45 0 01-.61.18.45.45 0 01-.19-.61 11.54 11.54 0 001.36-5.33h-8.83l-.1-.01a2.83 2.83 0 01-2.83 2.84h-.04-.04a2.83 2.83 0 01-2.83-2.83v-14.9a2.82 2.82 0 012.47-2.8v-7.11a23.04 23.04 0 00-22.57 23v.91h14.72V29.88a8.2 8.2 0 015.02-7.57c.22-.1.5.01.59.24.1.23-.01.5-.24.6a7.3 7.3 0 00-4.47 6.73v13.88h3.9a.45.45 0 110 .9h-3.9v.15a7.32 7.32 0 0011.23 6.17.45.45 0 01.49.76 8.22 8.22 0 01-12.62-6.93v-.15H26.82v25.52a23.04 23.04 0 0023.01 23.01 23.04 23.04 0 0023.02-23.01zm1.8-27.33v27.33A24.85 24.85 0 0149.84 95a24.85 24.85 0 01-24.82-24.82V42.85a24.85 24.85 0 0124.82-24.82 24.85 24.85 0 0124.83 24.82zM57.98 29.88v9.36a.45.45 0 11-.9 0v-9.36a7.28 7.28 0 00-3.4-6.17.45.45 0 01.49-.76 8.18 8.18 0 013.8 6.93z"/>\x3c!-- Created by Icon Island from the Noun Project --\x3e</svg>\n',title:this.config.lang.ctrlZoom}),clearTimeout(this.data.ctrlZoomTimeout),this.data.ctrlZoomTimeout=setTimeout(function(){return e.viewer.overlay.hide(As.CTRL_ZOOM)},fs)):(t.preventDefault(),t.stopPropagation(),0!=(t=t.deltaY/Math.abs(t.deltaY)*5*this.config.zoomSpeed)&&this.viewer.dynamics.zoom.step(-t,5)))}},{key:"__onFullscreenChange",value:function(){var t=this.viewer.isFullscreenEnabled();"fullscreen"===this.config.keyboard&&(t?this.viewer.startKeyboardControl():this.viewer.stopKeyboardControl()),this.viewer.dispatchEvent(new Xl(t))}},{key:"__resetMove",value:function(){this.step.set(w.IDLE),this.data.mouseX=0,this.data.mouseY=0,this.data.startMouseX=0,this.data.startMouseY=0,this.data.mouseHistory.length=0}},{key:"__startMoveZoom",value:function(t){this.viewer.stopAll(),this.__resetMove();t=Ns(t),this.step.set(w.MOVING),this.data.pinchDist=t.distance,t=t.center;this.data.mouseX=t.x,this.data.mouseY=t.y,this.__logMouseMove(this.data.mouseX,this.data.mouseY)}},{key:"__stopMove",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];this.step.is(w.MOVING)?this.config.moveInertia?(this.__logMouseMove(t,e),this.__stopMoveInertia(t,e)):(this.__resetMove(),this.viewer.resetIdleTimer()):(this.step.is(w.CLICK)&&!this.__moveThresholdReached(t,e)&&this.__doClick(t,e,n,i),this.step.remove(w.CLICK),this.step.is(w.INERTIA)||(this.__resetMove(),this.viewer.resetIdleTimer()))}},{key:"__stopMoveInertia",value:function(t,e){var n,i,r=this,a=new ho(this.data.mouseHistory.map(function(t){var t=v(t,3),e=t[1],t=t[2];return new $(e,t)})).getTangent(1),o=this.data.mouseHistory.reduce(function(t,e){var n=t.total,t=t.prev;return{total:t?n+Ss({x:t[1],y:t[2]},{x:e[1],y:e[2]})/(e[0]-t[0]):0,prev:e}},{total:0,prev:null}).total/this.data.mouseHistory.length;o?(this.step.set(w.INERTIA),n=t,i=e,this.state.animation=new Ml({properties:{speed:{start:o,end:0}},duration:1e3,easing:"outQuad",onTick:function(t){n+=t.speed*a.x*3*Xu.pixelRatio,i+=t.speed*a.y*3*Xu.pixelRatio,r.__applyMove(n,i)}}),this.state.animation.then(function(t){r.state.animation=null,t&&(r.__resetMove(),r.viewer.resetIdleTimer())})):(this.__resetMove(),this.viewer.resetIdleTimer())}},{key:"__doClick",value:function(t,e,n){var i=this,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=this.viewer.container.getBoundingClientRect(),o=t-a.left,a=e-a.top,s=this.viewer.renderer.getIntersections({x:o,y:a}),l=s.find(function(t){return t.object.userData[ms]});if(l){l=this.viewer.dataHelper.vector3ToSphericalCoords(l.point),r={rightclick:r,target:n,clientX:t,clientY:e,viewerX:o,viewerY:a,yaw:l.yaw,pitch:l.pitch,objects:s.map(function(t){return t.object}).filter(function(t){return!t.userData[ms]})};try{var u=this.viewer.dataHelper.sphericalCoordsToTextureCoords(r);Object.assign(r,u)}catch(t){}this.data.dblclickTimeout?(Math.abs(this.data.dblclickData.clientX-r.clientX)<this.moveThreshold&&Math.abs(this.data.dblclickData.clientY-r.clientY)<this.moveThreshold&&this.viewer.dispatchEvent(new Ql(this.data.dblclickData)),clearTimeout(this.data.dblclickTimeout),this.data.dblclickTimeout=null,this.data.dblclickData=null):(this.viewer.dispatchEvent(new Fl(r)),this.data.dblclickData=Xs(r),this.data.dblclickTimeout=setTimeout(function(){i.data.dblclickTimeout=null,i.data.dblclickData=null},cs))}}},{key:"__handleObjectsEvents",value:function(i){var r=this;if(!Ws(this.state.objectsObservers)&&Ls(i.target,this.viewer.container))for(var t=Os(this.viewer.container),a={x:i.clientX-t.x,y:i.clientY-t.y},o=this.viewer.renderer.getIntersections(a),s=function(t,e,n){r.viewer.dispatchEvent(new n(i,t,a,e))},l=0,u=Object.entries(this.state.objectsObservers);l<u.length;l++)!function(){var t=v(u[l],2),e=t[0],t=t[1],n=o.find(function(t){return t.object.userData[e]});n?(t&&n.object!==t&&(s(t,e,Nu),r.state.objectsObservers[e]=null),t?s(n.object,e,Fu):(r.state.objectsObservers[e]=n.object,s(n.object,e,Ou))):t&&(s(t,e,Nu),r.state.objectsObservers[e]=null)}()}},{key:"__doMove",value:function(t,e){this.step.is(w.CLICK)&&this.__moveThresholdReached(t,e)?(this.viewer.stopAll(),this.__resetMove(),this.step.set(w.MOVING),this.data.mouseX=t,this.data.mouseY=e,this.__logMouseMove(t,e)):this.step.is(w.MOVING)&&(this.__applyMove(t,e),this.__logMouseMove(t,e))}},{key:"__moveThresholdReached",value:function(t,e){return Math.abs(t-this.data.startMouseX)>=this.moveThreshold||Math.abs(e-this.data.startMouseY)>=this.moveThreshold}},{key:"__applyMove",value:function(t,e){var n=(t-this.data.mouseX)*Math.cos(this.state.roll)-(e-this.data.mouseY)*Math.sin(this.state.roll),i=(e-this.data.mouseY)*Math.cos(this.state.roll)+(t-this.data.mouseX)*Math.sin(this.state.roll),n=this.config.moveSpeed*(n/this.state.size.width)*l.degToRad(this.state.hFov),i=this.config.moveSpeed*(i/this.state.size.height)*l.degToRad(this.state.vFov),r=this.viewer.getPosition();this.viewer.rotate({yaw:r.yaw-n,pitch:r.pitch+i}),this.data.mouseX=t,this.data.mouseY=e}},{key:"__doMoveZoom",value:function(t){var e;this.step.is(w.MOVING)&&(t.preventDefault(),e=((t=Ns(t)).distance-this.data.pinchDist)/Xu.pixelRatio*this.config.zoomSpeed,this.viewer.zoom(this.viewer.getZoomLevel()+e),this.__doMove(t.center.x,t.center.y),this.data.pinchDist=t.distance)}},{key:"__logMouseMove",value:function(t,e){var n=Date.now(),i=this.data.mouseHistory.length?this.data.mouseHistory[this.data.mouseHistory.length-1]:[0,-1,-1];i[1]===t&&i[2]===e?i[0]=n:n===i[0]?(i[1]=t,i[2]=e):this.data.mouseHistory.push([n,t,e]);for(var r=null,a=0;a<this.data.mouseHistory.length;)this.data.mouseHistory[a][0]<n-ps?this.data.mouseHistory.splice(a,1):r&&this.data.mouseHistory[a][0]-r>ps/10?(this.data.mouseHistory.splice(0,a),r=this.data.mouseHistory[a=0][0]):(r=this.data.mouseHistory[a][0],a++)}}]));function ih(t){var e;return h(this,ih),(e=d(this,ih,[t])).data={startMouseX:0,startMouseY:0,mouseX:0,mouseY:0,mouseHistory:[],pinchDist:0,ctrlKeyDown:!1,dblclickData:null,dblclickTimeout:null,longtouchTimeout:null,twofingersTimeout:null,ctrlZoomTimeout:null},e.step=new w,e.keyHandler=new Cl,e.resizeObserver=new ResizeObserver(Vs(function(){return e.viewer.autoSize()},50)),e.moveThreshold=us*Xu.pixelRatio,e}Gt.enabled=!1;var rh=new $,ah=new fe,oh=new Tt,sh=(f(Ah,r),c(Ah,[{key:"panoramaPose",get:function(){return this.mesh.rotation}},{key:"sphereCorrection",get:function(){return this.meshContainer.rotation}},{key:"init",value:function(){var e=this;this.show(),this.renderer.setAnimationLoop(function(t){return e.__renderLoop(t)})}},{key:"destroy",value:function(){this.renderer.setAnimationLoop(null),this.cleanScene(this.scene),this.viewer.container.removeChild(this.container),this.viewer.removeEventListener(_u.type,this),this.viewer.removeEventListener(Du.type,this),this.viewer.removeEventListener(du.type,this),this.viewer.removeEventListener(pu.type,this),this.viewer.removeEventListener(Gl.type,this),u(p(Ah.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case _u.type:this.__onSizeUpdated();break;case Du.type:this.__onZoomUpdated();break;case du.type:case pu.type:this.__onPositionUpdated();break;case Gl.type:t.containsOptions("fisheye")&&this.__onPositionUpdated()}}},{key:"hide",value:function(){this.container.style.opacity="0"}},{key:"show",value:function(){this.container.style.opacity="1"}},{key:"setCustomRenderer",value:function(t){this.customRenderer=t?t(this.renderer):null,this.viewer.needsUpdate()}},{key:"__onSizeUpdated",value:function(){this.renderer.setSize(this.state.size.width,this.state.size.height),this.camera.aspect=this.state.aspect,this.camera.updateProjectionMatrix(),this.viewer.needsUpdate(),this.frustumNeedsUpdate=!0}},{key:"__onZoomUpdated",value:function(){this.camera.fov=this.state.vFov,this.camera.updateProjectionMatrix(),this.viewer.needsUpdate(),this.frustumNeedsUpdate=!0}},{key:"__onPositionUpdated",value:function(){this.camera.position.set(0,0,0),this.camera.lookAt(this.state.direction),this.config.fisheye&&this.camera.position.copy(this.state.direction).multiplyScalar(this.config.fisheye/2).negate(),this.camera.rotateZ(-this.state.roll),this.camera.updateMatrixWorld(),this.viewer.needsUpdate(),this.frustumNeedsUpdate=!0}},{key:"__renderLoop",value:function(t){var e=this.timestamp?t-this.timestamp:0;this.timestamp=t,this.viewer.dispatchEvent(new Ol(t,e)),this.viewer.dynamics.update(e),(this.state.needsUpdate||0<this.state.continuousUpdateCount)&&(this.state.needsUpdate=!1,(this.customRenderer||this.renderer).render(this.scene,this.camera),this.viewer.dispatchEvent(new yu))}},{key:"setTexture",value:function(t){this.state.textureData&&this.viewer.adapter.disposeTexture(this.state.textureData),this.state.textureData=t,this.viewer.adapter.setTexture(this.mesh,t),this.viewer.needsUpdate()}},{key:"setPanoramaPose",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.mesh,t=this.viewer.dataHelper.cleanPanoramaPose(t);e.rotation.set(-t.tilt,-t.pan,-t.roll,"ZXY")}},{key:"setSphereCorrection",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.meshContainer,t=this.viewer.dataHelper.cleanSphereCorrection(t);e.rotation.set(t.tilt,t.pan,t.roll,"ZXY")}},{key:"transition",value:function(e,n){var i=this,r=!Ys(n.position),a=!Ys(n.zoom),t=new Ll(r?this.viewer.dataHelper.cleanPosition(n.position):void 0,n.zoom),o=(this.viewer.dispatchEvent(t),new Ja),s=this.viewer.adapter.createMesh(),l=(s.onBeforeRender=function(t){t.clearDepth()},this.viewer.adapter.setTexture(s,e,!0),this.viewer.adapter.setTextureOpacity(s,0),this.setPanoramaPose(e.panoData,s),this.setSphereCorrection(n.sphereCorrection,o),r&&"fade-only"===n.transition&&(u=this.viewer.getPosition(),l=new Vt(0,1,0),o.rotateOnWorldAxis(l,t.position.yaw-u.yaw),l=new Vt(0,1,0).cross(this.camera.getWorldDirection(new Vt)).normalize(),o.rotateOnWorldAxis(l,t.position.pitch-u.pitch)),o.add(s),this.scene.add(o),this.renderer.setRenderTarget(new Jt),this.renderer.render(this.scene,this.camera),this.renderer.setRenderTarget(null),this.viewer.dataHelper.getAnimationProperties(n.speed,!0===n.transition?t.position:null,t.zoomLevel)),u=l.duration,t=l.properties,l=new Ml({properties:jo(jo({},t),{},{opacity:{start:0,end:1}}),duration:u,easing:"inOutCubic",onTick:function(t){i.viewer.adapter.setTextureOpacity(s,t.opacity),r&&!0===n.transition&&i.viewer.dynamics.position.setValue({yaw:t.yaw,pitch:t.pitch}),a&&i.viewer.dynamics.zoom.setValue(t.zoom),i.viewer.needsUpdate()}});return l.then(function(t){t?(i.setTexture(e),i.viewer.adapter.setTextureOpacity(i.mesh,1),i.setPanoramaPose(e.panoData),i.setSphereCorrection(n.sphereCorrection),r&&"fade-only"===n.transition&&i.viewer.rotate(n.position)):i.viewer.adapter.disposeTexture(e),i.scene.remove(o),s.geometry.dispose(),s.geometry=null}),l}},{key:"getIntersections",value:function(t){rh.x=2*t.x/this.state.size.width-1,rh.y=-2*t.y/this.state.size.height+1,this.raycaster.setFromCamera(rh,this.camera);var e,t=this.raycaster.intersectObjects(this.scene.children,!0).filter(function(t){return t.object.visible}).filter(function(t){return t.object.isMesh&&!!t.object.userData});return null!=(e=this.customRenderer)&&e.getIntersections&&t.push.apply(t,ts(this.customRenderer.getIntersections(this.raycaster,rh))),t}},{key:"isObjectVisible",value:function(t){var e;return!!t&&(this.frustumNeedsUpdate&&(ah.multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse),this.frustum.setFromProjectionMatrix(ah),this.frustumNeedsUpdate=!1),t.isVector3?this.frustum.containsPoint(t):t.isMesh&&t.geometry?((e=t).geometry.boundingBox||e.geometry.computeBoundingBox(),oh.copy(e.geometry.boundingBox).applyMatrix4(e.matrixWorld),this.frustum.intersectsBox(oh)):!!t.isObject3D&&this.frustum.intersectsObject(t))}},{key:"addObject",value:function(t){this.scene.add(t)}},{key:"removeObject",value:function(t){this.scene.remove(t)}},{key:"cleanScene",value:function(n){function i(t){var e;null!=(e=t.map)&&e.dispose(),t.uniforms&&Object.values(t.uniforms).forEach(function(t){var e;null!=(t=t.value)&&null!=(e=t.dispose)&&e.call(t)}),t.dispose()}var r=this;n.traverse(function(t){var e;null!=(e=t.geometry)&&e.dispose(),t.material&&(Array.isArray(t.material)?t.material.forEach(function(t){i(t)}):i(t.material)),t instanceof lo||null==(e=t.dispose)||e.call(t),t!==n&&r.cleanScene(t)})}}])),lh=(f(yh,ni),c(yh,[{key:"load",value:function(t,e,s,l,n){t=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(t,{signal:n}).then(function(t){var e,r,a,o,n;if(200===t.status||0===t.status)return e=t.body.getReader(),n=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),r=n?parseInt(n):0,a=0!==r,o=0,n=new ReadableStream({start:function(i){!function n(){e.read().then(function(t){var e=t.done,t=t.value;e?i.close():(o+=t.byteLength,e=new ProgressEvent("progress",{lengthComputable:a,loaded:o,total:r}),s(e),i.enqueue(t),n())}).catch(function(t){l(t)})}()}}),new Response(n);throw new Error('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText))}).then(function(t){return t.blob()}).then(function(t){e(t)}).catch(function(t){l(t)})}}])),uh=(f(gh,ni),c(gh,[{key:"load",value:function(t,e,n,i){var r=document.createElement("img");function a(){l(),e(this)}function o(t){var e;l(),null!=i&&i.aborted?((e=new Error).name="AbortError",e.message="The operation was aborted.",n(e)):n(t)}function s(){r.src=""}function l(){r.removeEventListener("load",a,!1),r.removeEventListener("error",o,!1),null!=i&&i.removeEventListener("abort",s,!1)}return r.addEventListener("load",a,!1),r.addEventListener("error",o,!1),null!=i&&i.addEventListener("abort",s,!1),t.startsWith("data:")||void 0===this.crossOrigin||(r.crossOrigin=this.crossOrigin),r.src=t,r}}])),ch=(f(mh,r),c(mh,[{key:"destroy",value:function(){this.abortLoading(),u(p(mh.prototype),"destroy",this).call(this)}},{key:"abortLoading",value:function(){Object.values(this.abortCtrl).forEach(function(t){return t.abort()}),this.abortCtrl={}}},{key:"loadFile",value:function(r,a,o){var t=this,e=Hc.get(r,o);if(e){if(e instanceof Blob)return null!=a&&a(100),Promise.resolve(e);Hc.remove(r,o)}return this.config.requestHeaders&&this.fileLoader.setRequestHeader(this.config.requestHeaders(r)),new Promise(function(e,n){var i=0;null!=a&&a(i),t.fileLoader.load(r,function(t){i=100,null!=a&&a(i),Hc.add(r,o,t),e(t)},function(t){t.lengthComputable&&(t=t.loaded/t.total*100,i<t)&&(i=t,null!=a)&&a(i)},function(t){n(t)},t.__getAbortSignal(o))})}},{key:"loadImage",value:function(i,t,r){var a=this,e=Hc.get(i,r);return e?(null!=t&&t(100),e instanceof Blob?this.blobToImage(e):Promise.resolve(e)):t||this.config.requestHeaders?this.loadFile(i,t,r).then(function(t){return a.blobToImage(t)}):new Promise(function(e,n){a.imageLoader.load(i,function(t){Hc.add(i,r,t),e(t)},function(t){n(t)},a.__getAbortSignal(r))})}},{key:"blobToImage",value:function(i){return new Promise(function(t,e){var n=document.createElement("img");n.onload=function(){URL.revokeObjectURL(n.src),t(n)},n.onerror=e,n.src=URL.createObjectURL(i)})}},{key:"preloadPanorama",value:function(t){return this.viewer.adapter.supportsPreload(t)?this.viewer.adapter.loadTexture(t,!1):Promise.reject(new g("Current adapter does not support preload"))}},{key:"__getAbortSignal",value:function(t){var e;return t?(null!=(e=this.abortCtrl[t])&&e.signal.aborted&&delete this.abortCtrl[t],this.abortCtrl[t]||(this.abortCtrl[t]=new AbortController),this.abortCtrl[t].signal):null}}])),hh=(f(vh,r),c(vh,[{key:"updateSpeeds",value:function(){this.zoom.setSpeed(50*this.config.zoomSpeed),this.position.setSpeed(l.degToRad(50*this.config.moveSpeed)),this.roll.setSpeed(l.degToRad(50*this.config.moveSpeed))}},{key:"update",value:function(t){this.zoom.update(t),this.position.update(t),this.roll.update(t)}}])),dh=c(function t(){h(this,t),this.ready=!1,this.needsUpdate=!1,this.continuousUpdateCount=0,this.keyboardEnabled=!1,this.direction=new Vt(0,0,vs),this.roll=0,this.vFov=60,this.hFov=60,this.aspect=1,this.animation=null,this.transitionAnimation=null,this.loadingPromise=null,this.idleTime=-1,this.objectsObservers={},this.size={width:0,height:0}}),fh=(f(ph,sn),c(ph,[{key:"destroy",value:function(){var t;this.stopAll(),this.stopKeyboardControl(),this.exitFullscreen();for(var e=0,n=Object.entries(this.plugins);e<n.length;e++){var i=v(n[e],2),r=i[0];i[1].destroy(),delete this.plugins[r]}this.children.slice().forEach(function(t){return t.destroy()}),this.children.length=0,null!=(t=this.eventsHandler)&&t.destroy(),null!=(t=this.renderer)&&t.destroy(),null!=(t=this.textureLoader)&&t.destroy(),null!=(t=this.dataHelper)&&t.destroy(),null!=(t=this.adapter)&&t.destroy(),null!=(t=this.dynamics)&&t.destroy(),this.parent.removeChild(this.container),delete this.parent[ms]}},{key:"init",value:function(){this.eventsHandler.init(),this.renderer.init(),this.config.navbar&&this.navbar.show(),"always"===this.config.keyboard&&this.startKeyboardControl(),this.resetIdleTimer(),this.state.ready=!0,this.dispatchEvent(new mu)}},{key:"resetIdleTimer",value:function(){this.state.idleTime=performance.now()}},{key:"disableIdleTimer",value:function(){this.state.idleTime=-1}},{key:"getPlugin",value:function(t){return"string"==typeof t?this.plugins[t]:(t=kc(t))?this.plugins[t.id]:null}},{key:"getPosition",value:function(){return this.dataHelper.cleanPosition(this.dynamics.position.current)}},{key:"getZoomLevel",value:function(){return this.dynamics.zoom.current}},{key:"getSize",value:function(){return jo({},this.state.size)}},{key:"isFullscreenEnabled",value:function(){return zs(this.parent,Xu.isIphone)}},{key:"needsUpdate",value:function(){this.state.needsUpdate=!0}},{key:"needsContinuousUpdate",value:function(t){t?this.state.continuousUpdateCount++:0<this.state.continuousUpdateCount&&this.state.continuousUpdateCount--}},{key:"autoSize",value:function(){this.container.clientWidth===this.state.size.width&&this.container.clientHeight===this.state.size.height||(this.state.size.width=Math.round(this.container.clientWidth),this.state.size.height=Math.round(this.container.clientHeight),this.state.aspect=this.state.size.width/this.state.size.height,this.state.hFov=this.dataHelper.vFovToHFov(this.state.vFov),this.dispatchEvent(new _u(this.getSize())),this.onResize())}},{key:"setPanorama",value:function(e){function t(t){if(nl(t))return!1;if(n.loader.hide(),n.state.loadingPromise=null,t)throw n.navbar.setCaption(""),n.showError(n.config.lang.loadError),console.error(t),n.dispatchEvent(new cu(e,t)),t;return n.navbar.setCaption(n.config.caption),!0}var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=(this.textureLoader.abortLoading(),null!=(r=this.state.transitionAnimation)&&r.cancel(),this.state.ready||["sphereCorrection","panoData"].forEach(function(t){t in i||(i[t]=n.config[t])}),void 0===i.transition&&(i.transition=!0),void 0===i.speed&&(i.speed=ss),void 0===i.showLoader&&(i.showLoader=!0),void 0===i.caption&&(i.caption=this.config.caption),void 0===i.description&&(i.description=this.config.description),i.panoData||"function"!=typeof this.config.panoData||(i.panoData=this.config.panoData),this.hideError(),this.resetIdleTimer(),this.config.panorama=e,this.config.caption=i.caption,this.config.description=i.description,this.navbar.setCaption("<em>".concat(this.config.lang.loading,"</em>")),!i.showLoader&&this.state.ready||this.loader.show(),this.dispatchEvent(new ou(e)),this.adapter.loadTexture(this.config.panorama,!0,i.panoData).then(function(t){if(t.panorama!==n.config.panorama)throw n.adapter.disposeTexture(t),el();var e=n.dataHelper.cleanPanoramaOptions(i,t.panoData);return Ys(e.zoom)&&Ys(e.position)||n.stopAll(),{textureData:t,cleanOptions:e}}));return i.transition&&this.state.ready&&this.adapter.supportsTransition(this.config.panorama)?this.state.loadingPromise=r.then(function(t){var e=t.textureData,t=t.cleanOptions;return n.loader.hide(),n.dispatchEvent(new lu(e)),n.state.transitionAnimation=n.renderer.transition(e,t),n.state.transitionAnimation}).then(function(t){if(n.state.transitionAnimation=null,!t)throw el()}).then(function(){return t()},t):this.state.loadingPromise=r.then(function(t){var e=t.textureData,t=t.cleanOptions;n.renderer.show(),n.renderer.setTexture(e),n.renderer.setPanoramaPose(e.panoData),n.renderer.setSphereCorrection(i.sphereCorrection),n.state.ready||n.init(),n.dispatchEvent(new lu(e)),Ys(t.zoom)||n.zoom(t.zoom),Ys(t.position)||n.rotate(t.position)}).then(function(){return t()},t),this.state.loadingPromise}},{key:"setOptions",value:function(t){for(var e=jo(jo({},this.config),t),n=0,i=Object.entries(t);n<i.length;n++){var r=v(i[n],2),a=r[0],r=r[1];if(a in Pc)if(a in Rc)il(Rc[a]);else switch(a in Dc&&(r=Dc[a](r,{rawConfig:e,defValue:Pc[a]})),this.config[a]=r,a){case"mousemove":this.state.cursorOverride||this.setCursor(null);break;case"caption":this.navbar.setCaption(this.config.caption);break;case"size":this.resize(this.config.size);break;case"sphereCorrection":this.renderer.setSphereCorrection(this.config.sphereCorrection);break;case"navbar":case"lang":this.navbar.setButtons(this.config.navbar);break;case"moveSpeed":case"zoomSpeed":this.dynamics.updateSpeeds();break;case"minFov":case"maxFov":this.dynamics.zoom.setValue(this.dataHelper.fovToZoomLevel(this.state.vFov)),this.dispatchEvent(new Du(this.getZoomLevel()));break;case"keyboard":"always"===this.config.keyboard?this.startKeyboardControl():this.stopKeyboardControl()}else il("Unknown option ".concat(a))}this.needsUpdate(),this.dispatchEvent(new Gl(Object.keys(t)))}},{key:"setOption",value:function(t,e){this.setOptions(Xo({},t,e))}},{key:"showError",value:function(t){this.overlay.show({id:As.ERROR,image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="15 15 70 70"><path fill="currentColor" d="M50,16.2c-18.6,0-33.8,15.1-33.8,33.8S31.4,83.7,50,83.7S83.8,68.6,83.8,50S68.6,16.2,50,16.2z M50,80.2c-16.7,0-30.2-13.6-30.2-30.2S33.3,19.7,50,19.7S80.3,33.3,80.3,50S66.7,80.2,50,80.2z"/><rect fill="currentColor" x="48" y="31.7" width="4" height="28"/><rect fill="currentColor" x="48" y="63.2" width="4" height="5"/>\x3c!--Created by Shastry from the Noun Project--\x3e</svg>\n',title:t,dissmisable:!1})}},{key:"hideError",value:function(){this.overlay.hide(As.ERROR)}},{key:"rotate",value:function(t){t=new Nl(this.dataHelper.cleanPosition(t));this.dispatchEvent(t),t.defaultPrevented||this.dynamics.position.setValue(t.position)}},{key:"zoom",value:function(t){this.dynamics.zoom.setValue(t)}},{key:"zoomIn",value:function(){this.dynamics.zoom.step(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)}},{key:"zoomOut",value:function(){this.dynamics.zoom.step(-(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1))}},{key:"animate",value:function(t){var e,n,i=this,r=rl(t),a=!Ys(t.zoom),o=new Ll(r?this.dataHelper.cleanPosition(t):void 0,t.zoom);if(this.dispatchEvent(o),!o.defaultPrevented)return this.stopAll(),e=(n=this.dataHelper.getAnimationProperties(t.speed,o.position,o.zoomLevel)).duration,n=n.properties,e?(this.state.animation=new Ml({properties:n,duration:e,easing:t.easing||"inOutSine",onTick:function(t){r&&i.dynamics.position.setValue({yaw:t.yaw,pitch:t.pitch}),a&&i.dynamics.zoom.setValue(t.zoom)}}),this.state.animation.then(function(){i.state.animation=null,i.resetIdleTimer()}),this.state.animation):(r&&this.rotate(o.position),a&&this.zoom(o.zoomLevel),new Ml(null))}},{key:"stopAnimation",value:function(){return this.state.animation?(this.state.animation.cancel(),this.state.animation):Promise.resolve()}},{key:"resize",value:function(t){this.__setSize(t),this.autoSize()}},{key:"__setSize",value:function(e){var n=this,i=e;["width","height"].forEach(function(t){e&&i[t]&&(/^[0-9.]+$/.test(i[t])&&(i[t]+="px"),n.parent.style[t]=i[t])})}},{key:"enterFullscreen",value:function(){this.isFullscreenEnabled()||Fs(this.parent,Xu.isIphone)}},{key:"exitFullscreen",value:function(){this.isFullscreenEnabled()&&Hs(Xu.isIphone)}},{key:"toggleFullscreen",value:function(){this.isFullscreenEnabled()?this.exitFullscreen():this.enterFullscreen()}},{key:"startKeyboardControl",value:function(){this.state.keyboardEnabled=!0}},{key:"stopKeyboardControl",value:function(){this.state.keyboardEnabled=!1}},{key:"createTooltip",value:function(t){return new Xc(this,t)}},{key:"setCursor",value:function(t){this.state.cursorOverride=t,this.container.style.cursor=t||(this.config.mousemove?"move":"default")}},{key:"observeObjects",value:function(t){this.state.objectsObservers[t]||(this.state.objectsObservers[t]=null)}},{key:"unobserveObjects",value:function(t){delete this.state.objectsObservers[t]}},{key:"stopAll",value:function(){return this.dispatchEvent(new Pu),this.disableIdleTimer(),this.stopAnimation()}}]));function ph(t){var e,n,i;if(h(this,ph),(i=d(this,ph)).plugins={},i.children=[],i.onResize=Vs(function(){return i.navbar.autoSize()},500),i.parent=Ps(t.container),!i.parent)throw new g('"container" element not found.');(i.parent[ms]=i).container=document.createElement("div"),i.container.classList.add("psv-container"),i.parent.appendChild(i.container),wl(i.container,"core"),i.state=new dh,i.config=Bc(t),i.__setSize(i.config.size),i.overlay=new Qc(i);try{Xu.load()}catch(t){return console.error(t),i.showError(i.config.lang.webglError),Jo(i)}Hc.init(),i.adapter=new i.config.adapter[0](i,i.config.adapter[1]),i.renderer=new sh(i),i.textureLoader=new ch(i),i.eventsHandler=new nh(i),i.dataHelper=new Jc(i),i.dynamics=new hh(i),null!=(e=(n=i.adapter).init)&&e.call(n),i.loader=new Gc(i),i.navbar=new zc(i),i.panel=new jc(i),i.notification=new Vc(i),i.autoSize(),i.setCursor(null),$s(Xu.isTouchEnabled,function(t){Rs(i.container,"psv--is-touch",t)}),i.config.plugins.forEach(function(t){var t=v(t,2),e=t[0],t=t[1];i.plugins[e.id]=new e(i,t)});for(var r=0,a=Object.values(i.plugins);r<a.length;r++){var o,s=a[r];null!=(o=s.init)&&o.call(s)}return i.config.navbar&&i.navbar.setButtons(i.config.navbar),i.state.loadingPromise||(i.config.panorama?i.setPanorama(i.config.panorama):i.loader.show()),i}function vh(t){var e;return h(this,vh),(e=d(this,vh,[t])).zoom=new El(function(t){e.viewer.state.vFov=e.viewer.dataHelper.zoomLevelToFov(t),e.viewer.state.hFov=e.viewer.dataHelper.vFovToHFov(e.viewer.state.vFov),e.viewer.dispatchEvent(new Du(t))},{defaultValue:e.viewer.config.defaultZoomLvl,min:0,max:100,wrap:!1}),e.position=new Sl(function(t){e.viewer.dataHelper.sphericalCoordsToVector3(t,e.viewer.state.direction),e.viewer.dispatchEvent(new du(t))},{yaw:new El(null,{defaultValue:e.config.defaultYaw,min:0,max:2*Math.PI,wrap:!0}),pitch:new El(null,{defaultValue:e.config.defaultPitch,min:-Math.PI/2,max:Math.PI/2,wrap:!1})}),e.roll=new El(function(t){e.viewer.state.roll=t,e.viewer.dispatchEvent(new pu(t))},{defaultValue:0,min:-Math.PI,max:Math.PI,wrap:!1}),e.updateSpeeds(),e}function mh(t){return h(this,mh),(t=d(this,mh,[t])).abortCtrl={},t.fileLoader=new lh,t.imageLoader=new uh,t.config.withCredentials&&(t.fileLoader.setWithCredentials(!0),t.imageLoader.setCrossOrigin("use-credentials")),t}function gh(){return h(this,gh),d(this,gh,arguments)}function yh(){return h(this,yh),d(this,yh,arguments)}function Ah(t){return h(this,Ah),(t=d(this,Ah,[t])).frustumNeedsUpdate=!0,t.renderer=new so(t.config.rendererParameters),t.renderer.setPixelRatio(Xu.pixelRatio),t.renderer.outputColorSpace="srgb-linear",t.renderer.domElement.className="psv-canvas",t.scene=new lo,t.camera=new oi(50,16/9,.1,2*vs),t.camera.matrixWorldAutoUpdate=!1,t.mesh=t.viewer.adapter.createMesh(),t.mesh.userData=Xo({},ms,!0),t.meshContainer=new Ja,t.meshContainer.add(t.mesh),t.scene.add(t.meshContainer),t.raycaster=new No,t.frustum=new mi,t.container=document.createElement("div"),t.container.className="psv-canvas-container",t.container.appendChild(t.renderer.domElement),t.viewer.container.appendChild(t.container),t.viewer.addEventListener(_u.type,t),t.viewer.addEventListener(Du.type,t),t.viewer.addEventListener(du.type,t),t.viewer.addEventListener(pu.type,t),t.viewer.addEventListener(Gl.type,t),t.hide(),t}function xh(){return(xh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ch(t)););return t}(t,e);if(i)return(i=Object.getOwnPropertyDescriptor(i,e)).get?i.get.call(arguments.length<3?t:n):i.value}).apply(this,arguments)}function wh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function bh(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mh(t,e)}function Mh(t,e){return(Mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Eh(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=Ch(n),e=(t=i?(t=Ch(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===kh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sh(e)}}function Sh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ch(t){return(Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Th(t,e,n){(e=Rh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function _h(){_h=function(){return o};var o={},t=Object.prototype,l=t.hasOwnProperty,u=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(o){a=function(t,e,n){return t[e]=n}}function s(t,e,n,i){var r,a,o,s,e=e&&e.prototype instanceof d?e:d,e=Object.create(e.prototype),i=new w(i||[]);return u(e,"_invoke",{value:(r=t,a=n,o=i,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return M()}for(o.method=t,o.arg=e;;){var n=o.delegate;if(n){n=function t(e,n){var i=n.method,r=e.iterator[i];if(void 0===r)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;r=i.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,h):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}(n,o);if(n){if(n===h)continue;return n}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===s)throw s="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s="executing";n=c(r,a,o);if("normal"===n.type){if(s=o.done?"completed":"suspendedYield",n.arg===h)continue;return{value:n.arg,done:o.done}}"throw"===n.type&&(s="completed",o.method="throw",o.arg=n.arg)}})}),e}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}o.wrap=s;var h={};function d(){}function f(){}function p(){}var e={},v=(a(e,i,function(){return this}),Object.getPrototypeOf),v=v&&v(v(b([]))),m=(v&&v!==t&&l.call(v,i)&&(e=v),p.prototype=d.prototype=Object.create(e));function g(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function y(o,s){var e;u(this,"_invoke",{value:function(n,i){function t(){return new s(function(t,e){!function e(t,n,i,r){var a,t=c(o[t],o,n);return"throw"!==t.type?(n=(a=t.arg).value)&&"object"==kh(n)&&l.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,i,r)},function(t){e("throw",t,i,r)}):s.resolve(n).then(function(t){a.value=t,i(a)},function(t){return e("throw",t,i,r)}):void r(t.arg)}(n,i,t,e)})}return e=e?e.then(t,t):t()}})}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function b(e){if(e){var n,t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:M}}function M(){return{value:void 0,done:!0}}return u(m,"constructor",{value:f.prototype=p,configurable:!0}),u(p,"constructor",{value:f,configurable:!0}),f.displayName=a(p,r,"GeneratorFunction"),o.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a(t,r,"GeneratorFunction")),t.prototype=Object.create(m),t},o.awrap=function(t){return{__await:t}},g(y.prototype),a(y.prototype,n,function(){return this}),o.AsyncIterator=y,o.async=function(t,e,n,i,r){void 0===r&&(r=Promise);var a=new y(s(t,e,n,i),r);return o.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(m),a(m,r,"Generator"),a(m,i,function(){return this}),a(m,"toString",function(){return"[object Generator]"}),o.keys=function(t){var e,n=Object(t),i=[];for(e in n)i.push(e);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},o.values=b,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function t(t,e){return a.type="throw",a.arg=n,i.next=t,e&&(i.method="next",i.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],a=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=l.call(r,"catchLoc"),s=l.call(r,"finallyLoc");if(o&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&l.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}var a=(r=r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc?null:r)?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,i,r=this.tryEntries[e];if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(i=n.arg,x(r)),i}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:b(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},o}function kh(t){return(kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ph(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Rh(i.key),i)}}function b(t,e,n){return e&&Ph(t.prototype,e),n&&Ph(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rh(t){t=function(t){if("object"!==kh(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return String(t);e=e.call(t,"string");if("object"!==kh(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(t);return"symbol"===kh(t)?t:String(t)}Mc="/* add css styles here (optional) */\n.view-container {\n    position: relative;\n    overflow: hidden;\n}\n\n.showNavbarButton {\n    display: flex;\n    position: absolute;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    z-index: 1000;\n\n    background: rgba(0, 0, 0, 0.09);\n    bottom: 10px;\n    height: 30px;\n    width: 30px;\n    right: 10px;\n\n    transition: background 0.2s ease, color 0.2s ease;\n    \n    &:hover {\n        background-color: rgba(0, 0, 0, 0.8);\n    }\n}\n\n.hideNavbarButton svg {\n    width: 100%;\n    transform: scale(1);\n    transition: transform .2s ease;\n    vertical-align: initial;\n    margin-top: -2;\n\n    &:hover {\n        transform: scale(1.2);\n    }\n}",Rv=(Rv=void 0===Rv?{}:Rv).insertAt,"undefined"!=typeof document&&(xc=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("style")).type="text/css","top"===Rv&&xc.firstChild?xc.insertBefore(n,xc.firstChild):xc.appendChild(n),n.styleSheet?n.styleSheet.cssText=Mc:n.appendChild(document.createTextNode(Mc))),_(855);b(Ih,[{key:"addEventListener",value:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}},{key:"hasEventListener",value:function(t,e){var n;return void 0!==this._listeners&&void 0!==(n=this._listeners)[t]&&-1!==n[t].indexOf(e)}},{key:"removeEventListener",value:function(t,e){void 0!==this._listeners&&void 0!==(t=this._listeners[t])&&-1!==(e=t.indexOf(e))&&t.splice(e,1)}},{key:"dispatchEvent",value:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t);t.target=null}}}}]);var oc=Ih,Dh=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Bh=Math.PI/180,Lh=180/Math.PI;function Ih(){S(this,Ih)}function Oh(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Dh[255&t]+Dh[t>>8&255]+Dh[t>>16&255]+Dh[t>>24&255]+"-"+Dh[255&e]+Dh[e>>8&255]+"-"+Dh[e>>16&15|64]+Dh[e>>24&255]+"-"+Dh[63&n|128]+Dh[n>>8&255]+"-"+Dh[n>>16&255]+Dh[n>>24&255]+Dh[255&i]+Dh[i>>8&255]+Dh[i>>16&255]+Dh[i>>24&255]).toLowerCase()}function Uh(t,e,n){return Math.max(e,Math.min(n,t))}function Nh(t,e,n){return(1-n)*t+n*e}function zh(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function M(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}b(Vh,[{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,t=t.elements;return this.x=t[0]*e+t[3]*n+t[6],this.y=t[1]*e+t[4]*n+t[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());return 0===e?Math.PI/2:(t=this.dot(t)/e,Math.acos(Uh(t,-1,1)))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,t=this.y-t.y;return e*e+t*t}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var n=Math.cos(e),e=Math.sin(e),i=this.x-t.x,r=this.y-t.y;return this.x=i*n-r*e+t.x,this.y=i*e+r*n+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:_h().mark(function t(){return _h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:case"end":return t.stop()}},t,this)})}]);var G=Vh,Fh=(b(Gh,[{key:"set",value:function(t,e,n,i,r,a,o,s,l){var u=this.elements;return u[0]=t,u[1]=i,u[2]=o,u[3]=e,u[4]=r,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(t){var e=this.elements,t=t.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){t=t.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var t=t.elements,e=e.elements,n=this.elements,i=t[0],r=t[3],a=t[6],o=t[1],s=t[4],l=t[7],u=t[2],c=t[5],t=t[8],h=e[0],d=e[3],f=e[6],p=e[1],v=e[4],m=e[7],g=e[2],y=e[5],e=e[8];return n[0]=i*h+r*p+a*g,n[3]=i*d+r*v+a*y,n[6]=i*f+r*m+a*e,n[1]=o*h+s*p+l*g,n[4]=o*d+s*v+l*y,n[7]=o*f+s*m+l*e,n[2]=u*h+c*p+t*g,n[5]=u*d+c*v+t*y,n[8]=u*f+c*m+t*e,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],t=t[8];return e*a*t-e*o*l-n*r*t+n*o*s+i*r*l-i*a*s}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=u*a-o*l,h=o*s-u*r,d=l*r-a*s,f=e*c+n*h+i*d;return 0==f?this.set(0,0,0,0,0,0,0,0,0):(t[0]=c*(c=1/f),t[1]=(i*l-u*n)*c,t[2]=(o*n-i*a)*c,t[3]=h*c,t[4]=(u*e-i*s)*c,t[5]=(i*r-o*e)*c,t[6]=d*c,t[7]=(n*s-l*e)*c,t[8]=(a*e-n*r)*c,this)}},{key:"transpose",value:function(){var t=this.elements,e=t[1];return t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).invert().transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,i,r,a,o){var s=Math.cos(r),r=Math.sin(r);return this.set(n*s,n*r,-n*(s*a+r*o)+a+t,-i*r,i*s,-i*(-r*a+s*o)+o+e,0,0,1),this}},{key:"scale",value:function(t,e){return this.premultiply(Hh.makeScale(t,e)),this}},{key:"rotate",value:function(t){return this.premultiply(Hh.makeRotation(-t)),this}},{key:"translate",value:function(t,e){return this.premultiply(Hh.makeTranslation(t,e)),this}},{key:"makeTranslation",value:function(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}},{key:"makeRotation",value:function(t){var e=Math.cos(t),t=Math.sin(t);return this.set(e,-t,0,t,e,0,0,0,1),this}},{key:"makeScale",value:function(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),Gh),Hh=new Fh;function Gh(t,e,n,i,r,a,o,s,l){S(this,Gh),Gh.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,n,i,r,a,o,s,l)}function Vh(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;S(this,Vh),Vh.prototype.isVector2=!0,this.x=t,this.y=e}function Qh(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}var jh={};function Xh(t){t in jh||(jh[t]=!0,console.warn(t))}var Wh,Yh=(new Fh).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Jh=(new Fh).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Kh=(Th(fc={},"srgb-linear",{transfer:"linear",primaries:"rec709",toReference:function(t){return t},fromReference:function(t){return t}}),Th(fc,"srgb",{transfer:"srgb",primaries:"rec709",toReference:function(t){return t.convertSRGBToLinear()},fromReference:function(t){return t.convertLinearToSRGB()}}),Th(fc,"display-p3-linear",{transfer:"linear",primaries:"p3",toReference:function(t){return t.applyMatrix3(Jh)},fromReference:function(t){return t.applyMatrix3(Yh)}}),Th(fc,"display-p3",{transfer:"srgb",primaries:"p3",toReference:function(t){return t.convertSRGBToLinear().applyMatrix3(Jh)},fromReference:function(t){return t.applyMatrix3(Yh).convertLinearToSRGB()}}),fc),qh=new Set(["srgb-linear","display-p3-linear"]),Zh={enabled:!0,_workingColorSpace:"srgb-linear",get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!qh.has(t))throw new Error('Unsupported working color space, "'.concat(t,'".'));this._workingColorSpace=t},convert:function(t,e,n){return!1!==this.enabled&&e!==n&&e&&n?(e=Kh[e].toReference,(0,Kh[n].fromReference)(e(t))):t},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Kh[t].primaries},getTransfer:function(t){return""===t?"linear":Kh[t].transfer}};function $h(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function td(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}b(ad,null,[{key:"getDataURL",value:function(t){var e;return/^data:/i.test(t.src)||"undefined"==typeof HTMLCanvasElement?t.src:2048<(e=t instanceof HTMLCanvasElement?t:((Wh=void 0===Wh?Qh("canvas"):Wh).width=t.width,Wh.height=t.height,e=Wh.getContext("2d"),t instanceof ImageData?e.putImageData(t,0,0):e.drawImage(t,0,0,t.width,t.height),Wh)).width||2048<e.height?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var e=Qh("canvas"),n=(e.width=t.width,e.height=t.height,e.getContext("2d"));n.drawImage(t,0,0,t.width,t.height);for(var i=n.getImageData(0,0,t.width,t.height),r=i.data,a=0;a<r.length;a++)r[a]=255*$h(r[a]/255);return n.putImageData(i,0,0),e}if(t.data){for(var o=t.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*$h(o[s]/255)):o[s]=$h(o[s]);return{data:o,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}]);var ed=ad,nd=0,id=(b(rd,[{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"toJSON",value:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];var n={uuid:this.uuid,url:""},i=this.data;if(null!==i){if(Array.isArray(i))for(var r=[],a=0,o=i.length;a<o;a++)i[a].isDataTexture?r.push(od(i[a].image)):r.push(od(i[a]));else r=od(i);n.url=r}return e||(t.images[this.uuid]=n),n}}]),rd);function rd(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;S(this,rd),this.isSource=!0,Object.defineProperty(this,"id",{value:nd++}),this.uuid=Oh(),this.data=t,this.dataReady=!0,this.version=0}function ad(){S(this,ad)}function od(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?ed.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var sd,ld=0,ud=(bh(cd,oc),sd=Eh(cd),b(cd,[{key:"image",get:function(){return this.source.data},set:function(){this.source.data=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(t){var e,n=void 0===t||"string"==typeof t;return n||void 0===t.textures[this.uuid]?(e={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment},0<Object.keys(this.userData).length&&(e.userData=this.userData),n||(t.textures[this.uuid]=e),e):t.textures[this.uuid]}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(t){if(300===this.mapping){if(t.applyMatrix3(this.matrix),t.x<0||1<t.x)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case 1001:t.x=t.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||1<t.y)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case 1001:t.y=t.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}return t}},{key:"needsUpdate",set:function(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}},{key:"encoding",get:function(){return Xh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),"srgb"===this.colorSpace?3001:3e3},set:function(t){Xh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=3001===t?"srgb":""}}]),cd);function cd(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:cd.DEFAULT_IMAGE,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:cd.DEFAULT_MAPPING,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1001,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1001,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1006,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1008,s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1023,l=7<arguments.length&&void 0!==arguments[7]?arguments[7]:1009,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:cd.DEFAULT_ANISOTROPY,c=9<arguments.length&&void 0!==arguments[9]?arguments[9]:"";return S(this,cd),(t=sd.call(this)).isTexture=!0,Object.defineProperty(Sh(t),"id",{value:ld++}),t.uuid=Oh(),t.name="",t.source=new id(e),t.mipmaps=[],t.mapping=n,t.channel=0,t.wrapS=i,t.wrapT=r,t.magFilter=a,t.minFilter=o,t.anisotropy=u,t.format=s,t.internalFormat=null,t.type=l,t.offset=new G(0,0),t.repeat=new G(1,1),t.center=new G(0,0),t.rotation=0,t.matrixAutoUpdate=!0,t.matrix=new Fh,t.generateMipmaps=!0,t.premultiplyAlpha=!1,t.flipY=!0,t.unpackAlignment=4,"string"==typeof c?t.colorSpace=c:(Xh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),t.colorSpace=3001===c?"srgb":""),t.userData={},t.version=0,t.onUpdate=null,t.isRenderTargetTexture=!1,t.needsPMREMUpdate=!1,t}ud.DEFAULT_IMAGE=null,ud.DEFAULT_MAPPING=300,ud.DEFAULT_ANISOTROPY=1;b(Dd,[{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}},{key:"set",value:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,t=t.elements;return this.x=t[0]*e+t[4]*n+t[8]*i+t[12]*r,this.y=t[1]*e+t[5]*n+t[9]*i+t[13]*r,this.z=t[2]*e+t[6]*n+t[10]*i+t[14]*r,this.w=t[3]*e+t[7]*n+t[11]*i+t[15]*r,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,n,i,r,a,o,s,l,u,c,t=t.elements,h=t[0],d=t[4],f=t[8],p=t[1],v=t[5],m=t[9],g=t[2],y=t[6],t=t[10];return Math.abs(d-p)<.01&&Math.abs(f-g)<.01&&Math.abs(m-y)<.01?Math.abs(d+p)<.1&&Math.abs(f+g)<.1&&Math.abs(m+y)<.1&&Math.abs(h+v+t-3)<.1?this.set(1,0,0,0):(r=Math.PI,o=(t+1)/2,s=(d+p)/4,l=(f+g)/4,u=(m+y)/4,(a=(v+1)/2)<(c=(h+1)/2)&&o<c?i=c<.01?(e=0,n=.707106781):(n=s/(e=Math.sqrt(c)),l/e):o<a?i=a<.01?(n=0,e=.707106781):(e=s/(n=Math.sqrt(a)),u/n):o<.01?(n=e=.707106781,i=0):(e=l/(i=Math.sqrt(o)),n=u/i),this.set(e,n,i,r)):(c=Math.sqrt((y-m)*(y-m)+(f-g)*(f-g)+(p-d)*(p-d)),Math.abs(c)<.001&&(c=1),this.x=(y-m)/c,this.y=(f-g)/c,this.z=(p-d)/c,this.w=Math.acos((h+v+t-1)/2)),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:_h().mark(function t(){return _h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:return t.next=6,this.z;case 6:return t.next=8,this.w;case 8:case"end":return t.stop()}},t,this)})}]);var hd=Dd,dd=(b(Rd,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=t._x,i=t._y,r=t._z,a=t._order,t=Math.cos,o=Math.sin,s=t(n/2),l=t(i/2),u=t(r/2),c=o(n/2),h=o(i/2),d=o(r/2);switch(a){case"XYZ":this._x=c*l*u+s*h*d,this._y=s*h*u-c*l*d,this._z=s*l*d+c*h*u,this._w=s*l*u-c*h*d;break;case"YXZ":this._x=c*l*u+s*h*d,this._y=s*h*u-c*l*d,this._z=s*l*d-c*h*u,this._w=s*l*u+c*h*d;break;case"ZXY":this._x=c*l*u-s*h*d,this._y=s*h*u+c*l*d,this._z=s*l*d+c*h*u,this._w=s*l*u-c*h*d;break;case"ZYX":this._x=c*l*u-s*h*d,this._y=s*h*u+c*l*d,this._z=s*l*d-c*h*u,this._w=s*l*u+c*h*d;break;case"YZX":this._x=c*l*u+s*h*d,this._y=s*h*u+c*l*d,this._z=s*l*d-c*h*u,this._w=s*l*u-c*h*d;break;case"XZY":this._x=c*l*u-s*h*d,this._y=s*h*u-c*l*d,this._z=s*l*d+c*h*u,this._w=s*l*u+c*h*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var e=e/2,n=Math.sin(e);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(e),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var t=t.elements,e=t[0],n=t[4],i=t[8],r=t[1],a=t[5],o=t[9],s=t[2],l=t[6],t=t[10],u=e+a+t;return 0<u?(u=.5/Math.sqrt(u+1),this._w=.25/u,this._x=(l-o)*u,this._y=(i-s)*u,this._z=(r-n)*u):a<e&&t<e?(u=2*Math.sqrt(1+e-a-t),this._w=(l-o)/u,this._x=.25*u,this._y=(n+r)/u,this._z=(i+s)/u):t<a?(u=2*Math.sqrt(1+a-e-t),this._w=(i-s)/u,this._x=(n+r)/u,this._y=.25*u,this._z=(o+l)/u):(u=2*Math.sqrt(1+t-e-a),this._w=(r-n)/u,this._x=(i+s)/u,this._y=(o+l)/u,this._z=.25*u),this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0):(this._x=0,this._y=-t.z,this._z=t.y)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x),this._w=n,this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(Uh(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var n=this.angleTo(t);return 0!==n&&(e=Math.min(1,e/n),this.slerp(t,e)),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(t=1/t),this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t){return this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var n=t._x,i=t._y,r=t._z,t=t._w,a=e._x,o=e._y,s=e._z,e=e._w;return this._x=n*e+t*a+i*s-r*o,this._y=i*e+t*o+r*a-n*s,this._z=r*e+t*s+n*o-i*a,this._w=t*e-n*a-i*o-r*s,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0!==e){if(1===e)return this.copy(t);var n,i=this._x,r=this._y,a=this._z,o=this._w,s=o*t._w+i*t._x+r*t._y+a*t._z;s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),1<=s?(this._w=o,this._x=i,this._y=r,this._z=a):(t=1-s*s)<=Number.EPSILON?(this._w=(n=1-e)*o+e*this._w,this._x=n*i+e*this._x,this._y=n*r+e*this._y,this._z=n*a+e*this._z,this.normalize()):(n=Math.sqrt(t),t=Math.atan2(n,s),s=Math.sin((1-e)*t)/n,e=Math.sin(e*t)/n,this._w=o*s+this._w*e,this._x=i*s+this._x*e,this._y=r*s+this._y*e,this._z=a*s+this._z*e,this._onChangeCallback())}return this}},{key:"slerpQuaternions",value:function(t,e,n){return this.copy(t).slerp(e,n)}},{key:"random",value:function(){var t=Math.random(),e=Math.sqrt(1-t),t=Math.sqrt(t),n=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(e*Math.cos(n),t*Math.sin(i),t*Math.cos(i),e*Math.sin(n))}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:_h().mark(function t(){return _h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._x;case 2:return t.next=4,this._y;case 4:return t.next=6,this._z;case 6:return t.next=8,this._w;case 8:case"end":return t.stop()}},t,this)})}],[{key:"slerpFlat",value:function(t,e,n,i,r,a,o){var s,l,u,c=n[i+0],h=n[i+1],d=n[i+2],n=n[i+3],i=r[a+0],f=r[a+1],p=r[a+2],r=r[a+3];0===o?(t[e+0]=c,t[e+1]=h,t[e+2]=d,t[e+3]=n):1===o?(t[e+0]=i,t[e+1]=f,t[e+2]=p,t[e+3]=r):(n===r&&c===i&&h===f&&d===p||(a=1-o,s=0<=(l=c*i+h*f+d*p+n*r)?1:-1,(u=1-l*l)>Number.EPSILON&&(u=Math.sqrt(u),l=Math.atan2(u,l*s),a=Math.sin(a*l)/u,o=Math.sin(o*l)/u),c=c*a+i*(l=o*s),h=h*a+f*l,d=d*a+p*l,n=n*a+r*l,a===1-o&&(c*=u=1/Math.sqrt(c*c+h*h+d*d+n*n),h*=u,d*=u,n*=u)),t[e]=c,t[e+1]=h,t[e+2]=d,t[e+3]=n)}},{key:"multiplyQuaternionsFlat",value:function(t,e,n,i,r,a){var o=n[i],s=n[i+1],l=n[i+2],n=n[i+3],i=r[a],u=r[a+1],c=r[a+2],r=r[a+3];return t[e]=o*r+n*i+s*c-l*u,t[e+1]=s*r+n*u+l*i-o*c,t[e+2]=l*r+n*c+o*u-s*i,t[e+3]=n*r-o*i-s*u-l*c,t}}]),Rd),V=(b(Pd,[{key:"set",value:function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return this.applyQuaternion(pd.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(pd.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=this.z,t=t.elements;return this.x=t[0]*e+t[3]*n+t[6]*i,this.y=t[1]*e+t[4]*n+t[7]*i,this.z=t[2]*e+t[5]*n+t[8]*i,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,t=t.elements,r=1/(t[3]*e+t[7]*n+t[11]*i+t[15]);return this.x=(t[0]*e+t[4]*n+t[8]*i+t[12])*r,this.y=(t[1]*e+t[5]*n+t[9]*i+t[13])*r,this.z=(t[2]*e+t[6]*n+t[10]*i+t[14])*r,this}},{key:"applyQuaternion",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,o=t.z,t=t.w,s=2*(a*i-o*n),l=2*(o*e-r*i),u=2*(r*n-a*e);return this.x=e+t*s+a*u-o*l,this.y=n+t*l+o*s-r*u,this.z=i+t*u+r*l-a*s,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,i=this.z,t=t.elements;return this.x=t[0]*e+t[4]*n+t[8]*i,this.y=t[1]*e+t[5]*n+t[9]*i,this.z=t[2]*e+t[6]*n+t[10]*i,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}},{key:"cross",value:function(t){return this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var n=t.x,i=t.y,t=t.z,r=e.x,a=e.y,e=e.z;return this.x=i*e-t*a,this.y=t*r-n*e,this.z=n*a-i*r,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();return 0===e?this.set(0,0,0):(e=t.dot(this)/e,this.copy(t).multiplyScalar(e))}},{key:"projectOnPlane",value:function(t){return fd.copy(this).projectOnVector(t),this.sub(fd)}},{key:"reflect",value:function(t){return this.sub(fd.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());return 0===e?Math.PI/2:(t=this.dot(t)/e,Math.acos(Uh(t,-1,1)))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,t=this.z-t.z;return e*e+n*n+t*t}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){t=t.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),t=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=t,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"setFromEuler",value:function(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}},{key:"setFromColor",value:function(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(t,2));return this.x=n*Math.cos(e),this.y=n*Math.sin(e),this.z=t,this}},{key:Symbol.iterator,value:_h().mark(function t(){return _h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x;case 2:return t.next=4,this.y;case 4:return t.next=6,this.z;case 6:case"end":return t.stop()}},t,this)})}]),Pd),fd=new V,pd=new dd,vd=(b(kd,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e+=3)this.expandByPoint(gd.fromArray(t,e));return this}},{key:"setFromBufferAttribute",value:function(t){this.makeEmpty();for(var e=0,n=t.count;e<n;e++)this.expandByPoint(gd.fromBufferAttribute(t,e));return this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){e=gd.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(e),this.max.copy(t).add(e),this}},{key:"setFromObject",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(t,e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(t.updateWorldMatrix(!1,!1),t.geometry);if(void 0!==n){var i=n.getAttribute("position");if(!0===e&&void 0!==i&&!0!==t.isInstancedMesh)for(var r=0,a=i.count;r<a;r++)!0===t.isMesh?t.getVertexPosition(r,gd):gd.fromBufferAttribute(i,r),gd.applyMatrix4(t.matrixWorld),this.expandByPoint(gd);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),yd.copy(t.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),yd.copy(n.boundingBox)),yd.applyMatrix4(t.matrixWorld),this.union(yd)}for(var o=t.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],e);return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){return this.clampPoint(t.center,gd),gd.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,n=0<t.normal.x?(e=t.normal.x*this.min.x,t.normal.x*this.max.x):(e=t.normal.x*this.max.x,t.normal.x*this.min.x);return 0<t.normal.y?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),0<t.normal.z?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}},{key:"intersectsTriangle",value:function(t){return!this.isEmpty()&&(this.getCenter(Sd),Cd.subVectors(this.max,Sd),Ad.subVectors(t.a,Sd),xd.subVectors(t.b,Sd),wd.subVectors(t.c,Sd),bd.subVectors(xd,Ad),Md.subVectors(wd,xd),Ed.subVectors(Ad,wd),!!Bd([0,-bd.z,bd.y,0,-Md.z,Md.y,0,-Ed.z,Ed.y,bd.z,0,-bd.x,Md.z,0,-Md.x,Ed.z,0,-Ed.x,-bd.y,bd.x,0,-Md.y,Md.x,0,-Ed.y,Ed.x,0],Ad,xd,wd,Cd))&&!!Bd([1,0,0,0,1,0,0,0,1],Ad,xd,wd,Cd)&&(Td.crossVectors(bd,Md),Bd([Td.x,Td.y,Td.z],Ad,xd,wd,Cd))}},{key:"clampPoint",value:function(t,e){return e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return this.clampPoint(t,gd).distanceTo(t)}},{key:"getBoundingSphere",value:function(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(gd).length()),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(md[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),md[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),md[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),md[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),md[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),md[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),md[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),md[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(md)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),kd),md=[new V,new V,new V,new V,new V,new V,new V,new V],gd=new V,yd=new vd,Ad=new V,xd=new V,wd=new V,bd=new V,Md=new V,Ed=new V,Sd=new V,Cd=new V,Td=new V,_d=new V;function kd(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new V(1/0,1/0,1/0),e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new V(-1/0,-1/0,-1/0);S(this,kd),this.isBox3=!0,this.min=t,this.max=e}function Pd(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;S(this,Pd),Pd.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}function Rd(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;S(this,Rd),this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=i}function Dd(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;S(this,Dd),Dd.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=i}function Bd(t,e,n,i,r){for(var a=0,o=t.length-3;a<=o;a+=3){_d.fromArray(t,a);var s=r.x*Math.abs(_d.x)+r.y*Math.abs(_d.y)+r.z*Math.abs(_d.z),l=e.dot(_d),u=n.dot(_d),c=i.dot(_d);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var Ld=new vd,Id=new V,Od=new V,Ud=(b(of,[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var n=this.center;void 0!==e?n.copy(e):Ld.setFromPoints(t).getCenter(n);for(var i=0,r=0,a=t.length;r<a;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return this.isEmpty()?t.makeEmpty():(t.set(this.center,this.center),t.expandByScalar(this.radius)),t}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"expandByPoint",value:function(t){var e;return this.isEmpty()?(this.center.copy(t),this.radius=0):(Id.subVectors(t,this.center),(t=Id.lengthSq())>this.radius*this.radius&&(e=.5*((t=Math.sqrt(t))-this.radius),this.center.addScaledVector(Id,e/t),this.radius+=e)),this}},{key:"union",value:function(t){return t.isEmpty()||(this.isEmpty()?this.copy(t):!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(Od.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Id.copy(t.center).add(Od)),this.expandByPoint(Id.copy(t.center).sub(Od)))),this}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),of),Nd=new V,zd=new V,Fd=new V,Hd=new V,Gd=new V,Vd=new V,Qd=new V,vc=(b(af,[{key:"set",value:function(t,e){return this.origin.copy(t),this.direction.copy(e),this}},{key:"copy",value:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}},{key:"at",value:function(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}},{key:"lookAt",value:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this}},{key:"recast",value:function(t){return this.origin.copy(this.at(t,Nd)),this}},{key:"closestPointToPoint",value:function(t,e){e.subVectors(t,this.origin);t=e.dot(this.direction);return t<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,t)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=Nd.subVectors(t,this.origin).dot(this.direction);return(e<0?this.origin:(Nd.copy(this.origin).addScaledVector(this.direction,e),Nd)).distanceToSquared(t)}},{key:"distanceSqToSegment",value:function(t,e,n,i){zd.copy(t).add(e).multiplyScalar(.5),Fd.copy(e).sub(t).normalize(),Hd.copy(this.origin).sub(zd);var r,a,o,t=.5*t.distanceTo(e),e=-this.direction.dot(Fd),s=Hd.dot(this.direction),l=-Hd.dot(Fd),u=Hd.lengthSq(),c=Math.abs(1-e*e);return c=0<c?(a=e*s-l,o=t*c,0<=(r=e*l-s)?-o<=a?a<=o?(r*=c=1/c)*(r+e*(a*=c)+2*s)+a*(e*r+a+2*l)+u:(a=t,-(r=Math.max(0,-(e*a+s)))*r+a*(a+2*l)+u):(a=-t,-(r=Math.max(0,-(e*a+s)))*r+a*(a+2*l)+u):a<=-o?-(r=Math.max(0,-(-e*t+s)))*r+(a=0<r?-t:Math.min(Math.max(-t,-l),t))*(a+2*l)+u:a<=o?(r=0,(a=Math.min(Math.max(-t,-l),t))*(a+2*l)+u):-(r=Math.max(0,-(e*t+s)))*r+(a=0<r?t:Math.min(Math.max(-t,-l),t))*(a+2*l)+u):(a=0<e?-t:t,-(r=Math.max(0,-(e*a+s)))*r+a*(a+2*l)+u),n&&n.copy(this.origin).addScaledVector(this.direction,r),i&&i.copy(zd).addScaledVector(Fd,a),c}},{key:"intersectSphere",value:function(t,e){Nd.subVectors(t.center,this.origin);var n=Nd.dot(this.direction),i=Nd.dot(Nd)-n*n,t=t.radius*t.radius;return t<i||(i=n-(t=Math.sqrt(t-i)),(n=n+t)<0)?null:i<0?this.at(n,e):this.at(i,e)}},{key:"intersectsSphere",value:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}},{key:"distanceToPlane",value:function(t){var e=t.normal.dot(this.direction);return 0===e?0===t.distanceToPoint(this.origin)?0:null:0<=(t=-(this.origin.dot(t.normal)+t.constant)/e)?t:null}},{key:"intersectPlane",value:function(t,e){t=this.distanceToPlane(t);return null===t?null:this.at(t,e)}},{key:"intersectsPlane",value:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}},{key:"intersectBox",value:function(t,e){var n,i,r,a=1/this.direction.x,o=1/this.direction.y,s=1/this.direction.z,l=this.origin,a=0<=a?(n=(t.min.x-l.x)*a,(t.max.x-l.x)*a):(n=(t.max.x-l.x)*a,(t.min.x-l.x)*a),o=0<=o?(r=(t.min.y-l.y)*o,(t.max.y-l.y)*o):(r=(t.max.y-l.y)*o,(t.min.y-l.y)*o);return o<n||a<r||((n<r||isNaN(n))&&(n=r),(o<a||isNaN(a))&&(a=o),(r=0<=s?(i=(t.min.z-l.z)*s,(t.max.z-l.z)*s):(i=(t.max.z-l.z)*s,(t.min.z-l.z)*s))<n)||a<i||((n<i||n!=n)&&(n=i),(a=r<a||a!=a?r:a)<0)?null:this.at(0<=n?n:a,e)}},{key:"intersectsBox",value:function(t){return null!==this.intersectBox(t,Nd)}},{key:"intersectTriangle",value:function(t,e,n,i,r){Gd.subVectors(e,t),Vd.subVectors(n,t),Qd.crossVectors(Gd,Vd);var a,e=this.direction.dot(Qd);if(0<e){if(i)return null;a=1}else{if(!(e<0))return null;a=-1,e=-e}Hd.subVectors(this.origin,t);n=a*this.direction.dot(Vd.crossVectors(Hd,Vd));return n<0||(i=a*this.direction.dot(Gd.cross(Hd)))<0||e<n+i||(t=-a*Hd.dot(Qd))<0?null:this.at(t/e,r)}},{key:"applyMatrix4",value:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}},{key:"equals",value:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),af),jd=(b(rf,[{key:"set",value:function(t,e,n,i,r,a,o,s,l,u,c,h,d,f,p,v){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=d,m[7]=f,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new rf).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,t=t.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,t=t.elements;return e[12]=t[12],e[13]=t[13],e[14]=t[14],this}},{key:"setFromMatrix3",value:function(t){t=t.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,i=1/Xd.setFromMatrixColumn(t,0).length(),r=1/Xd.setFromMatrixColumn(t,1).length(),t=1/Xd.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*t,e[9]=n[9]*t,e[10]=n[10]*t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){var e,n,i,r,a=this.elements,o=t.x,s=t.y,l=t.z,u=Math.cos(o),o=Math.sin(o),c=Math.cos(s),s=Math.sin(s),h=Math.cos(l),l=Math.sin(l);return"XYZ"===t.order?(n=u*h,i=u*l,r=o*h,e=o*l,a[0]=c*h,a[4]=-c*l,a[8]=s,a[1]=i+r*s,a[5]=n-e*s,a[9]=-o*c,a[2]=e-n*s,a[6]=r+i*s,a[10]=u*c):"YXZ"===t.order?(e=c*l,n=s*h,a[0]=(r=c*h)+(i=s*l)*o,a[4]=n*o-e,a[8]=u*s,a[1]=u*l,a[5]=u*h,a[9]=-o,a[2]=e*o-n,a[6]=i+r*o,a[10]=u*c):"ZXY"===t.order?(e=c*l,n=s*h,a[0]=(i=c*h)-(r=s*l)*o,a[4]=-u*l,a[8]=n+e*o,a[1]=e+n*o,a[5]=u*h,a[9]=r-i*o,a[2]=-u*s,a[6]=o,a[10]=u*c):"ZYX"===t.order?(e=u*h,n=u*l,r=o*h,i=o*l,a[0]=c*h,a[4]=r*s-n,a[8]=e*s+i,a[1]=c*l,a[5]=i*s+e,a[9]=n*s-r,a[2]=-s,a[6]=o*c,a[10]=u*c):"YZX"===t.order?(i=u*c,e=u*s,n=o*c,r=o*s,a[0]=c*h,a[4]=r-i*l,a[8]=n*l+e,a[1]=l,a[5]=u*h,a[9]=-o*h,a[2]=-s*h,a[6]=e*l+n,a[10]=i-r*l):"XZY"===t.order&&(e=u*c,n=u*s,i=o*c,r=o*s,a[0]=c*h,a[4]=-l,a[8]=s*h,a[1]=e*l+r,a[5]=u*h,a[9]=n*l-i,a[2]=i*l-n,a[6]=o*h,a[10]=r*l+e),a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(Yd,t,Jd)}},{key:"lookAt",value:function(t,e,n){var i=this.elements;return Zd.subVectors(t,e),0===Zd.lengthSq()&&(Zd.z=1),Zd.normalize(),Kd.crossVectors(n,Zd),0===Kd.lengthSq()&&(1===Math.abs(n.z)?Zd.x+=1e-4:Zd.z+=1e-4,Zd.normalize(),Kd.crossVectors(n,Zd)),Kd.normalize(),qd.crossVectors(Zd,Kd),i[0]=Kd.x,i[4]=qd.x,i[8]=Zd.x,i[1]=Kd.y,i[5]=qd.y,i[9]=Zd.y,i[2]=Kd.z,i[6]=qd.z,i[10]=Zd.z,this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var t=t.elements,e=e.elements,n=this.elements,i=t[0],r=t[4],a=t[8],o=t[12],s=t[1],l=t[5],u=t[9],c=t[13],h=t[2],d=t[6],f=t[10],p=t[14],v=t[3],m=t[7],g=t[11],t=t[15],y=e[0],A=e[4],x=e[8],w=e[12],b=e[1],M=e[5],E=e[9],S=e[13],C=e[2],T=e[6],_=e[10],k=e[14],P=e[3],R=e[7],D=e[11],e=e[15];return n[0]=i*y+r*b+a*C+o*P,n[4]=i*A+r*M+a*T+o*R,n[8]=i*x+r*E+a*_+o*D,n[12]=i*w+r*S+a*k+o*e,n[1]=s*y+l*b+u*C+c*P,n[5]=s*A+l*M+u*T+c*R,n[9]=s*x+l*E+u*_+c*D,n[13]=s*w+l*S+u*k+c*e,n[2]=h*y+d*b+f*C+p*P,n[6]=h*A+d*M+f*T+p*R,n[10]=h*x+d*E+f*_+p*D,n[14]=h*w+d*S+f*k+p*e,n[3]=v*y+m*b+g*C+t*P,n[7]=v*A+m*M+g*T+t*R,n[11]=v*x+m*E+g*_+t*D,n[15]=v*w+m*S+g*k+t*e,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],a=t[1],o=t[5],s=t[9],l=t[13],u=t[2],c=t[6],h=t[10],d=t[14];return t[3]*(+r*s*c-i*l*c-r*o*h+n*l*h+i*o*d-n*s*d)+t[7]*(+e*s*d-e*l*h+r*a*h-i*a*d+i*l*u-r*s*u)+t[11]*(+e*l*c-e*o*d-r*a*c+n*a*d+r*o*u-n*l*u)+t[15]*(-i*o*u-e*s*c+e*o*h+i*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var t=this.elements,e=t[1];return t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],f=t[12],p=t[13],v=t[14],m=t[15],g=c*v*l-p*h*l+p*s*d-o*v*d-c*s*m+o*h*m,y=f*h*l-u*v*l-f*s*d+a*v*d+u*s*m-a*h*m,A=u*p*l-f*c*l+f*o*d-a*p*d-u*o*m+a*c*m,x=f*c*s-u*p*s-f*o*h+a*p*h+u*o*v-a*c*v,w=e*g+n*y+i*A+r*x;return 0==w?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(t[0]=g*(g=1/w),t[1]=(p*h*r-c*v*r-p*i*d+n*v*d+c*i*m-n*h*m)*g,t[2]=(o*v*r-p*s*r+p*i*l-n*v*l-o*i*m+n*s*m)*g,t[3]=(c*s*r-o*h*r-c*i*l+n*h*l+o*i*d-n*s*d)*g,t[4]=y*g,t[5]=(u*v*r-f*h*r+f*i*d-e*v*d-u*i*m+e*h*m)*g,t[6]=(f*s*r-a*v*r-f*i*l+e*v*l+a*i*m-e*s*m)*g,t[7]=(a*h*r-u*s*r+u*i*l-e*h*l-a*i*d+e*s*d)*g,t[8]=A*g,t[9]=(f*c*r-u*p*r-f*n*d+e*p*d+u*n*m-e*c*m)*g,t[10]=(a*p*r-f*o*r+f*n*l-e*p*l-a*n*m+e*o*m)*g,t[11]=(u*o*r-a*c*r-u*n*l+e*c*l+a*n*d-e*o*d)*g,t[12]=x*g,t[13]=(u*p*i-f*c*i+f*n*h-e*p*h-u*n*v+e*c*v)*g,t[14]=(f*o*i-a*p*i-f*n*s+e*p*s+a*n*v-e*o*v)*g,t[15]=(a*c*i-u*o*i+u*n*s-e*c*s-a*n*h+e*o*h)*g,this)}},{key:"scale",value:function(t){var e=this.elements,n=t.x,i=t.y,t=t.z;return e[0]*=n,e[4]*=i,e[8]*=t,e[1]*=n,e[5]*=i,e[9]*=t,e[2]*=n,e[6]*=i,e[10]*=t,e[3]*=n,e[7]*=i,e[11]*=t,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,t))}},{key:"makeTranslation",value:function(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),t=Math.sin(t);return this.set(1,0,0,0,0,e,-t,0,0,t,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),t=Math.sin(t);return this.set(e,0,t,0,0,1,0,0,-t,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),t=Math.sin(t);return this.set(e,-t,0,0,t,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),e=Math.sin(e),i=1-n,r=t.x,a=t.y,t=t.z,o=i*r,s=i*a;return this.set(o*r+n,o*a-e*t,o*t+e*a,0,o*a+e*t,s*a+n,s*t-e*r,0,o*t-e*a,s*t+e*r,i*t*t+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n,i,r,a){return this.set(1,n,r,0,t,1,a,0,e,i,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var i=this.elements,r=e._x,a=e._y,o=e._z,e=e._w,s=r+r,l=a+a,u=o+o,c=r*s,h=r*l,r=r*u,d=a*l,a=a*u,o=o*u,s=e*s,l=e*l,e=e*u,u=n.x,f=n.y,n=n.z;return i[0]=(1-(d+o))*u,i[1]=(h+e)*u,i[2]=(r-l)*u,i[3]=0,i[4]=(h-e)*f,i[5]=(1-(c+o))*f,i[6]=(a+s)*f,i[7]=0,i[8]=(r+l)*n,i[9]=(a-s)*n,i[10]=(1-(c+d))*n,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}},{key:"decompose",value:function(t,e,n){var i=this.elements,r=Xd.set(i[0],i[1],i[2]).length(),a=Xd.set(i[4],i[5],i[6]).length(),o=Xd.set(i[8],i[9],i[10]).length(),t=(this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],Wd.copy(this),1/r),i=1/a,s=1/o;return Wd.elements[0]*=t,Wd.elements[1]*=t,Wd.elements[2]*=t,Wd.elements[4]*=i,Wd.elements[5]*=i,Wd.elements[6]*=i,Wd.elements[8]*=s,Wd.elements[9]*=s,Wd.elements[10]*=s,e.setFromRotationMatrix(Wd),n.x=r,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(t,e,n,i,r,a){var o,s,l=6<arguments.length&&void 0!==arguments[6]?arguments[6]:2e3,u=this.elements,c=2*r/(e-t),h=2*r/(n-i),e=(e+t)/(e-t),t=(n+i)/(n-i);if(2e3===l)o=-(a+r)/(a-r),s=-2*a*r/(a-r);else{if(2001!==l)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);o=-a/(a-r),s=-a*r/(a-r)}return u[0]=c,u[4]=0,u[8]=e,u[12]=0,u[1]=0,u[5]=h,u[9]=t,u[13]=0,u[2]=0,u[6]=0,u[10]=o,u[14]=s,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}},{key:"makeOrthographic",value:function(t,e,n,i,r,a){var o,s,l=6<arguments.length&&void 0!==arguments[6]?arguments[6]:2e3,u=this.elements,c=1/(e-t),h=1/(n-i),d=1/(a-r),e=(e+t)*c,t=(n+i)*h;if(2e3===l)o=(a+r)*d,s=-2*d;else{if(2001!==l)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);o=r*d,s=-1*d}return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-e,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-t,u[2]=0,u[6]=0,u[10]=s,u[14]=-o,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}]),rf),Xd=new V,Wd=new jd,Yd=new V(0,0,0),Jd=new V(1,1,1),Kd=new V,qd=new V,Zd=new V,$d=new jd,tf=new dd,ef=(b(nf,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=t,this._y=e,this._z=n,this._order=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._order,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],t=t.elements,i=t[0],r=t[4],a=t[8],o=t[1],s=t[5],l=t[9],u=t[2],c=t[6],h=t[10];switch(e){case"XYZ":this._y=Math.asin(Uh(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,h),this._z=Math.atan2(-r,i)):(this._x=Math.atan2(c,s),this._z=0);break;case"YXZ":this._x=Math.asin(-Uh(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(o,s)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(Uh(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-r,s)):(this._y=0,this._z=Math.atan2(o,i));break;case"ZYX":this._y=Math.asin(-Uh(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(c,h),this._z=Math.atan2(o,i)):(this._x=0,this._z=Math.atan2(-r,s));break;case"YZX":this._z=Math.asin(Uh(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,s),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Uh(r,-1,1)),Math.abs(r)<.9999999?(this._x=Math.atan2(c,s),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-l,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,n){return $d.makeRotationFromQuaternion(t),this.setFromRotationMatrix($d,e,n)}},{key:"setFromVector3",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(t.x,t.y,t.z,e)}},{key:"reorder",value:function(t){return tf.setFromEuler(this),this.setFromQuaternion(tf,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:_h().mark(function t(){return _h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._x;case 2:return t.next=4,this._y;case 4:return t.next=6,this._z;case 6:return t.next=8,this._order;case 8:case"end":return t.stop()}},t,this)})}]),nf);function nf(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:nf.DEFAULT_ORDER;S(this,nf),this.isEuler=!0,this._x=t,this._y=e,this._z=n,this._order=i}function rf(t,e,n,i,r,a,o,s,l,u,c,h,d,f,p,v){S(this,rf),rf.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,n,i,r,a,o,s,l,u,c,h,d,f,p,v)}function af(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new V,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new V(0,0,-1);S(this,af),this.origin=t,this.direction=e}function of(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new V,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;S(this,of),this.isSphere=!0,this.center=t,this.radius=e}ef.DEFAULT_ORDER="XYZ";b(Mf,[{key:"set",value:function(t){this.mask=(1<<t|0)>>>0}},{key:"enable",value:function(t){this.mask|=1<<t|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(t){this.mask^=1<<t|0}},{key:"disable",value:function(t){this.mask&=~(1<<t|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(t){return 0!=(this.mask&t.mask)}},{key:"isEnabled",value:function(t){return 0!=(this.mask&(1<<t|0))}}]);var sf,lf=Mf,uf=0,cf=new V,hf=new dd,df=new jd,ff=new V,pf=new V,vf=new V,mf=new dd,gf=new V(1,0,0),yf=new V(0,1,0),Af=new V(0,0,1),xf={type:"added"},wf={type:"removed"},x=(bh(bf,oc),sf=Eh(bf),b(bf,[{key:"onBeforeShadow",value:function(){}},{key:"onAfterShadow",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(t){return this.quaternion.premultiply(t),this}},{key:"setRotationFromAxisAngle",value:function(t,e){this.quaternion.setFromAxisAngle(t,e)}},{key:"setRotationFromEuler",value:function(t){this.quaternion.setFromEuler(t,!0)}},{key:"setRotationFromMatrix",value:function(t){this.quaternion.setFromRotationMatrix(t)}},{key:"setRotationFromQuaternion",value:function(t){this.quaternion.copy(t)}},{key:"rotateOnAxis",value:function(t,e){return hf.setFromAxisAngle(t,e),this.quaternion.multiply(hf),this}},{key:"rotateOnWorldAxis",value:function(t,e){return hf.setFromAxisAngle(t,e),this.quaternion.premultiply(hf),this}},{key:"rotateX",value:function(t){return this.rotateOnAxis(gf,t)}},{key:"rotateY",value:function(t){return this.rotateOnAxis(yf,t)}},{key:"rotateZ",value:function(t){return this.rotateOnAxis(Af,t)}},{key:"translateOnAxis",value:function(t,e){return cf.copy(t).applyQuaternion(this.quaternion),this.position.add(cf.multiplyScalar(e)),this}},{key:"translateX",value:function(t){return this.translateOnAxis(gf,t)}},{key:"translateY",value:function(t){return this.translateOnAxis(yf,t)}},{key:"translateZ",value:function(t){return this.translateOnAxis(Af,t)}},{key:"localToWorld",value:function(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(df.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(t,e,n){t.isVector3?ff.copy(t):ff.set(t,e,n);t=this.parent;this.updateWorldMatrix(!0,!1),pf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?df.lookAt(pf,ff,this.up):df.lookAt(ff,pf,this.up),this.quaternion.setFromRotationMatrix(df),t&&(df.extractRotation(t.matrixWorld),hf.setFromRotationMatrix(df),this.quaternion.premultiply(hf.invert()))}},{key:"add",value:function(t){if(1<arguments.length)for(var e=0;e<arguments.length;e++)this.add(arguments[e]);else t===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",t):t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),(t.parent=this).children.push(t),t.dispatchEvent(xf)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t);return this}},{key:"remove",value:function(t){if(1<arguments.length)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);else{var n=this.children.indexOf(t);-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(wf))}return this}},{key:"removeFromParent",value:function(){var t=this.parent;return null!==t&&t.remove(this),this}},{key:"clear",value:function(){return this.remove.apply(this,function(t){if(Array.isArray(t))return wh(t)}(t=this.children)||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||function(t){var e;if(t)return"string"==typeof t?wh(t,void 0):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?wh(t,void 0):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var t}},{key:"attach",value:function(t){return this.updateWorldMatrix(!0,!1),df.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),df.multiply(t.parent.matrixWorld)),t.applyMatrix4(df),this.add(t),t.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(t){return this.getObjectByProperty("id",t)}},{key:"getObjectByName",value:function(t){return this.getObjectByProperty("name",t)}},{key:"getObjectByProperty",value:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}}},{key:"getObjectsByProperty",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];this[t]===e&&n.push(this);for(var i=this.children,r=0,a=i.length;r<a;r++)i[r].getObjectsByProperty(t,e,n);return n}},{key:"getWorldPosition",value:function(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pf,t,vf),t}},{key:"getWorldScale",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pf,mf,t),t}},{key:"getWorldDirection",value:function(t){this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)}},{key:"traverseVisible",value:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}}},{key:"traverseAncestors",value:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t=!(this.matrixWorldNeedsUpdate=!1));for(var e=this.children,n=0,i=e.length;n<i;n++){var r=e[n];!0!==r.matrixWorldAutoUpdate&&!0!==t||r.updateMatrixWorld(t)}}},{key:"updateWorldMatrix",value:function(t,e){var n=this.parent;if(!0===t&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,a=i.length;r<a;r++){var o=i[r];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(n){var t,e,i,r,a,o,s=void 0===n||"string"==typeof n,l={},u=(s&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},l.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"}),{});function c(t,e){return void 0===t[e.uuid]&&(t[e.uuid]=e.toJSON(n)),e.uuid}if(u.uuid=this.uuid,u.type=this.type,""!==this.name&&(u.name=this.name),!0===this.castShadow&&(u.castShadow=!0),!0===this.receiveShadow&&(u.receiveShadow=!0),!1===this.visible&&(u.visible=!1),!1===this.frustumCulled&&(u.frustumCulled=!1),0!==this.renderOrder&&(u.renderOrder=this.renderOrder),0<Object.keys(this.userData).length&&(u.userData=this.userData),u.layers=this.layers.mask,u.matrix=this.matrix.toArray(),u.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(u.matrixAutoUpdate=!1),this.isInstancedMesh&&(u.type="InstancedMesh",u.count=this.count,u.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor)&&(u.instanceColor=this.instanceColor.toJSON()),this.isBatchedMesh&&(u.type="BatchedMesh",u.perObjectFrustumCulled=this.perObjectFrustumCulled,u.sortObjects=this.sortObjects,u.drawRanges=this._drawRanges,u.reservedRanges=this._reservedRanges,u.visibility=this._visibility,u.active=this._active,u.bounds=this._bounds.map(function(t){return{boxInitialized:t.boxInitialized,boxMin:t.box.min.toArray(),boxMax:t.box.max.toArray(),sphereInitialized:t.sphereInitialized,sphereRadius:t.sphere.radius,sphereCenter:t.sphere.center.toArray()}}),u.maxGeometryCount=this._maxGeometryCount,u.maxVertexCount=this._maxVertexCount,u.maxIndexCount=this._maxIndexCount,u.geometryInitialized=this._geometryInitialized,u.geometryCount=this._geometryCount,u.matricesTexture=this._matricesTexture.toJSON(n),null!==this.boundingSphere&&(u.boundingSphere={center:u.boundingSphere.center.toArray(),radius:u.boundingSphere.radius}),null!==this.boundingBox)&&(u.boundingBox={min:u.boundingBox.min.toArray(),max:u.boundingBox.max.toArray()}),this.isScene)this.background&&(this.background.isColor?u.background=this.background.toJSON():this.background.isTexture&&(u.background=this.background.toJSON(n).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(u.environment=this.environment.toJSON(n).uuid);else if(this.isMesh||this.isLine||this.isPoints){u.geometry=c(n.geometries,this.geometry);var h=this.geometry.parameters;if(void 0!==h&&void 0!==h.shapes){var d=h.shapes;if(Array.isArray(d))for(var f=0,p=d.length;f<p;f++){var v=d[f];c(n.shapes,v)}else c(n.shapes,d)}}if(this.isSkinnedMesh&&(u.bindMode=this.bindMode,u.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton)&&(c(n.skeletons,this.skeleton),u.skeleton=this.skeleton.uuid),void 0!==this.material)if(Array.isArray(this.material)){for(var m=[],g=0,y=this.material.length;g<y;g++)m.push(c(n.materials,this.material[g]));u.material=m}else u.material=c(n.materials,this.material);if(0<this.children.length){u.children=[];for(var A=0;A<this.children.length;A++)u.children.push(this.children[A].toJSON(n).object)}if(0<this.animations.length){u.animations=[];for(var x=0;x<this.animations.length;x++){var w=this.animations[x];u.animations.push(c(n.animations,w))}}return s&&(h=b(n.geometries),s=b(n.materials),t=b(n.textures),e=b(n.images),i=b(n.shapes),r=b(n.skeletons),a=b(n.animations),o=b(n.nodes),0<h.length&&(l.geometries=h),0<s.length&&(l.materials=s),0<t.length&&(l.textures=t),0<e.length&&(l.images=e),0<i.length&&(l.shapes=i),0<r.length&&(l.skeletons=r),0<a.length&&(l.animations=a),0<o.length)&&(l.nodes=o),l.object=u,l;function b(t){var e,n=[];for(e in t){var i=t[e];delete i.metadata,n.push(i)}return n}}},{key:"clone",value:function(t){return(new this.constructor).copy(this,t)}},{key:"copy",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var i=t.children[n];this.add(i.clone())}return this}}]),bf);function bf(){S(this,bf),(t=sf.call(this)).isObject3D=!0,Object.defineProperty(Sh(t),"id",{value:uf++}),t.uuid=Oh(),t.name="",t.type="Object3D",t.parent=null,t.children=[],t.up=bf.DEFAULT_UP.clone();var t,e=new V,n=new ef,i=new dd,r=new V(1,1,1);return n._onChange(function(){i.setFromEuler(n,!1)}),i._onChange(function(){n.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(Sh(t),{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new jd},normalMatrix:{value:new Fh}}),t.matrix=new jd,t.matrixWorld=new jd,t.matrixAutoUpdate=bf.DEFAULT_MATRIX_AUTO_UPDATE,t.matrixWorldAutoUpdate=bf.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,t.matrixWorldNeedsUpdate=!1,t.layers=new lf,t.visible=!0,t.castShadow=!1,t.receiveShadow=!1,t.frustumCulled=!0,t.renderOrder=0,t.animations=[],t.userData={},t}function Mf(){S(this,Mf),this.mask=1}x.DEFAULT_UP=new V(0,1,0),x.DEFAULT_MATRIX_AUTO_UPDATE=!0,x.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Ef=new V,Sf=new V,Cf=new V,Tf=new V,_f=new V,kf=new V,Pf=new V,Rf=new V,Df=new V,Bf=new V,Lf=(b(Nf,[{key:"set",value:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}},{key:"setFromAttributeAndIndices",value:function(t,e,n,i){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,i),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}},{key:"getArea",value:function(){return Ef.subVectors(this.c,this.b),Sf.subVectors(this.a,this.b),.5*Ef.cross(Sf).length()}},{key:"getMidpoint",value:function(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return Nf.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,e){return Nf.getBarycoord(t,this.a,this.b,this.c,e)}},{key:"getInterpolation",value:function(t,e,n,i,r){return Nf.getInterpolation(t,this.a,this.b,this.c,e,n,i,r)}},{key:"containsPoint",value:function(t){return Nf.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return Nf.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(t){return t.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(t,e){var n=this.a,i=this.b,r=this.c,a=(_f.subVectors(i,n),kf.subVectors(r,n),Rf.subVectors(t,n),_f.dot(Rf)),o=kf.dot(Rf);if(a<=0&&o<=0)return e.copy(n);Df.subVectors(t,i);var s=_f.dot(Df),l=kf.dot(Df);if(0<=s&&l<=s)return e.copy(i);var u=a*l-s*o;if(u<=0&&0<=a&&s<=0)return c=a/(a-s),e.copy(n).addScaledVector(_f,c);Bf.subVectors(t,r);var c,h,t=_f.dot(Bf),d=kf.dot(Bf);return 0<=d&&t<=d?e.copy(r):(a=t*o-a*d)<=0&&0<=o&&d<=0?(h=o/(o-d),e.copy(n).addScaledVector(kf,h)):(o=s*d-t*l)<=0&&0<=l-s&&0<=t-d?(Pf.subVectors(r,i),h=(l-s)/(l-s+(t-d)),e.copy(i).addScaledVector(Pf,h)):(c=a*(r=1/(o+a+u)),h=u*r,e.copy(n).addScaledVector(_f,c).addScaledVector(kf,h))}},{key:"equals",value:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}],[{key:"getNormal",value:function(t,e,n,i){i.subVectors(n,e),Ef.subVectors(t,e),i.cross(Ef);n=i.lengthSq();return 0<n?i.multiplyScalar(1/Math.sqrt(n)):i.set(0,0,0)}},{key:"getBarycoord",value:function(t,e,n,i,r){Ef.subVectors(i,e),Sf.subVectors(n,e),Cf.subVectors(t,e);var i=Ef.dot(Ef),n=Ef.dot(Sf),t=Ef.dot(Cf),e=Sf.dot(Sf),a=Sf.dot(Cf),o=i*e-n*n;return 0==o?(r.set(0,0,0),null):r.set(1-(e=(e*t-n*a)*(r=1/o))-(o=(i*a-n*t)*r),o,e)}},{key:"containsPoint",value:function(t,e,n,i){return null!==this.getBarycoord(t,e,n,i,Tf)&&0<=Tf.x&&0<=Tf.y&&Tf.x+Tf.y<=1}},{key:"getInterpolation",value:function(t,e,n,i,r,a,o,s){return null===this.getBarycoord(t,e,n,i,Tf)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(r,Tf.x),s.addScaledVector(a,Tf.y),s.addScaledVector(o,Tf.z),s)}},{key:"isFrontFacing",value:function(t,e,n,i){return Ef.subVectors(n,e),Sf.subVectors(t,e),Ef.cross(Sf).dot(i)<0}}]),Nf),If={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Of={h:0,s:0,l:0},Uf={h:0,s:0,l:0};function Nf(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new V,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new V,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new V;S(this,Nf),this.a=t,this.b=e,this.c=n}function zf(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}b(Gf,[{key:"set",value:function(t,e,n){var i;return void 0===e&&void 0===n?(i=t)&&i.isColor?this.copy(i):"number"==typeof i?this.setHex(i):"string"==typeof i&&this.setStyle(i):this.setRGB(t,e,n),this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"srgb";return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Zh.toWorkingColorSpace(this,e),this}},{key:"setRGB",value:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Zh.workingColorSpace;return this.r=t,this.g=e,this.b=n,Zh.toWorkingColorSpace(this,i),this}},{key:"setHSL",value:function(t,e,n){var i,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Zh.workingColorSpace;return t=(t%(i=1)+i)%i,e=Uh(e,0,1),n=Uh(n,0,1),0===e?this.r=this.g=this.b=n:(this.r=zf(n=2*n-(i=n<=.5?n*(1+e):n+e-n*e),i,t+1/3),this.g=zf(n,i,t),this.b=zf(n,i,t-1/3)),Zh.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"srgb";function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,r=o[1],a=o[2];switch(r){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,t);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,t);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){var r=o[1],o=r.length;if(3===o)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&0<e.length)return this.setColorName(e,t);return this}},{key:"setColorName",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"srgb",n=If[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copySRGBToLinear",value:function(t){return this.r=$h(t.r),this.g=$h(t.g),this.b=$h(t.b),this}},{key:"copyLinearToSRGB",value:function(t){return this.r=td(t.r),this.g=td(t.g),this.b=td(t.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"srgb";return Zh.fromWorkingColorSpace(Hf.copy(this),t),65536*Math.round(Uh(255*Hf.r,0,255))+256*Math.round(Uh(255*Hf.g,0,255))+Math.round(Uh(255*Hf.b,0,255))}},{key:"getHexString",value:function(){return("000000"+this.getHex(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"srgb").toString(16)).slice(-6)}},{key:"getHSL",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Zh.workingColorSpace;Zh.fromWorkingColorSpace(Hf.copy(this),e);var n,i=Hf.r,r=Hf.g,a=Hf.b,e=Math.max(i,r,a),o=Math.min(i,r,a),s=(o+e)/2;if(o===e)u=n=0;else{var l=e-o,u=s<=.5?l/(e+o):l/(2-e-o);switch(e){case i:n=(r-a)/l+(r<a?6:0);break;case r:n=(a-i)/l+2;break;case a:n=(i-r)/l+4}n/=6}return t.h=n,t.s=u,t.l=s,t}},{key:"getRGB",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Zh.workingColorSpace;return Zh.fromWorkingColorSpace(Hf.copy(this),e),t.r=Hf.r,t.g=Hf.g,t.b=Hf.b,t}},{key:"getStyle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"srgb",e=(Zh.fromWorkingColorSpace(Hf.copy(this),t),Hf.r),n=Hf.g,i=Hf.b;return"srgb"!==t?"color(".concat(t," ").concat(e.toFixed(3)," ").concat(n.toFixed(3)," ").concat(i.toFixed(3),")"):"rgb(".concat(Math.round(255*e),",").concat(Math.round(255*n),",").concat(Math.round(255*i),")")}},{key:"offsetHSL",value:function(t,e,n){return this.getHSL(Of),this.setHSL(Of.h+t,Of.s+e,Of.l+n)}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(t){return this.r+=t,this.g+=t,this.b+=t,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"lerpColors",value:function(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}},{key:"lerpHSL",value:function(t,e){this.getHSL(Of),t.getHSL(Uf);var t=Nh(Of.h,Uf.h,e),n=Nh(Of.s,Uf.s,e),e=Nh(Of.l,Uf.l,e);return this.setHSL(t,n,e),this}},{key:"setFromVector3",value:function(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}},{key:"applyMatrix3",value:function(t){var e=this.r,n=this.g,i=this.b,t=t.elements;return this.r=t[0]*e+t[3]*n+t[6]*i,this.g=t[1]*e+t[4]*n+t[7]*i,this.b=t[2]*e+t[5]*n+t[8]*i,this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},{key:"fromBufferAttribute",value:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:_h().mark(function t(){return _h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.r;case 2:return t.next=4,this.g;case 4:return t.next=6,this.b;case 6:case"end":return t.stop()}},t,this)})}]);var Ff=Gf,Hf=new Ff;function Gf(t,e,n){return S(this,Gf),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}Ff.NAMES=If;var Vf,Qf,jf,Xf,Wf,Yf,Jf,Kf=0,hc=(bh(Up,oc),Jf=Eh(Up),b(Up,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(t){0<this._alphaTest!=0<t&&this.version++,this._alphaTest=t}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(t){if(void 0!==t)for(var e in t){var n,i=t[e];void 0!==i?void 0!==(n=this[e])?n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[e]=i:console.warn("THREE.Material: '".concat(e,"' is not a property of THREE.").concat(this.type,".")):console.warn("THREE.Material: parameter '".concat(e,"' has value of undefined."))}}},{key:"toJSON",value:function(t){var e=void 0===t||"string"==typeof t,n=(e&&(t={textures:{},images:{}}),{metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}});function i(t){var e,n=[];for(e in t){var i=t[e];delete i.metadata,n.push(i)}return n}return n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine)&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),100!==this.blendEquation&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),7680!==this.stencilFail&&(n.stencilFail=this.stencilFail),7680!==this.stencilZFail&&(n.stencilZFail=this.stencilZFail),7680!==this.stencilZPass&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),0<Object.keys(this.userData).length&&(n.userData=this.userData),e&&(e=i(t.textures),t=i(t.images),0<e.length&&(n.textures=e),0<t.length)&&(n.images=t),n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,n=null;if(null!==e)for(var i=e.length,n=new Array(i),r=0;r!==i;++r)n[r]=e[r].clone();return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}}]),Up),qf=(bh(Op,hc),Yf=Eh(Op),b(Op,[{key:"copy",value:function(t){return xh(Ch(Op.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}]),Op),Zf=new V,$f=new G,tp=(b(Ip,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"updateRange",get:function(){return Xh("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}},{key:"setUsage",value:function(t){return this.usage=t,this}},{key:"addUpdateRange",value:function(t,e){this.updateRanges.push({start:t,count:e})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}},{key:"copyAt",value:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this}},{key:"copyArray",value:function(t){return this.array.set(t),this}},{key:"applyMatrix3",value:function(t){if(2===this.itemSize)for(var e=0,n=this.count;e<n;e++)$f.fromBufferAttribute(this,e),$f.applyMatrix3(t),this.setXY(e,$f.x,$f.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)Zf.fromBufferAttribute(this,i),Zf.applyMatrix3(t),this.setXYZ(i,Zf.x,Zf.y,Zf.z);return this}},{key:"applyMatrix4",value:function(t){for(var e=0,n=this.count;e<n;e++)Zf.fromBufferAttribute(this,e),Zf.applyMatrix4(t),this.setXYZ(e,Zf.x,Zf.y,Zf.z);return this}},{key:"applyNormalMatrix",value:function(t){for(var e=0,n=this.count;e<n;e++)Zf.fromBufferAttribute(this,e),Zf.applyNormalMatrix(t),this.setXYZ(e,Zf.x,Zf.y,Zf.z);return this}},{key:"transformDirection",value:function(t){for(var e=0,n=this.count;e<n;e++)Zf.fromBufferAttribute(this,e),Zf.transformDirection(t),this.setXYZ(e,Zf.x,Zf.y,Zf.z);return this}},{key:"set",value:function(t){return this.array.set(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0),this}},{key:"getComponent",value:function(t,e){t=this.array[t*this.itemSize+e];return t=this.normalized?zh(t,this.array):t}},{key:"setComponent",value:function(t,e,n){return this.normalized&&(n=M(n,this.array)),this.array[t*this.itemSize+e]=n,this}},{key:"getX",value:function(t){t=this.array[t*this.itemSize];return t=this.normalized?zh(t,this.array):t}},{key:"setX",value:function(t,e){return this.normalized&&(e=M(e,this.array)),this.array[t*this.itemSize]=e,this}},{key:"getY",value:function(t){t=this.array[t*this.itemSize+1];return t=this.normalized?zh(t,this.array):t}},{key:"setY",value:function(t,e){return this.normalized&&(e=M(e,this.array)),this.array[t*this.itemSize+1]=e,this}},{key:"getZ",value:function(t){t=this.array[t*this.itemSize+2];return t=this.normalized?zh(t,this.array):t}},{key:"setZ",value:function(t,e){return this.normalized&&(e=M(e,this.array)),this.array[t*this.itemSize+2]=e,this}},{key:"getW",value:function(t){t=this.array[t*this.itemSize+3];return t=this.normalized?zh(t,this.array):t}},{key:"setW",value:function(t,e){return this.normalized&&(e=M(e,this.array)),this.array[t*this.itemSize+3]=e,this}},{key:"setXY",value:function(t,e,n){return t*=this.itemSize,this.normalized&&(e=M(e,this.array),n=M(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}},{key:"setXYZ",value:function(t,e,n,i){return t*=this.itemSize,this.normalized&&(e=M(e,this.array),n=M(n,this.array),i=M(i,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this}},{key:"setXYZW",value:function(t,e,n,i,r){return t*=this.itemSize,this.normalized&&(e=M(e,this.array),n=M(n,this.array),i=M(i,this.array),r=M(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this}},{key:"onUpload",value:function(t){return this.onUploadCallback=t,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),t}}]),Ip),ep=(bh(Lp,tp),Wf=Eh(Lp),b(Lp)),np=(bh(Bp,tp),Xf=Eh(Bp),b(Bp)),ip=(bh(Dp,tp),jf=Eh(Dp),b(Dp)),rp=0,ap=new jd,op=new x,sp=new V,lp=new vd,up=new vd,cp=new V,hp=(bh(Rp,oc),Qf=Eh(Rp),b(Rp,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){return Array.isArray(t)?this.index=new(function(t){for(var e=t.length-1;0<=e;--e)if(65535<=t[e])return 1}(t)?np:ep)(t,1):this.index=t,this}},{key:"getAttribute",value:function(t){return this.attributes[t]}},{key:"setAttribute",value:function(t,e){return this.attributes[t]=e,this}},{key:"deleteAttribute",value:function(t){return delete this.attributes[t],this}},{key:"hasAttribute",value:function(t){return void 0!==this.attributes[t]}},{key:"addGroup",value:function(t,e){this.groups.push({start:t,count:e,materialIndex:2<arguments.length&&void 0!==arguments[2]?arguments[2]:0})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(t,e){this.drawRange.start=t,this.drawRange.count=e}},{key:"applyMatrix4",value:function(t){var e=this.attributes.position,e=(void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0),this.attributes.normal),n=(void 0!==e&&(n=(new Fh).getNormalMatrix(t),e.applyNormalMatrix(n),e.needsUpdate=!0),this.attributes.tangent);return void 0!==n&&(n.transformDirection(t),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(t){return ap.makeRotationFromQuaternion(t),this.applyMatrix4(ap),this}},{key:"rotateX",value:function(t){return ap.makeRotationX(t),this.applyMatrix4(ap),this}},{key:"rotateY",value:function(t){return ap.makeRotationY(t),this.applyMatrix4(ap),this}},{key:"rotateZ",value:function(t){return ap.makeRotationZ(t),this.applyMatrix4(ap),this}},{key:"translate",value:function(t,e,n){return ap.makeTranslation(t,e,n),this.applyMatrix4(ap),this}},{key:"scale",value:function(t,e,n){return ap.makeScale(t,e,n),this.applyMatrix4(ap),this}},{key:"lookAt",value:function(t){return op.lookAt(t),op.updateMatrix(),this.applyMatrix4(op.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(sp).negate(),this.translate(sp.x,sp.y,sp.z),this}},{key:"setFromPoints",value:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new ip(e,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new vd);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new V(-1/0,-1/0,-1/0),new V(1/0,1/0,1/0));else{if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,i=e.length;n<i;n++){var r=e[n];lp.setFromBufferAttribute(r),this.morphTargetsRelative?(cp.addVectors(this.boundingBox.min,lp.min),this.boundingBox.expandByPoint(cp),cp.addVectors(this.boundingBox.max,lp.max),this.boundingBox.expandByPoint(cp)):(this.boundingBox.expandByPoint(lp.min),this.boundingBox.expandByPoint(lp.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Ud);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new V,1/0);else if(t){var n=this.boundingSphere.center;if(lp.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++){var a=e[i];up.setFromBufferAttribute(a),this.morphTargetsRelative?(cp.addVectors(lp.min,up.min),lp.expandByPoint(cp),cp.addVectors(lp.max,up.max),lp.expandByPoint(cp)):(lp.expandByPoint(up.min),lp.expandByPoint(up.max))}lp.getCenter(n);for(var o=0,s=0,l=t.count;s<l;s++)cp.fromBufferAttribute(t,s),o=Math.max(o,n.distanceToSquared(cp));if(e)for(var u=0,c=e.length;u<c;u++)for(var h=e[u],d=this.morphTargetsRelative,f=0,p=h.count;f<p;f++)cp.fromBufferAttribute(h,f),d&&(sp.fromBufferAttribute(t,f),cp.add(sp)),o=Math.max(o,n.distanceToSquared(cp));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var t,e,n,i,r=this.index,a=this.attributes;if(null!==r&&void 0!==a.position&&void 0!==a.normal&&void 0!==a.uv){var o=r.array,s=a.position.array,O=a.normal.array,l=a.uv.array,u=s.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new tp(new Float32Array(4*u),4));for(var c=this.getAttribute("tangent").array,h=[],d=[],f=0;f<u;f++)h[f]=new V,d[f]=new V;for(var p=new V,v=new V,m=new V,g=new G,y=new G,A=new G,x=new V,w=new V,b=this.groups,M=0,U=(b=0===b.length?[{start:0,count:o.length}]:b).length;M<U;++M)for(var E=b[M],S=E.start,C=S,N=S+E.count;C<N;C+=3)t=o[C+0],e=o[C+1],n=o[C+2],i=void 0,p.fromArray(s,3*t),v.fromArray(s,3*e),m.fromArray(s,3*n),g.fromArray(l,2*t),y.fromArray(l,2*e),A.fromArray(l,2*n),v.sub(p),m.sub(p),y.sub(g),A.sub(g),i=1/(y.x*A.y-A.x*y.y),isFinite(i)&&(x.copy(v).multiplyScalar(A.y).addScaledVector(m,-y.y).multiplyScalar(i),w.copy(m).multiplyScalar(y.x).addScaledVector(v,-A.x).multiplyScalar(i),h[t].add(x),h[e].add(x),h[n].add(x),d[t].add(w),d[e].add(w),d[n].add(w));for(var T=new V,_=new V,k=new V,P=new V,R=0,z=b.length;R<z;++R)for(var D=b[R],B=D.start,L=B,F=B+D.count;L<F;L+=3)I(o[L+0]),I(o[L+1]),I(o[L+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function I(t){k.fromArray(O,3*t),P.copy(k);var e=h[t],e=(T.copy(e),T.sub(k.multiplyScalar(k.dot(e))).normalize(),_.crossVectors(P,e),_.dot(d[t])<0?-1:1);c[4*t]=T.x,c[4*t+1]=T.y,c[4*t+2]=T.z,c[4*t+3]=e}}},{key:"computeVertexNormals",value:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var n=this.getAttribute("normal");if(void 0===n)n=new tp(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var a=new V,o=new V,s=new V,l=new V,u=new V,c=new V,h=new V,d=new V;if(t)for(var f=0,p=t.count;f<p;f+=3){var v=t.getX(f+0),m=t.getX(f+1),g=t.getX(f+2);a.fromBufferAttribute(e,v),o.fromBufferAttribute(e,m),s.fromBufferAttribute(e,g),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),l.add(h),u.add(h),c.add(h),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,A=e.count;y<A;y+=3)a.fromBufferAttribute(e,y+0),o.fromBufferAttribute(e,y+1),s.fromBufferAttribute(e,y+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)cp.fromBufferAttribute(t,e),cp.normalize(),t.setXYZ(e,cp.x,cp.y,cp.z)}},{key:"toNonIndexed",value:function(){function t(t,e){for(var n=t.array,i=t.itemSize,r=t.normalized,a=new n.constructor(e.length*i),o=0,s=0,l=0,u=e.length;l<u;l++)for(var o=t.isInterleavedBufferAttribute?e[l]*t.data.stride+t.offset:e[l]*i,c=0;c<i;c++)a[s++]=n[o++];return new tp(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var e,n=new Rp,i=this.index.array,r=this.attributes;for(e in r){var a=t(r[e],i);n.setAttribute(e,a)}var o,s=this.morphAttributes;for(o in s){for(var l=[],u=s[o],c=0,h=u.length;c<h;c++){var d=t(u[c],i);l.push(d)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,p=0,v=f.length;p<v;p++){var m=f[p];n.addGroup(m.start,m.count,m.materialIndex)}return n}},{key:"toJSON",value:function(){var t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),0<Object.keys(this.userData).length&&(t.userData=this.userData),void 0!==this.parameters){var e,n=this.parameters;for(e in n)void 0!==n[e]&&(t[e]=n[e])}else{t.data={attributes:{}};var i,r=this.index,a=(null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)}),this.attributes);for(i in a){var o=a[i];t.data.attributes[i]=o.toJSON(t.data)}var s,l={},u=!1;for(s in this.morphAttributes){for(var c=this.morphAttributes[s],h=[],d=0,f=c.length;d<f;d++){var p=c[d];h.push(p.toJSON(t.data))}0<h.length&&(l[s]=h,u=!0)}u&&(t.data.morphAttributes=l,t.data.morphTargetsRelative=this.morphTargetsRelative);r=this.groups,r=(0<r.length&&(t.data.groups=JSON.parse(JSON.stringify(r))),this.boundingSphere);null!==r&&(t.data.boundingSphere={center:r.center.toArray(),radius:r.radius})}return t}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var e,n={},i=(this.name=t.name,t.index),r=(null!==i&&this.setIndex(i.clone(n)),t.attributes);for(e in r){var a=r[e];this.setAttribute(e,a.clone(n))}var o,s=t.morphAttributes;for(o in s){for(var l=[],u=s[o],c=0,h=u.length;c<h;c++)l.push(u[c].clone(n));this.morphAttributes[o]=l}this.morphTargetsRelative=t.morphTargetsRelative;for(var d=t.groups,f=0,p=d.length;f<p;f++){var v=d[f];this.addGroup(v.start,v.count,v.materialIndex)}i=t.boundingBox,null!==i&&(this.boundingBox=i.clone()),i=t.boundingSphere;return null!==i&&(this.boundingSphere=i.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),Rp),dp=new jd,fp=new vc,pp=new Ud,vp=new V,mp=new V,gp=new V,yp=new V,Ap=new V,xp=new V,wp=new G,bp=new G,Mp=new G,Ep=new V,Sp=new V,Cp=new V,Tp=new V,_p=new V,kp=(bh(Pp,x),Vf=Eh(Pp),b(Pp,[{key:"copy",value:function(t,e){return xh(Ch(Pp.prototype),"copy",this).call(this,t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}},{key:"updateMorphTargets",value:function(){var t=this.geometry.morphAttributes,e=Object.keys(t);if(0<e.length){var n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,r=n.length;i<r;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}},{key:"getVertexPosition",value:function(t,e){var n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,a=n.morphTargetsRelative,o=(e.fromBufferAttribute(i,t),this.morphTargetInfluences);if(r&&o){xp.set(0,0,0);for(var s=0,l=r.length;s<l;s++){var u=o[s],c=r[s];0!==u&&(Ap.fromBufferAttribute(c,t),a?xp.addScaledVector(Ap,u):xp.addScaledVector(Ap.sub(e),u))}e.add(xp)}return e}},{key:"raycast",value:function(t,e){var n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),pp.copy(n.boundingSphere),pp.applyMatrix4(r),fp.copy(t.ray).recast(t.near),!1===pp.containsPoint(fp.origin)){if(null===fp.intersectSphere(pp,vp))return;if(fp.origin.distanceToSquared(vp)>Math.pow(t.far-t.near,2))return}dp.copy(r).invert(),fp.copy(t.ray).applyMatrix4(dp),null!==n.boundingBox&&!1===fp.intersectsBox(n.boundingBox)||this._computeIntersections(t,e,fp)}}},{key:"_computeIntersections",value:function(t,e,n){var i,r=this.geometry,a=this.material,o=r.index,s=r.attributes.position,l=r.attributes.uv,u=r.attributes.uv1,c=r.attributes.normal,h=r.groups,d=r.drawRange;if(null!==o)if(Array.isArray(a))for(var f=0,p=h.length;f<p;f++)for(var v=h[f],m=a[v.materialIndex],g=Math.max(v.start,d.start),y=Math.min(o.count,Math.min(v.start+v.count,d.start+d.count));g<y;g+=3)(i=Np(this,m,t,n,l,u,c,o.getX(g),o.getX(g+1),o.getX(g+2)))&&(i.faceIndex=Math.floor(g/3),i.face.materialIndex=v.materialIndex,e.push(i));else for(var A=Math.max(0,d.start),x=Math.min(o.count,d.start+d.count);A<x;A+=3)(i=Np(this,a,t,n,l,u,c,o.getX(A),o.getX(A+1),o.getX(A+2)))&&(i.faceIndex=Math.floor(A/3),e.push(i));else if(void 0!==s)if(Array.isArray(a))for(var w=0,b=h.length;w<b;w++)for(var M=h[w],E=a[M.materialIndex],S=Math.max(M.start,d.start),C=Math.min(s.count,Math.min(M.start+M.count,d.start+d.count));S<C;S+=3)(i=Np(this,E,t,n,l,u,c,S,S+1,S+2))&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=M.materialIndex,e.push(i));else for(var T=Math.max(0,d.start),_=Math.min(s.count,d.start+d.count);T<_;T+=3)(i=Np(this,a,t,n,l,u,c,T,T+1,T+2))&&(i.faceIndex=Math.floor(T/3),e.push(i))}}]),Pp);function Pp(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new hp,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new qf;return S(this,Pp),(t=Vf.call(this)).isMesh=!0,t.type="Mesh",t.geometry=e,t.material=n,t.updateMorphTargets(),t}function Rp(){var t;return S(this,Rp),(t=Qf.call(this)).isBufferGeometry=!0,Object.defineProperty(Sh(t),"id",{value:rp++}),t.uuid=Oh(),t.name="",t.type="BufferGeometry",t.index=null,t.attributes={},t.morphAttributes={},t.morphTargetsRelative=!1,t.groups=[],t.boundingBox=null,t.boundingSphere=null,t.drawRange={start:0,count:1/0},t.userData={},t}function Dp(t,e,n){return S(this,Dp),jf.call(this,new Float32Array(t),e,n)}function Bp(t,e,n){return S(this,Bp),Xf.call(this,new Uint32Array(t),e,n)}function Lp(t,e,n){return S(this,Lp),Wf.call(this,new Uint16Array(t),e,n)}function Ip(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(S(this,Ip),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n,this.usage=35044,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=1015,this.version=0}function Op(t){var e;return S(this,Op),(e=Yf.call(this)).isMeshBasicMaterial=!0,e.type="MeshBasicMaterial",e.color=new Ff(16777215),e.map=null,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=null,e.aoMapIntensity=1,e.specularMap=null,e.alphaMap=null,e.envMap=null,e.combine=0,e.reflectivity=1,e.refractionRatio=.98,e.wireframe=!1,e.wireframeLinewidth=1,e.wireframeLinecap="round",e.wireframeLinejoin="round",e.fog=!0,e.setValues(t),e}function Up(){var t;return S(this,Up),(t=Jf.call(this)).isMaterial=!0,Object.defineProperty(Sh(t),"id",{value:Kf++}),t.uuid=Oh(),t.name="",t.type="Material",t.blending=1,t.side=0,t.vertexColors=!1,t.opacity=1,t.transparent=!1,t.alphaHash=!1,t.blendSrc=204,t.blendDst=205,t.blendEquation=100,t.blendSrcAlpha=null,t.blendDstAlpha=null,t.blendEquationAlpha=null,t.blendColor=new Ff(0,0,0),t.blendAlpha=0,t.depthFunc=3,t.depthTest=!0,t.depthWrite=!0,t.stencilWriteMask=255,t.stencilFunc=519,t.stencilRef=0,t.stencilFuncMask=255,t.stencilFail=7680,t.stencilZFail=7680,t.stencilZPass=7680,t.stencilWrite=!1,t.clippingPlanes=null,t.clipIntersection=!1,t.clipShadows=!1,t.shadowSide=null,t.colorWrite=!0,t.precision=null,t.polygonOffset=!1,t.polygonOffsetFactor=0,t.polygonOffsetUnits=0,t.dithering=!1,t.alphaToCoverage=!1,t.premultipliedAlpha=!1,t.forceSinglePass=!1,t.visible=!0,t.toneMapped=!0,t.userData={},t.version=0,t._alphaTest=0,t}function Np(t,e,n,i,r,a,o,s,l,u){t.getVertexPosition(s,mp),t.getVertexPosition(l,gp),t.getVertexPosition(u,yp);t=function(t,e,n,i,r,a,o,s){if(null===(1===e.side?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,0===e.side,s)))return null;_p.copy(s),_p.applyMatrix4(t.matrixWorld);i=n.ray.origin.distanceTo(_p);return i<n.near||i>n.far?null:{distance:i,point:_p.clone(),object:t}}(t,e,n,i,mp,gp,yp,Tp);return t&&(r&&(wp.fromBufferAttribute(r,s),bp.fromBufferAttribute(r,l),Mp.fromBufferAttribute(r,u),t.uv=Lf.getInterpolation(Tp,mp,gp,yp,wp,bp,Mp,new G)),a&&(wp.fromBufferAttribute(a,s),bp.fromBufferAttribute(a,l),Mp.fromBufferAttribute(a,u),t.uv1=Lf.getInterpolation(Tp,mp,gp,yp,wp,bp,Mp,new G),t.uv2=t.uv1),o&&(Ep.fromBufferAttribute(o,s),Sp.fromBufferAttribute(o,l),Cp.fromBufferAttribute(o,u),t.normal=Lf.getInterpolation(Tp,mp,gp,yp,Ep,Sp,Cp,new V),0<t.normal.dot(i.direction))&&t.normal.multiplyScalar(-1),e={a:s,b:l,c:u,normal:new V,materialIndex:0},Lf.getNormal(mp,gp,yp,e.normal),t.face=e),t}bh(sv,hc),Gp=Eh(sv),b(sv,[{key:"copy",value:function(t){return xh(Ch(sv.prototype),"copy",this).call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=function(t){var e,n={};for(e in t)for(var i in n[e]={},t[e]){var r=t[e][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),n[e][i]=null):n[e][i]=r.clone():Array.isArray(r)?n[e][i]=r.slice():n[e][i]=r}return n}(t.uniforms),this.uniformsGroups=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].clone());return e}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}},{key:"toJSON",value:function(t){var e,n=xh(Ch(sv.prototype),"toJSON",this).call(this,t);for(e in n.glslVersion=this.glslVersion,n.uniforms={},this.uniforms){var i=this.uniforms[e].value;i&&i.isTexture?n.uniforms[e]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?n.uniforms[e]={type:"c",value:i.getHex()}:i&&i.isVector2?n.uniforms[e]={type:"v2",value:i.toArray()}:i&&i.isVector3?n.uniforms[e]={type:"v3",value:i.toArray()}:i&&i.isVector4?n.uniforms[e]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?n.uniforms[e]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?n.uniforms[e]={type:"m4",value:i.toArray()}:n.uniforms[e]={value:i}}0<Object.keys(this.defines).length&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;var r,a={};for(r in this.extensions)!0===this.extensions[r]&&(a[r]=!0);return 0<Object.keys(a).length&&(n.extensions=a),n}}]);var zp,Fp,Hp,Gp,Vp,i=sv,yc=(bh(ov,x),Hp=Eh(ov),b(ov,[{key:"copy",value:function(t,e){return xh(Ch(ov.prototype),"copy",this).call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}},{key:"getWorldDirection",value:function(t){return xh(Ch(ov.prototype),"getWorldDirection",this).call(this,t).negate()}},{key:"updateMatrixWorld",value:function(t){xh(Ch(ov.prototype),"updateMatrixWorld",this).call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(t,e){xh(Ch(ov.prototype),"updateWorldMatrix",this).call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),ov),Qp=new V,jp=new G,Xp=new G,Wp=(bh(av,yc),Fp=Eh(av),b(av,[{key:"copy",value:function(t,e){return xh(Ch(av.prototype),"copy",this).call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}},{key:"setFocalLength",value:function(t){t=.5*this.getFilmHeight()/t;this.fov=2*Lh*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var t=Math.tan(.5*Bh*this.fov);return.5*this.getFilmHeight()/t}},{key:"getEffectiveFOV",value:function(){return 2*Lh*Math.atan(Math.tan(.5*Bh*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"getViewBounds",value:function(t,e,n){Qp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Qp.x,Qp.y).multiplyScalar(-t/Qp.z),Qp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Qp.x,Qp.y).multiplyScalar(-t/Qp.z)}},{key:"getViewSize",value:function(t,e){return this.getViewBounds(t,jp,Xp),e.subVectors(Xp,jp)}},{key:"setViewOffset",value:function(t,e,n,i,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t,e=this.near,n=e*Math.tan(.5*Bh*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r,o=this.view,s=(null!==this.view&&this.view.enabled&&(s=o.fullWidth,t=o.fullHeight,a+=o.offsetX*r/s,n-=o.offsetY*i/t,r*=o.width/s,i*=o.height/t),this.filmOffset);0!==s&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){t=xh(Ch(av.prototype),"toJSON",this).call(this,t);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),av),Yp=new V,Jp=new V,Kp=new Fh,qp=(b(rv,[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(t,e,n){n=Yp.subVectors(n,e).cross(Jp.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(n,t),this}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}},{key:"intersectLine",value:function(t,e){var n=t.delta(Yp),i=this.normal.dot(n);return 0===i?0===this.distanceToPoint(t.start)?e.copy(t.start):null:(i=-(t.start.dot(this.normal)+this.constant)/i)<0||1<i?null:e.copy(t.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(t){var e=this.distanceToPoint(t.start),t=this.distanceToPoint(t.end);return e<0&&0<t||t<0&&0<e}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){e=e||Kp.getNormalMatrix(t),t=this.coplanarPoint(Yp).applyMatrix4(t),e=this.normal.applyMatrix3(e).normalize();return this.constant=-t.dot(e),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),rv),Zp=new Ud,$p=new V,tv=(b(iv,[{key:"set",value:function(t,e,n,i,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}},{key:"copy",value:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2e3,n=this.planes,t=t.elements,i=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],d=t[9],f=t[10],p=t[11],v=t[12],m=t[13],g=t[14],t=t[15];if(n[0].setComponents(o-i,c-s,p-h,t-v).normalize(),n[1].setComponents(o+i,c+s,p+h,t+v).normalize(),n[2].setComponents(o+r,c+l,p+d,t+m).normalize(),n[3].setComponents(o-r,c-l,p-d,t-m).normalize(),n[4].setComponents(o-a,c-u,p-f,t-g).normalize(),2e3===e)n[5].setComponents(o+a,c+u,p+f,t+g).normalize();else{if(2001!==e)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);n[5].setComponents(a,u,f,g).normalize()}return this}},{key:"intersectsObject",value:function(t){var e;return(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),Zp.copy(t.boundingSphere)):(null===(e=t.geometry).boundingSphere&&e.computeBoundingSphere(),Zp.copy(e.boundingSphere))).applyMatrix4(t.matrixWorld),this.intersectsSphere(Zp)}},{key:"intersectsSprite",value:function(t){return Zp.center.set(0,0,0),Zp.radius=.7071067811865476,Zp.applyMatrix4(t.matrixWorld),this.intersectsSphere(Zp)}},{key:"intersectsSphere",value:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++)if(e[r].distanceToPoint(n)<i)return!1;return!0}},{key:"intersectsBox",value:function(t){for(var e=this.planes,n=0;n<6;n++){var i=e[n];if($p.x=(0<i.normal.x?t.max:t.min).x,$p.y=(0<i.normal.y?t.max:t.min).y,$p.z=(0<i.normal.z?t.max:t.min).z,i.distanceToPoint($p)<0)return!1}return!0}},{key:"containsPoint",value:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),iv),ev=(bh(nv,hp),zp=Eh(nv),b(nv,[{key:"copy",value:function(t){return xh(Ch(nv.prototype),"copy",this).call(this,t),this.parameters=Object.assign({},t.parameters),this}}],[{key:"fromJSON",value:function(t){return new nv(t.width,t.height,t.widthSegments,t.heightSegments)}}]),nv);function nv(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;S(this,nv),(t=zp.call(this)).type="PlaneGeometry",t.parameters={width:e,height:n,widthSegments:i,heightSegments:r};for(var a=e/2,o=n/2,s=Math.floor(i),l=Math.floor(r),u=s+1,c=l+1,h=e/s,d=n/l,f=[],p=[],v=[],m=[],g=0;g<c;g++)for(var y=g*d-o,A=0;A<u;A++)p.push(A*h-a,-y,0),v.push(0,0,1),m.push(A/s),m.push(1-g/l);for(var x=0;x<l;x++)for(var w=0;w<s;w++){var b=w+u*(x+1),M=w+1+u*(x+1),E=w+1+u*x;f.push(w+u*x,b,E),f.push(b,M,E)}return t.setIndex(f),t.setAttribute("position",new ip(p,3)),t.setAttribute("normal",new ip(v,3)),t.setAttribute("uv",new ip(m,2)),t}function iv(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new qp,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new qp,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new qp,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new qp,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:new qp,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:new qp;S(this,iv),this.planes=[t,e,n,i,r,a]}function rv(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new V(1,0,0),e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;S(this,rv),this.isPlane=!0,this.normal=t,this.constant=e}function av(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2e3;return S(this,av),(t=Fp.call(this)).isPerspectiveCamera=!0,t.type="PerspectiveCamera",t.fov=e,t.zoom=1,t.near=i,t.far=r,t.focus=10,t.aspect=n,t.view=null,t.filmGauge=35,t.filmOffset=0,t.updateProjectionMatrix(),t}function ov(){var t;return S(this,ov),(t=Hp.call(this)).isCamera=!0,t.type="Camera",t.matrixWorldInverse=new jd,t.projectionMatrix=new jd,t.projectionMatrixInverse=new jd,t.coordinateSystem=2e3,t}function sv(t){var e;return S(this,sv),(e=Gp.call(this)).isShaderMaterial=!0,e.type="ShaderMaterial",e.defines={},e.uniforms={},e.uniformsGroups=[],e.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",e.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",e.linewidth=1,e.wireframe=!1,e.wireframeLinewidth=1,e.fog=!1,e.lights=!1,e.clipping=!1,e.forceSinglePass=!0,e.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},e.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},e.index0AttributeName=void 0,e.uniformsNeedUpdate=!1,e.glslVersion=null,void 0!==t&&e.setValues(t),e}function lv(t,e,n,i,r,a,o,s,l,u){if(S(this,lv),1026!==(u=void 0!==u?u:1026)&&1027!==u)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return(i=Vp.call(this,null,i,r,a,o,s,u,n=void 0===(n=void 0===n&&1026===u?1014:n)&&1027===u?1020:n,l)).isDepthTexture=!0,i.image={width:t,height:e},i.magFilter=void 0!==o?o:1003,i.minFilter=void 0!==s?s:1003,i.flipY=!1,i.generateMipmaps=!1,i.compareFunction=null,i}bh(lv,ud),Vp=Eh(lv),b(lv,[{key:"copy",value:function(t){return xh(Ch(lv.prototype),"copy",this).call(this,t),this.compareFunction=t.compareFunction,this}},{key:"toJSON",value:function(t){t=xh(Ch(lv.prototype),"toJSON",this).call(this,t);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}]),new lv(1,1).compareFunction=515;bh(Mv,x),hv=Eh(Mv);var uv,cv,hv,dv=b(Mv),ni=(b(bv,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"updateRange",get:function(){return Xh("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}},{key:"setUsage",value:function(t){return this.usage=t,this}},{key:"addUpdateRange",value:function(t,e){this.updateRanges.push({start:t,count:e})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}},{key:"copyAt",value:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this}},{key:"set",value:function(t){return this.array.set(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0),this}},{key:"clone",value:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Oh()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);t=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),t=new this.constructor(t,this.stride);return t.setUsage(this.usage),t}},{key:"onUpload",value:function(t){return this.onUploadCallback=t,this}},{key:"toJSON",value:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Oh()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),bv),fv=new V,r=(b(wv,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(t){this.data.needsUpdate=t}},{key:"applyMatrix4",value:function(t){for(var e=0,n=this.data.count;e<n;e++)fv.fromBufferAttribute(this,e),fv.applyMatrix4(t),this.setXYZ(e,fv.x,fv.y,fv.z);return this}},{key:"applyNormalMatrix",value:function(t){for(var e=0,n=this.count;e<n;e++)fv.fromBufferAttribute(this,e),fv.applyNormalMatrix(t),this.setXYZ(e,fv.x,fv.y,fv.z);return this}},{key:"transformDirection",value:function(t){for(var e=0,n=this.count;e<n;e++)fv.fromBufferAttribute(this,e),fv.transformDirection(t),this.setXYZ(e,fv.x,fv.y,fv.z);return this}},{key:"getComponent",value:function(t,e){t=this.array[t*this.data.stride+this.offset+e];return t=this.normalized?zh(t,this.array):t}},{key:"setComponent",value:function(t,e,n){return this.normalized&&(n=M(n,this.array)),this.data.array[t*this.data.stride+this.offset+e]=n,this}},{key:"setX",value:function(t,e){return this.normalized&&(e=M(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}},{key:"setY",value:function(t,e){return this.normalized&&(e=M(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}},{key:"setZ",value:function(t,e){return this.normalized&&(e=M(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}},{key:"setW",value:function(t,e){return this.normalized&&(e=M(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}},{key:"getX",value:function(t){t=this.data.array[t*this.data.stride+this.offset];return t=this.normalized?zh(t,this.array):t}},{key:"getY",value:function(t){t=this.data.array[t*this.data.stride+this.offset+1];return t=this.normalized?zh(t,this.array):t}},{key:"getZ",value:function(t){t=this.data.array[t*this.data.stride+this.offset+2];return t=this.normalized?zh(t,this.array):t}},{key:"getW",value:function(t){t=this.data.array[t*this.data.stride+this.offset+3];return t=this.normalized?zh(t,this.array):t}},{key:"setXY",value:function(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=M(e,this.array),n=M(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}},{key:"setXYZ",value:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=M(e,this.array),n=M(n,this.array),i=M(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this}},{key:"setXYZW",value:function(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=M(e,this.array),n=M(n,this.array),i=M(i,this.array),r=M(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}},{key:"clone",value:function(t){if(void 0!==t)return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new wv(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var e=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)e.push(this.data.array[i+r]);return new tp(new this.array.constructor(e),this.itemSize,this.normalized)}},{key:"toJSON",value:function(t){if(void 0!==t)return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var e=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)e.push(this.data.array[i+r]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}}]),wv),pv=(bh(xv,ud),cv=Eh(xv),b(xv)),vv=(bh(Av,i),uv=Eh(Av),b(Av)),mv={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},gv=new(b(function t(e,n,i){S(this,t);var r=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(t){s++,!1===a&&void 0!==r.onStart&&r.onStart(t,o,s),a=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,s),o===s&&(a=!1,void 0!==r.onLoad)&&r.onLoad()},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return l?l(t):t},this.setURLModifier=function(t){return l=t,this},this.addHandler=function(t,e){return u.push(t,e),this},this.removeHandler=function(t){t=u.indexOf(t);return-1!==t&&u.splice(t,2),this},this.getHandler=function(t){for(var e=0,n=u.length;e<n;e+=2){var i=u[e],r=u[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return r}return null}})),sn=(b(yv,[{key:"load",value:function(){}},{key:"loadAsync",value:function(n,i){var r=this;return new Promise(function(t,e){r.load(n,t,i,e)})}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(t){return this.crossOrigin=t,this}},{key:"setWithCredentials",value:function(t){return this.withCredentials=t,this}},{key:"setPath",value:function(t){return this.path=t,this}},{key:"setResourcePath",value:function(t){return this.resourcePath=t,this}},{key:"setRequestHeader",value:function(t){return this.requestHeader=t,this}}]),yv);function yv(t){S(this,yv),this.manager=void 0!==t?t:gv,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}function Av(t){return S(this,Av),(t=uv.call(this,t)).isRawShaderMaterial=!0,t.type="RawShaderMaterial",t}function xv(t,e){return S(this,xv),(t=cv.call(this,{width:t,height:e})).isFramebufferTexture=!0,t.magFilter=1003,t.minFilter=1003,t.generateMipmaps=!1,t.needsUpdate=!0,t}function wv(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];S(this,wv),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=i}function bv(t,e){S(this,bv),this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Oh()}function Mv(){var t;return S(this,Mv),(t=hv.call(this)).isGroup=!0,t.type="Group",t}sn.DEFAULT_MATERIAL_NAME="__DEFAULT";bh(Yv,sn),_v=Eh(Yv),b(Yv,[{key:"load",value:function(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r,a=this,o=mv.get(e);return void 0!==o?(a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o):((r=Qh("img")).addEventListener("load",s,!1),r.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(r.crossOrigin=this.crossOrigin),a.manager.itemStart(e),r.src=e,r);function s(){u(),mv.add(e,this),t&&t(this),a.manager.itemEnd(e)}function l(t){u(),i&&i(t),a.manager.itemError(e),a.manager.itemEnd(e)}function u(){r.removeEventListener("load",s,!1),r.removeEventListener("error",l,!1)}}}]);var Ev,Sv,Cv,Tv,_v,kv=Yv,Pv=(bh(Wv,sn),Tv=Eh(Wv),b(Wv,[{key:"load",value:function(t,e,n,i){var r=new ud,a=new kv(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(t){r.image=t,r.needsUpdate=!0,void 0!==e&&e(r)},n,i),r}}]),Wv),Rv=(bh(Xv,x),Cv=Eh(Xv),b(Xv,[{key:"dispose",value:function(){}},{key:"copy",value:function(t,e){return xh(Ch(Xv.prototype),"copy",this).call(this,t,e),this.color.copy(t.color),this.intensity=t.intensity,this}},{key:"toJSON",value:function(t){t=xh(Ch(Xv.prototype),"toJSON",this).call(this,t);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),Xv),Dv=new jd,Bv=new V,Lv=new V,xc=(b(jv,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(t){var e=this.camera,n=this.matrix;Bv.setFromMatrixPosition(t.matrixWorld),e.position.copy(Bv),Lv.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Lv),e.updateMatrixWorld(),Dv.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Dv),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Dv)}},{key:"getViewport",value:function(t){return this._viewports[t]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}]),jv),Iv=new jd,Ov=new V,Uv=new V,Nv=(bh(Qv,xc),Sv=Eh(Qv),b(Qv,[{key:"updateMatrices",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,i=this.matrix,r=t.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),Ov.setFromMatrixPosition(t.matrixWorld),n.position.copy(Ov),Uv.copy(n.position),Uv.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(Uv),n.updateMatrixWorld(),i.makeTranslation(-Ov.x,-Ov.y,-Ov.z),Iv.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Iv)}}]),Qv),zv=(bh(Vv,Rv),Ev=Eh(Vv),b(Vv,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(t,e){return xh(Ch(Vv.prototype),"copy",this).call(this,t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}]),Vv),Fv=new G,Hv=(b(Gv,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){e=Fv.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(e),this.max.copy(t).add(e),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}},{key:"getParameter",value:function(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}},{key:"clampPoint",value:function(t,e){return e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return this.clampPoint(t,Fv).distanceTo(t)}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),Gv);function Gv(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new G(1/0,1/0),e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new G(-1/0,-1/0);S(this,Gv),this.isBox2=!0,this.min=t,this.max=e}function Vv(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2;return S(this,Vv),(t=Ev.call(this,t,e)).isPointLight=!0,t.type="PointLight",t.distance=n,t.decay=i,t.shadow=new Nv,t}function Qv(){var t;return S(this,Qv),(t=Sv.call(this,new Wp(90,1,.5,500))).isPointLightShadow=!0,t._frameExtents=new G(4,2),t._viewportCount=6,t._viewports=[new hd(2,1,1,1),new hd(0,1,1,1),new hd(3,1,1,1),new hd(1,1,1,1),new hd(3,0,1,1),new hd(1,0,1,1)],t._cubeDirections=[new V(1,0,0),new V(-1,0,0),new V(0,0,1),new V(0,0,-1),new V(0,1,0),new V(0,-1,0)],t._cubeUps=[new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,0,1),new V(0,0,-1)],t}function jv(t){S(this,jv),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new G(512,512),this.map=null,this.mapPass=null,this.matrix=new jd,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new tv,this._frameExtents=new G(1,1),this._viewportCount=1,this._viewports=[new hd(0,0,1,1)]}function Xv(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return S(this,Xv),(e=Cv.call(this)).isLight=!0,e.type="Light",e.color=new Ff(t),e.intensity=n,e}function Wv(t){return S(this,Wv),Tv.call(this,t)}function Yv(t){return S(this,Yv),_v.call(this,t)}function Jv(t){return(Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kv(t,e){var n,i,r,a,o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return r=!(i=!0),{s:function(){o=o.call(t)},n:function(){var t=o.next();return i=t.done,t},e:function(t){r=!0,n=t},f:function(){try{i||null==o.return||o.return()}finally{if(r)throw n}}};if(Array.isArray(t)||(o=function(t){var e;if(t)return"string"==typeof t?qv(t,void 0):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?qv(t,void 0):void 0}(t))||e&&t&&"number"==typeof t.length)return o&&(t=o),a=0,{s:e=function(){},n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Zv(){return(Zv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=om(t)););return t}(t,e);if(i)return(i=Object.getOwnPropertyDescriptor(i,e)).get?i.get.call(arguments.length<3?t:n):i.value}).apply(this,arguments)}function $v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,em(i.key),i)}}function tm(t,e,n){return e&&$v(t.prototype,e),n&&$v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function em(t){t=function(t){if("object"!==Jv(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return String(t);e=e.call(t,"string");if("object"!==Jv(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(t);return"symbol"===Jv(t)?t:String(t)}function nm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function im(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rm(t,e)}function rm(t,e){return(rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function am(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=om(n),e=(t=i?(t=om(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(!t||"object"!==Jv(t)&&"function"!=typeof t){if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(t=e))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}}function om(t){return(om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"161"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="161");im(cm,kp),sm=am(cm);var sm,lm=tm(cm),um=tm(function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new Ff(16777215);nm(this,t),this.texture=e,this.size=n,this.distance=i,this.color=r});function cm(){nm(this,cm),(t=sm.call(this,cm.Geometry,new qf({opacity:0,transparent:!0}))).isLensflare=!0,t.type="Lensflare",t.frustumCulled=!1,t.renderOrder=1/0;var t,f=new V,p=new V,v=new pv(16,16,1023),m=new pv(16,16,1023),g=cm.Geometry,y=new vv({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform vec3 screenPosition;\n\t\t\t\tuniform vec2 scale;\n\n\t\t\t\tattribute vec3 position;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );\n\n\t\t\t\t}",fragmentShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );\n\n\t\t\t\t}",depthTest:!0,depthWrite:!1,transparent:!1}),A=new vv({uniforms:{map:{value:v},scale:{value:null},screenPosition:{value:null}},vertexShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform vec3 screenPosition;\n\t\t\t\tuniform vec2 scale;\n\n\t\t\t\tattribute vec3 position;\n\t\t\t\tattribute vec2 uv;\n\n\t\t\t\tvarying vec2 vUV;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvUV = uv;\n\n\t\t\t\t\tgl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );\n\n\t\t\t\t}",fragmentShader:"\n\n\t\t\t\tprecision highp float;\n\n\t\t\t\tuniform sampler2D map;\n\n\t\t\t\tvarying vec2 vUV;\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tgl_FragColor = texture2D( map, vUV );\n\n\t\t\t\t}",depthTest:!1,depthWrite:!1,transparent:!1}),x=new kp(g,y),w=[],e=um.Shader,b=new vv({uniforms:{map:{value:null},occlusionMap:{value:m},color:{value:new Ff(16777215)},scale:{value:new G},screenPosition:{value:new V}},vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,blending:2,transparent:!0,depthWrite:!1}),M=new kp(g,b),E=(t.addElement=function(t){w.push(t)},new G),S=new G,C=new Hv,T=new hd;return t.onBeforeRender=function(t,e,n){t.getCurrentViewport(T);var i=T.w/T.z,r=T.z/2,a=T.w/2,o=16/T.w;if(E.set(o*i,o),C.min.set(T.x,T.y),C.max.set(T.x+(T.z-16),T.y+(T.w-16)),p.setFromMatrixPosition(this.matrixWorld),p.applyMatrix4(n.matrixWorldInverse),!(0<p.z)&&(f.copy(p).applyMatrix4(n.projectionMatrix),S.x=T.x+f.x*r+r-8,S.y=T.y+f.y*a+a-8,C.containsPoint(S))){t.copyFramebufferToTexture(S,v);i=y.uniforms;i.scale.value=E,i.screenPosition.value=f,t.renderBufferDirect(n,null,g,y,x,null),t.copyFramebufferToTexture(S,m),(i=A.uniforms).scale.value=E,i.screenPosition.value=f,t.renderBufferDirect(n,null,g,A,x,null);for(var s=2*-f.x,l=2*-f.y,u=0,c=w.length;u<c;u++){var h=w[u],d=b.uniforms,h=(d.color.value.copy(h.color),d.map.value=h.texture,d.screenPosition.value.x=f.x+s*h.distance,d.screenPosition.value.y=f.y+l*h.distance,o=h.size/T.w,T.w/T.z);d.scale.value.set(o*h,o),b.uniformsNeedUpdate=!0,t.renderBufferDirect(n,null,g,b,M,null)}}},t.dispose=function(){y.dispose(),A.dispose(),b.dispose(),v.dispose(),m.dispose();for(var t=0,e=w.length;t<e;t++)w[t].texture.dispose()},t}um.Shader={uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:"\n\n\t\tprecision highp float;\n\n\t\tuniform vec3 screenPosition;\n\t\tuniform vec2 scale;\n\n\t\tuniform sampler2D occlusionMap;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\n\t\tvarying vec2 vUV;\n\t\tvarying float vVisibility;\n\n\t\tvoid main() {\n\n\t\t\tvUV = uv;\n\n\t\t\tvec2 pos = position.xy;\n\n\t\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\n\t\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\n\n\t\t\tvVisibility =        visibility.r / 9.0;\n\t\t\tvVisibility *= 1.0 - visibility.g / 9.0;\n\t\t\tvVisibility *=       visibility.b / 9.0;\n\n\t\t\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tprecision highp float;\n\n\t\tuniform sampler2D map;\n\t\tuniform vec3 color;\n\n\t\tvarying vec2 vUV;\n\t\tvarying float vVisibility;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texture = texture2D( map, vUV );\n\t\t\ttexture.a *= vVisibility;\n\t\t\tgl_FragColor = texture;\n\t\t\tgl_FragColor.rgb *= color;\n\n\t\t}"},lm.Geometry=(n=new hp,Mc=new ni(new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),5),n.setIndex([0,1,2,0,2,3]),n.setAttribute("position",new r(Mc,3,0,!1)),n.setAttribute("uv",new r(Mc,2,3,!1)),n),m.dasherize("psvLensflare");tm(gm,[{key:"id",get:function(){return this.config.id}},{key:"domElement",get:function(){return null}},{key:"threeElement",get:function(){return this.element}},{key:"destroy",value:function(){delete this.threeElement.children[0].userData.psvLensflare}},{key:"addLight",value:function(t,e,n,i,r,a){var o=new zv(16777215,1.5,2e3),t=(o.color.setHSL(t,e,n),o.position.set(i,r,a),this.config.type,new lm);return t.addElement(new um(this.textureFlare.light,700,0,o.color)),t.addElement(new um(this.textureFlare.flare2,800,.1)),t.addElement(new um(this.textureFlare.diaphragm,130,.45,new Ff(195090))),t.addElement(new um(this.textureFlare.diaphragm,110,.55,new Ff(65298))),t.addElement(new um(this.textureFlare.flare3,70,.7,new Ff(140195))),t.addElement(new um(this.textureFlare.flare3,80,.8,new Ff(195090))),t.addElement(new um(this.textureFlare.flare3,120,.85)),o.add(t),o}},{key:"update",value:function(t){m.isExtendedPosition(t)&&(m.logWarn('Use the "position" property to configure the position of a lensflare'),t.position=this.viewer.dataHelper.cleanPosition(t)),"width"in t&&"height"in t&&(m.logWarn('Use the "size" property to configure the size of a lensflare'),t.size={width:t.width,height:t.height}),this.config=m.deepmerge(this.config,t),this.config.scale&&Array.isArray(this.config.scale)&&(this.config.scale={zoom:this.config.scale}),this.visible=!1!==this.config.visible,this.state.anchor=m.parsePoint(this.config.anchor),this.__update3d()}},{key:"__update3d",value:function(){var t,e=this.threeElement;if(!m.isExtendedPosition(this.config.position))throw new g("missing lensflare position");switch(this.state.dynamicSize=!1,this.state.position=this.viewer.dataHelper.cleanPosition(this.config.position),this.state.positions3D=[this.viewer.dataHelper.sphericalCoordsToVector3(this.state.position)],e.children[0].position.set(this.state.anchor.x-.5,this.state.anchor.y-.5,0),e.children[0].material.opacity=null!=(t=this.config.opacity)?t:1,e.position.copy(this.state.positions3D[0]),this.config.orientation){case"horizontal":e.lookAt(0,e.position.y,0),e.rotateX(this.state.position.pitch<0?-Math.PI/2:Math.PI/2);break;case"vertical-left":e.lookAt(0,0,0),e.rotateY(.4*-Math.PI);break;case"vertical-right":e.lookAt(0,0,0),e.rotateY(.4*Math.PI);break;default:e.lookAt(0,0,0)}e.scale.set(this.config.size.width/100,this.config.size.height/100,1)}},{key:"__createMesh",value:function(){var t=this.viewer.dataHelper.sphericalCoordsToVector3(this.state.position),t=this.addLight(this.config.color.h,this.config.color.s,this.config.color.l,t.x,t.y,1),e=new qf({transparent:!0,opacity:1,depthTest:!1}),n=new ev(0,0),n=new kp(n,e),i=(n.userData=(e={},(i=em("psvLensflare"))in e?Object.defineProperty(e,i,{value:this,enumerable:!0,configurable:!0,writable:!0}):e[i]=this,e),(new dv).add(n).add(t));return Object.defineProperty(i,"visible",{enumerable:!0,get:function(){return this.children[0].userData.psvLensflare.visible},set:function(t){this.children[0].userData.psvLensflare.visible=t}}),i}}]);var hm,dm,fm=gm,fc=(im(mm,Mt),dm=am(mm),tm(mm)),pm=(im(vm,fc),hm=am(vm),tm(vm));function vm(t,e){var n;return nm(this,vm),(n=hm.call(this,vm.type)).lensflare=t,n.visible=e,n}function mm(){return nm(this,mm),dm.apply(this,arguments)}function gm(t,e){var n=this;if(nm(this,gm),this.viewer=t,this.config=e,this.visible=!0,this.state={dynamicSize:!1,anchor:null,visible:!1,position:null,position2D:null,positions3D:null,size:null},this.refreshAfterLoad=function(t){t.anisotropy=4,n.viewer.needsUpdate()},!e.id)throw new g("missing lensflare id");this.loader=new Pv,this.textureFlare={},this.textureFlare.light=this.loader.load("data:image/png;base64,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",this.refreshAfterLoad),this.textureFlare.flare1=this.loader.load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGQkMyNkM0QkNCNUFFMDExQjZBNjgzNDc0RDE0NzY2QyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxOTUwNTY2MDUzMUMxMUUwOTA3Qzg4QzFDQkY2MUZCQiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxOTUwNTY1RjUzMUMxMUUwOTA3Qzg4QzFDQkY2MUZCQiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjAxODAxMTc0MDcyMDY4MTE5NDU3OUVEN0U5QjAxNEY5IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZCQzI2QzRCQ0I1QUUwMTFCNkE2ODM0NzREMTQ3NjZDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+J87OtwAABgBJREFUeNrs2jEOgzAQRUHspUCyRMn9L0lpHANSbhCl2Jkm/S/8YotyHMd5ngsAmbTWlm3bDAGQzTz8a0QYAiCbefhXKwDkJAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAAAmACAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAA/ma9I1DrGMMWAHmUUtb3ZzIHQB7zr/97AxAAgFwingA8zz+egAASGWO8AZinvxsAQKoA+AoIIKvvDQCAVDeA5wnoui5bAKTSe/cEBJCUAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAIgAkABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABABAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABABAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAOBnAei9WwEgm3n4r/u+R4QtAFJprX0EGAAFhyfXeeWZyAAAAABJRU5ErkJggg==",this.refreshAfterLoad),this.textureFlare.flare2=this.loader.load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUY2OTVBMjM1MzFFMTFFMDkwN0M4OEMxQ0JGNjFGQkIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUY2OTVBMjQ1MzFFMTFFMDkwN0M4OEMxQ0JGNjFGQkIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxRjY5NUEyMTUzMUUxMUUwOTA3Qzg4QzFDQkY2MUZCQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxRjY5NUEyMjUzMUUxMUUwOTA3Qzg4QzFDQkY2MUZCQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PslCyYYAAASvSURBVHja7NkNb5swEABQQPv//3jcvBiM8UempdnUqu9VIgc4TuqQO+wsCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB+1GgIGl8W6DndTEBHbtqVt36zYtt/HU5vc/uW38dpT1398UX/gH3rxveVxzuOZg+F7KB9KDurtWz4OFAC+UfbPQbfbnkr1IMeVpWxG2hP9q8zrUHQXbZxXcjkV9ys8Rtd5/P03IkbNYvIqcS8Vx9mSlOtcnIJ931NwbqPE5dR1Ng51mxyXznPHdf91oAZQ/DAEPMn+w1xcUvas8SMjXvl9O1xxDnIlqHevdrcycb1iuQv+EuqMfKTp2HNOf2yjistjnLtrbnP2UGrGVTzqm/37LOEoS02zehrnUkcB4H+sIJUkmFPPmbP2XERKasszicmSS8x6/uSpv54HNGk3WnuuE9UQ9XOQaF5CTkcB4POlv/XxN5lJPLbXBCLXgHS3mw5E/OxXh9avvFYZS4zS/bWQf/6bqf7tdUXsRzWNQywSPe+7VzMEzG7h5z8G3I7UK0LNmn7dQV0Pmg4ZzRvyxOd8XNZqQakNuuNtb8MAfAOZFoDlzz/Jzp5eJ7X2YJ1/JKPROD8bvX4M+xLyJDbgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv8EuAAQDmbqQRXFC3OAAAAABJRU5ErkJggg==",this.refreshAfterLoad),this.textureFlare.flare3=this.loader.load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qzk3MDg1MDY1MzMzMTFFMDkwN0M4OEMxQ0JGNjFGQkIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qzk3MDg1MDc1MzMzMTFFMDkwN0M4OEMxQ0JGNjFGQkIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOTcwODUwNDUzMzMxMUUwOTA3Qzg4QzFDQkY2MUZCQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOTcwODUwNTUzMzMxMUUwOTA3Qzg4QzFDQkY2MUZCQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po4pkJAAAA9KSURBVHja7F0JdqMw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",this.refreshAfterLoad),this.textureFlare.diaphragm=this.loader.load("data:image/png;base64,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",this.refreshAfterLoad),e.color||(this.config.color={h:.08,s:.2,l:.5}),e.position||(this.config.position={yaw:0,pitch:0}),this.state.position=this.viewer.dataHelper.cleanPosition(this.config.position),e.size||(this.config.size={width:1,height:1}),this.element=this.__createMesh(),this.viewer.config.withCredentials&&this.loader.setWithCredentials(!0),this.update(e)}pm.type="lensflare-visibility";im(xm,fc),ym=am(xm);var ym,Am=tm(xm);function xm(t){var e;return nm(this,xm),(e=ym.call(this,xm.type)).lensflares=t,e}Am.type="set-lensflares";var wm,bm=m.getConfigParser({lensflares:null});function Mm(t,e){return nm(this,Mm),(t=wm.call(this,t)).lensflares={},t.state={visible:!0,currentLensflare:null,hoveringLensflare:null},t.config=bm(e),t.renderLensflares(),t}im(Mm,Sc),wm=am(Mm),tm(Mm,[{key:"init",value:function(){Zv(om(Mm.prototype),"init",this).call(this),this.viewer.addEventListener(kl.RenderEvent.type,this),this.viewer.addEventListener(kl.ReadyEvent.type,this,{once:!0})}},{key:"destroy",value:function(){this.clearLensflares(!1),this.viewer.removeEventListener(kl.RenderEvent.type,this),this.viewer.removeEventListener(kl.ReadyEvent.type,this),Zv(om(Mm.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case kl.ReadyEvent.type:this.config.lensflares&&(this.setLensflares(this.config.lensflares),delete this.config.lensflares);break;case kl.RenderEvent.type:this.renderLensflares()}}},{key:"toggleAllLensflares",value:function(){var t,e=Kv(this.getLensflares());try{for(e.s();!(t=e.n()).done;){var n=t.value;this.toggleLensflare(n)}}catch(t){e.e(t)}finally{e.f()}}},{key:"showAllLensflares",value:function(){var t,e=Kv(this.getLensflares());try{for(e.s();!(t=e.n()).done;){var n=t.value;this.toggleLensflare(n,!0)}}catch(t){e.e(t)}finally{e.f()}}},{key:"hideAllLensflares",value:function(){var t,e=Kv(this.getLensflares());try{for(e.s();!(t=e.n()).done;){var n=t.value;this.toggleLensflare(n,!1)}}catch(t){e.e(t)}finally{e.f()}}},{key:"getNbLensflares",value:function(){return Object.keys(this.lensflares).length}},{key:"getLensflares",value:function(){return Object.values(this.lensflares)}},{key:"addLensflare",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.lensflares[t.id])throw new g('lensflare "'.concat(t.id,'" already exists'));t=new fm(this.viewer,t);this.viewer.renderer.addObject(t.threeElement),this.lensflares[t.id]=t,e&&this.__afterChangerLensflares()}},{key:"getLensflare",value:function(t){t="object"===Jv(t)?t.id:t;if(this.lensflares[t])return this.lensflares[t];throw new g('cannot find lensflare "'.concat(t,'"'))}},{key:"getCurrentLensflare",value:function(){return this.state.currentLensflare}},{key:"updateLensflare",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.getLensflare(t.id).update(t),e&&this.__afterChangerLensflares()}},{key:"removeLensflare",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],t=this.getLensflare(t);this.viewer.renderer.removeObject(t.threeElement),this.state.currentLensflare===t&&(this.state.currentLensflare=null),t.destroy(),delete this.lensflares[t.id],e&&this.__afterChangerLensflares()}},{key:"removeLensflares",value:function(t){var e=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t.forEach(function(t){return e.removeLensflare(t,!1)}),n&&this.__afterChangerLensflares()}},{key:"setLensflares",value:function(t){var e=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.clearLensflares(!1),null!=t&&t.forEach(function(t){e.addLensflare(t,!1)}),n&&this.__afterChangerLensflares()}},{key:"clearLensflares",value:function(){var e=this,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];Object.keys(this.lensflares).forEach(function(t){e.removeLensflare(t,!1)}),t&&this.__afterChangerLensflares()}},{key:"hideLensflare",value:function(t){this.toggleLensflare(t,!1)}},{key:"showLensflare",value:function(t){this.toggleLensflare(t,!0)}},{key:"toggleLensflare",value:function(t,e){t=this.getLensflare(t);t.visible=void 0===e?!t.visible:e,this.viewer.needsUpdate()}},{key:"renderLensflares",value:function(){var i=this;Object.values(this.lensflares).forEach(function(t){var e=i.state.visible&&t.visible,n=t.state.visible!==e;t.state.visible=e,t.state.position2D=null,n&&i.dispatchEvent(new pm(t,e))})}},{key:"__afterChangerLensflares",value:function(){this.viewer.needsUpdate(),this.dispatchEvent(new Am(this.getLensflares()))}}]),Mm.id="lensflare";var Em,Sm,oc={exports:{}};function Cm(t){return(Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tm(){}function _m(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function km(t,e,n,i,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");n=new _m(n,i||t,r),i=Sm?Sm+e:e;return t._events[i]?t._events[i].fn?t._events[i]=[t._events[i],n]:t._events[i].push(n):(t._events[i]=n,t._eventsCount++),t}function Pm(t,e){0==--t._eventsCount?t._events=new Tm:delete t._events[e]}function Rm(){this._events=new Tm,this._eventsCount=0}vc=oc,Em=Object.prototype.hasOwnProperty,Sm="~",Object.create&&(Tm.prototype=Object.create(null),(new Tm).__proto__||(Sm=!1)),Rm.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)Em.call(t,e)&&n.push(Sm?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},Rm.prototype.listeners=function(t){var t=Sm?Sm+t:t,e=this._events[t];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,i=e.length,r=new Array(i);n<i;n++)r[n]=e[n].fn;return r},Rm.prototype.listenerCount=function(t){t=Sm?Sm+t:t,t=this._events[t];return t?t.fn?1:t.length:0},Rm.prototype.emit=function(t,e,n,i,r,a){var o=Sm?Sm+t:t;if(!this._events[o])return!1;var s,l=this._events[o],u=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,r),!0;case 6:return l.fn.call(l.context,e,n,i,r,a),!0}for(d=1,s=new Array(u-1);d<u;d++)s[d-1]=arguments[d];l.fn.apply(l.context,s)}else for(var c,h=l.length,d=0;d<h;d++)switch(l[d].once&&this.removeListener(t,l[d].fn,void 0,!0),u){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,e);break;case 3:l[d].fn.call(l[d].context,e,n);break;case 4:l[d].fn.call(l[d].context,e,n,i);break;default:if(!s)for(c=1,s=new Array(u-1);c<u;c++)s[c-1]=arguments[c];l[d].fn.apply(l[d].context,s)}return!0},Rm.prototype.on=function(t,e,n){return km(this,t,e,n,!1)},Rm.prototype.once=function(t,e,n){return km(this,t,e,n,!0)},Rm.prototype.removeListener=function(t,e,n,i){t=Sm?Sm+t:t;if(this._events[t])if(e){var r=this._events[t];if(r.fn)r.fn!==e||i&&!r.once||n&&r.context!==n||Pm(this,t);else{for(var a=0,o=[],s=r.length;a<s;a++)(r[a].fn!==e||i&&!r[a].once||n&&r[a].context!==n)&&o.push(r[a]);o.length?this._events[t]=1===o.length?o[0]:o:Pm(this,t)}}else Pm(this,t);return this},Rm.prototype.removeAllListeners=function(t){return t?(t=Sm?Sm+t:t,this._events[t]&&Pm(this,t)):(this._events=new Tm,this._eventsCount=0),this},Rm.prototype.off=Rm.prototype.removeListener,Rm.prototype.addListener=Rm.prototype.on,Rm.prefixed=Sm,vc.exports=Rm.EventEmitter=Rm;var Dm=new((hc=oc.exports)&&hc.__esModule&&Object.prototype.hasOwnProperty.call(hc,"default")?hc.default:hc),Bm={on:function(t,e){return Dm.on(t,e)},once:function(t,e){return Dm.once(t,e)},off:function(t,e){return Dm.off(t,e)},emit:function(t,e){return Dm.emit(t,e)}},Lm=(Object.freeze(Bm),["src","height","width","hideNavbarButton","containerClass","littlePlanet","onPositionChange","onZoomChange","onClick","onDblclick","onReady"]),Im=["zoom","fullscreen"];function Om(t){return null==t?Im:Array.isArray(t)?t:"string"==typeof t?""!==t&&[t]:!!t&&Im}var Um=Object(P.forwardRef)(function(r,t){i=Object(P.useState)(),e=i[0],n=i[1],i=Object(P.useCallback)(function(t){t&&t!==e&&n(t)},[e]);var e,n,i=[e,i],a=i[0],i=i[1],o=Object(P.useMemo)(function(){return r},[r.src,r.navbar,r.height,r.width,r.containerClass,r.hideNavbarButton||!0,r.littlePlanet,r.fishEye,r.lang,r.onPositionChange,r.onZoomChange,r.onClick,r.onDblclick,r.onReady,r.moveSpeed,r.zoomSpeed,r.moveInertia,r.mousewheel,r.mousemove,r.mousewheelCtrlKey,r.touchmoveTwoFingers,r.panoData,r.requestHeaders,r.withCredentials,r.keyboard,r.plugins,r.sphereCorrection,r.minFov,r.maxFov,r.defaultZoomLvl,r.defaultYaw,r.defaultPitch]),s=Object(P.useRef)(null),l=130,u=Object(P.useState)(-90)[0],c=Object(P.useState)(2)[0],h=Object(P.useState)(0)[0],d=Object(P.useState)(Im),f=d[0],p=d[1];return Object(P.useEffect)(function(){function t(){var t=window.innerWidth/window.innerHeight;l=Math.floor((t-.5)*(115-140)/1.3+140)}return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}},[]),Object(P.useEffect)(function(){var n,t,e,i=!0;a&&!s.current&&((n=new fh(k(k({},function(){var t,e=k({},o);for(t in e)Lm.includes(t)&&delete e[t];return e}()),{container:a,panorama:o.src,size:{height:o.height,width:o.width||"100px"},fisheye:o.littlePlanet?c:o.fisheye||!1,minFov:null!=(t=o.minFov)?t:30,maxFov:o.littlePlanet?l:null!=(t=o.maxFov)?t:90,defaultZoomLvl:o.littlePlanet?h:null!=(t=o.defaultZoomLvl)?t:50,defaultYaw:null!=(t=o.defaultYaw)?t:0,defaultPitch:o.littlePlanet?u:null!=(t=o.defaultPitch)?t:0,sphereCorrection:o.sphereCorrection||{pan:0,tilt:0,roll:0},moveSpeed:o.moveSpeed||1,zoomSpeed:o.zoomSpeed||1,moveInertia:null==(t=o.moveInertia)||t,mousewheel:!o.littlePlanet&&(null==(t=o.mousewheel)||t),mousemove:null==(t=o.mousemove)||t,mousewheelCtrlKey:o.mousewheelCtrlKey||!1,touchmoveTwoFingers:o.touchmoveTwoFingers||!1,panoData:o.panoData||{},requestHeaders:o.requestHeaders||{},withCredentials:o.withCredentials||!1,navbar:Om(o.navbar),lang:o.lang||{},keyboard:o.keyboard||"fullscreen",plugins:function(t,e,n){if(n||2===arguments.length)for(var i,r=0,a=e.length;r<a;r++)!i&&r in e||((i=i||Array.prototype.slice.call(e,0,r))[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}([],o.plugins||[],!0)}))).addEventListener("ready",function(){o.onReady&&o.onReady(n)},{once:!0}),n.addEventListener("click",function(t){o.onClick&&o.onClick(t,n),o.littlePlanet&&i&&(i=!1,n.animate({yaw:0,pitch:u,zoom:75,speed:"3rpm"}).then(function(){n.animate({yaw:0,pitch:0,zoom:90,speed:"10rpm"}).then(function(){var t;n.setOption("maxFov",o.maxFov||70),n.setOption("mousewheel",null==(t=o.mousewheel)||t)})}))}),n.addEventListener("dblclick",function(t){o.onDblclick&&o.onDblclick(t,n)}),n.addEventListener("zoom-updated",function(t){o.onZoomChange&&o.onZoomChange(t,n)}),n.addEventListener("position-updated",function(t){o.onPositionChange&&o.onPositionChange(t.position.pitch,t.position.yaw,n)}),t=Om(o.navbar),o.littlePlanet&&!(e={id:"resetLittlePlanetButton",content:(null==(e=r.lang)?void 0:e.littlePlanetIcon)||'<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="none">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M12 20C16.4183 20 20 16.4183 20 12C20 11.8805 19.9974 11.7615 19.9922 11.6433C20.2479 11.4141 20.4882 11.1864 20.7118 10.9611C21.0037 10.6672 21.002 10.1923 20.708 9.90049C20.4336 9.628 20.0014 9.61143 19.7077 9.84972C19.4023 8.75248 18.8688 7.75024 18.1616 6.89725C18.4607 6.84611 18.7436 6.8084 19.0087 6.784C19.4212 6.74604 19.7247 6.38089 19.6868 5.96842C19.6488 5.55595 19.2837 5.25235 18.8712 5.29032C18.4474 5.32932 17.9972 5.39638 17.5262 5.48921C17.3267 5.52851 17.1614 5.64353 17.0543 5.79852C15.6765 4.67424 13.917 4 12 4C7.58172 4 4 7.58172 4 12C4 12.2776 4.01414 12.552 4.04175 12.8223C3.78987 12.7532 3.50899 12.8177 3.31137 13.0159C2.97651 13.3517 2.67596 13.6846 2.415 14.0113C2.15647 14.3349 2.20924 14.8069 2.53287 15.0654C2.8565 15.3239 3.32843 15.2711 3.58696 14.9475C3.78866 14.695 4.02466 14.4302 4.2938 14.1557C4.60754 15.2796 5.16056 16.3037 5.8945 17.1697C5.66824 17.3368 5.54578 17.6248 5.60398 17.919C5.68437 18.3253 6.07894 18.5896 6.48528 18.5092C6.7024 18.4662 6.92455 18.4177 7.15125 18.3637C8.49656 19.3903 10.1771 20 12 20ZM7.15125 18.3637C6.69042 18.012 6.26891 17.6114 5.8945 17.1697C5.98073 17.106 6.08204 17.0599 6.19417 17.0377C7.19089 16.8405 8.33112 16.5084 9.55581 16.0486C9.94359 15.903 10.376 16.0994 10.5216 16.4872C10.6671 16.8749 10.4708 17.3073 10.083 17.4529C9.05325 17.8395 8.0653 18.1459 7.15125 18.3637ZM19.7077 9.84972C19.6869 9.86663 19.6667 9.88483 19.6474 9.90431C18.9609 10.5957 18.0797 11.3337 17.0388 12.0753C16.7014 12.3157 16.6228 12.784 16.8631 13.1213C17.1035 13.4587 17.5718 13.5373 17.9091 13.297C18.6809 12.7471 19.3806 12.1912 19.9922 11.6433C19.965 11.0246 19.8676 10.4241 19.7077 9.84972ZM20.9366 5.37924C20.5336 5.28378 20.1294 5.53313 20.034 5.93619C19.9385 6.33925 20.1879 6.74339 20.5909 6.83886C20.985 6.93219 21.1368 7.07125 21.1932 7.16142C21.2565 7.26269 21.3262 7.52732 21.0363 8.10938C20.8516 8.48014 21.0025 8.93042 21.3732 9.1151C21.744 9.29979 22.1943 9.14894 22.379 8.77818C22.7566 8.02003 22.9422 7.12886 22.4648 6.36582C22.1206 5.81574 21.5416 5.52252 20.9366 5.37924ZM2.81481 16.2501C2.94057 15.8555 2.72259 15.4336 2.32793 15.3078C1.93327 15.1821 1.51138 15.4 1.38562 15.7947C1.19392 16.3963 1.17354 17.0573 1.53488 17.6349C1.98775 18.3587 2.84153 18.6413 3.68907 18.7224C4.1014 18.7619 4.46765 18.4596 4.50712 18.0473C4.54658 17.635 4.24432 17.2687 3.83199 17.2293C3.13763 17.1628 2.88355 16.9624 2.80651 16.8393C2.75679 16.7598 2.70479 16.5954 2.81481 16.2501ZM15.7504 14.704C16.106 14.4915 16.2218 14.0309 16.0093 13.6754C15.7967 13.3199 15.3362 13.204 14.9807 13.4166C14.4991 13.7045 13.9974 13.9881 13.4781 14.2648C12.9445 14.5491 12.4132 14.8149 11.8883 15.0615C11.5134 15.2376 11.3522 15.6843 11.5283 16.0592C11.7044 16.4341 12.1511 16.5953 12.526 16.4192C13.0739 16.1618 13.6277 15.8847 14.1834 15.5887C14.7242 15.3005 15.2474 15.0048 15.7504 14.704Z" fill="rgba(255,255,255,.7)"/>\n                </svg>',title:(null==(e=r.lang)?void 0:e.littlePlanetButton)||"Reset Little Planet",className:"resetLittlePlanetButton",onClick:function(){i=!0,n.setOption("maxFov",l),n.setOption("mousewheel",!1),n.animate({yaw:0,pitch:u,zoom:h,speed:"10rpm"})}})!==t&&!t.find(function(t){return"object"===Cm(t)&&"resetLittlePlanetButton"===(null==t?void 0:t.id)})&&t.splice(1,0,e),o.hideNavbarButton&&!(e={id:"hideNavbarButton",content:'<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="none">\n                            <g clip-path="url(#clip0_429_11083)">\n                            <path d="M7 7.00006L17 17.0001M7 17.0001L17 7.00006" stroke="rgba(255,255,255,.7)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>\n                            </g>\n                            <defs>\n                            <clipPath id="clip0_429_11083">\n                            <rect width="24" height="24" fill="white"/>\n                            </clipPath>\n                            </defs>\n                            </svg>',title:"Hide Navbar",className:"hideNavbarButton",onClick:function(){n.navbar.hide();var e=document.createElement("a");e.className="showNavbarButton",e.innerHTML='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 26 26" style="enable-background:new 0 0 26 26;" xml:space="preserve" class="icon icon-back-to-top">\n                                        <g>\n                                        <path d="M13.8,1.3L21.6,9c0.1,0.1,0.1,0.3,0.2,0.4c0.1,0.1,0.1,0.3,0.1,0.4s0,0.3-0.1,0.4c-0.1,0.1-0.1,0.3-0.3,0.4\n                                            c-0.1,0.1-0.2,0.2-0.4,0.3c-0.2,0.1-0.3,0.1-0.4,0.1c-0.1,0-0.3,0-0.4-0.1c-0.2-0.1-0.3-0.2-0.4-0.3L14.2,5l0,19.1\n                                            c0,0.2-0.1,0.3-0.1,0.5c0,0.1-0.1,0.3-0.3,0.4c-0.1,0.1-0.2,0.2-0.4,0.3c-0.1,0.1-0.3,0.1-0.5,0.1c-0.1,0-0.3,0-0.4-0.1\n                                            c-0.1-0.1-0.3-0.1-0.4-0.3c-0.1-0.1-0.2-0.2-0.3-0.4c-0.1-0.1-0.1-0.3-0.1-0.5l0-19.1l-5.7,5.7C6,10.8,5.8,10.9,5.7,11\n                                            c-0.1,0.1-0.3,0.1-0.4,0.1c-0.2,0-0.3,0-0.4-0.1c-0.1-0.1-0.3-0.2-0.4-0.3c-0.1-0.1-0.1-0.2-0.2-0.4C4.1,10.2,4,10.1,4.1,9.9\n                                            c0-0.1,0-0.3,0.1-0.4c0-0.1,0.1-0.3,0.3-0.4l7.7-7.8c0.1,0,0.2-0.1,0.2-0.1c0,0,0.1-0.1,0.2-0.1c0.1,0,0.2,0,0.2-0.1\n                                            c0.1,0,0.1,0,0.2,0c0,0,0.1,0,0.2,0c0.1,0,0.2,0,0.2,0.1c0.1,0,0.1,0.1,0.2,0.1C13.7,1.2,13.8,1.2,13.8,1.3z"></path>\n                                        </g>\n                                        </svg>',e.title="Show Navbar",e.onclick=function(t){t.preventDefault(),n.navbar.show(),e.remove()},document.body.appendChild(e)}})!==t&&!t.find(function(t){return"object"===Cm(t)&&"hideNavbarButton"===(null==t?void 0:t.id)})&&t.push(e),!1!==t?(n.setOption("navbar",t),p(t)):n.navbar.hide(),Bm.on("animate",function(t){n.animate(t)}).on("stop-animation",function(){n.stopAnimation()}).on("destroy",function(){n.destroy()}).on("rotate",function(t){n.rotate(t)}).on("setOption",function(t){var e=t.option,t=t.value;n.setOption(e,t)}).on("zoom",function(t){n.zoom(t)}).on("zoomIn",function(t){n.zoomIn(t)}).on("zoomOut",function(t){n.zoomOut(t)}).on("needsContinuousUpdate",function(t){n.needsContinuousUpdate(t)}).on("observeObjects",function(t){n.observeObjects(t)}).on("unobserveObjects",function(t){n.unobserveObjects(t)}).on("setCursor",function(t){n.setCursor(t)}),s.current=n)},[a,o]),Object(P.useEffect)(function(){s.current&&s.current.setPanorama(o.src,o)},[o.src]),Object(P.useImperativeHandle)(t,function(){return{animate:function(t){Bm.emit("animate",t)},destroy:function(){Bm.emit("destroy",{})},createTooltip:function(t){var e;return null==(e=s.current)?void 0:e.createTooltip(t)},needsContinuousUpdate:function(t){Bm.emit("needsContinuousUpdate",t)},observeObjects:function(t){Bm.emit("observeObjects",t)},unobserveObjects:function(t){Bm.emit("unobserveObjects",t)},setCursor:function(t){Bm.emit("setCursor",t)},stopAnimation:function(){Bm.emit("stop-animation",{})},rotate:function(t){Bm.emit("rotate",t)},setOption:function(t,e){Bm.emit("setOption",{option:t,value:e})},setOptions:function(t){var e;return null==(e=s.current)?void 0:e.setOptions(t)},getCurrentNavbar:function(){return f},zoom:function(t){Bm.emit("zoom",t)},zoomIn:function(t){Bm.emit("zoomIn",{step:t})},zoomOut:function(t){Bm.emit("zoomOut",{step:t})},resize:function(t){var e;return null==(e=s.current)?void 0:e.resize(t)},enterFullscreen:function(){var t;return null==(t=s.current)?void 0:t.enterFullscreen()},exitFullscreen:function(){var t;return null==(t=s.current)?void 0:t.exitFullscreen()},toggleFullscreen:function(){var t;return null==(t=s.current)?void 0:t.toggleFullscreen()},isFullscreenEnabled:function(){var t;return null==(t=s.current)?void 0:t.isFullscreenEnabled()},getPlugin:function(t){var e;return null==(e=s.current)?void 0:e.getPlugin(t)},getPosition:function(){var t;return null==(t=s.current)?void 0:t.getPosition()},getZoomLevel:function(){var t;return null==(t=s.current)?void 0:t.getZoomLevel()},getSize:function(){var t;return null==(t=s.current)?void 0:t.getSize()},needsUpdate:function(){var t;return null==(t=s.current)?void 0:t.needsUpdate()},autoSize:function(){var t;return null==(t=s.current)?void 0:t.autoSize()},setPanorama:function(t,e){var n;return null==(n=s.current)?void 0:n.setPanorama(t,e)},showError:function(t){var e;return null==(e=s.current)?void 0:e.showError(t)},hideError:function(){var t;return null==(t=s.current)?void 0:t.hideError()},startKeyboardControl:function(){var t;return null==(t=s.current)?void 0:t.startKeyboardControl()},stopKeyboardControl:function(){var t;return null==(t=s.current)?void 0:t.stopKeyboardControl()}}},[s.current,a,o,t]),R.a.createElement("div",{className:o.containerClass||"view-container",ref:i})}),Nm=_(554);function zm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function Fm(t){return(Fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hm(){return(Hm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Xm(t)););return t}(t,e);if(i)return(i=Object.getOwnPropertyDescriptor(i,e)).get?i.get.call(arguments.length<3?t:n):i.value}).apply(null,arguments)}function Gm(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t){if("object"!=Fm(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return String(t);e=e.call(t,"string");if("object"!=Fm(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(t);return"symbol"==Fm(t)?t:t+""}(i.key),i)}}function Vm(t,e,n){return e&&Gm(t.prototype,e),n&&Gm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jm(t,e,n){e=Xm(e);var i=t,e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return t}()?Reflect.construct(e,n||[],Xm(t).constructor):e.apply(t,n);if(!e||"object"!=Fm(e)&&"function"!=typeof e){if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=i))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function Xm(t){return(Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wm(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ym(t,e)}function Ym(t,e){return(Ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var Jm,Km=Object.defineProperty,qm={},Zm={AutorotateEvent:function(){return tg}};for(Jm in Zm)Km(qm,Jm,{get:Zm[Jm],enumerable:!0});Wm($m,Mt);yc=Vm($m);function $m(t){var e;return Qm(this,$m),(e=jm(this,$m,[$m.type])).autorotateEnabled=t,e}yc.type="autorotate";var tg=yc,i=(Wm(eg,$u),Vm(eg,[{key:"destroy",value:function(){var t;null!=(t=this.plugin)&&t.removeEventListener(tg.type,this),Hm(Xm(eg.prototype),"destroy",this).call(this)}},{key:"isSupported",value:function(){return!!this.plugin}},{key:"handleEvent",value:function(t){t instanceof tg&&this.toggleActive(t.autorotateEnabled)}},{key:"onClick",value:function(){this.plugin.isEnabled()&&(this.plugin.config.autostartOnIdle=!1),this.plugin.toggle()}}]));function eg(t){var e;return Qm(this,eg),(t=jm(this,eg,[t,{className:"psv-autorotate-button",hoverScale:!0,collapsable:!0,tabbable:!0,icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41 41" overflow="visible"><g fill="currentColor" transform-origin="center" transform="scale(1.3)"><path d="M40.5 14.1c-.1-.1-1.2-.5-2.899-1-.101 0-.2-.1-.2-.2C34.5 6.5 28 2 20.5 2S6.6 6.5 3.7 12.9c0 .1-.1.1-.2.2-1.7.6-2.8 1-2.9 1l-.6.3v12.1l.6.2c.1 0 1.1.4 2.7.9.1 0 .2.1.2.199C6.3 34.4 12.9 39 20.5 39c7.601 0 14.101-4.6 16.9-11.1 0-.101.1-.101.2-.2 1.699-.6 2.699-1 2.8-1l.6-.3V14.3l-.5-.2zM20.5 4c5.8 0 10.9 3 13.8 7.5.2.3-.1.6-.399.5-3.8-1-8.8-2-13.6-2-4.7 0-9.5 1-13.2 2-.3.1-.5-.2-.4-.5C9.7 7 14.8 4 20.5 4zm0 33c-5.9 0-11.1-3.1-14-7.899-.2-.301.1-.601.4-.5 3.9 1 8.9 2.1 13.6 2.1 5 0 9.9-1 13.601-2 .3-.1.5.2.399.5A16.422 16.422 0 0 1 20.5 37zm18.601-12.1c0 .1-.101.3-.2.3-2.5.9-10.4 3.6-18.4 3.6-7.1 0-15.6-2.699-18.3-3.6C2.1 25.2 2 25 2 24.9V16c0-.1.1-.3.2-.3 2.6-.9 10.6-3.6 18.2-3.6 7.5 0 15.899 2.7 18.5 3.6.1 0 .2.2.2.3v8.9z"/><path d="M18.7 24l6.4-3.7c.3-.2.3-.7 0-.8l-6.4-3.8c-.3-.2-.7 0-.7.4v7.4c0 .5.4.7.7.5z"/></g>\x3c!--Created by Nick Bluth from the Noun Project--\x3e</svg>\n',iconActive:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41 41" overflow="visible"><g fill="currentColor" transform-origin="center" transform="scale(1.3)"><path d="M40.5 14.1c-.1-.1-1.2-.5-2.898-1-.102 0-.202-.1-.202-.2C34.5 6.5 28 2 20.5 2S6.6 6.5 3.7 12.9c0 .1-.1.1-.2.2-1.7.6-2.8 1-2.9 1l-.6.3v12.1l.6.2c.1 0 1.1.399 2.7.899.1 0 .2.101.2.199C6.3 34.4 12.9 39 20.5 39c7.602 0 14.102-4.6 16.9-11.1 0-.102.1-.102.199-.2 1.699-.601 2.699-1 2.801-1l.6-.3V14.3l-.5-.2zM6.701 11.5C9.7 7 14.8 4 20.5 4c5.8 0 10.9 3 13.8 7.5.2.3-.1.6-.399.5-3.799-1-8.799-2-13.6-2-4.7 0-9.5 1-13.2 2-.3.1-.5-.2-.4-.5zM25.1 20.3L18.7 24c-.3.2-.7 0-.7-.5v-7.4c0-.4.4-.6.7-.4l6.399 3.8c.301.1.301.6.001.8zm9.4 8.901A16.421 16.421 0 0 1 20.5 37c-5.9 0-11.1-3.1-14-7.898-.2-.302.1-.602.4-.5 3.9 1 8.9 2.1 13.6 2.1 5 0 9.9-1 13.602-2 .298-.1.5.198.398.499z"/></g>\x3c!--Created by Nick Bluth from the Noun Project--\x3e</svg>\n'}])).plugin=t.viewer.getPlugin("autorotate"),null!=(e=t.plugin)&&e.addEventListener(tg.type,t),t}i.id="autorotate";sn=m.getConfigParser({autostartDelay:2e3,autostartOnIdle:!0,autorotateSpeed:m.parseSpeed("2rpm"),autorotatePitch:null,autorotateZoomLvl:null,keypoints:null,startFromClosest:!0},{autostartOnIdle:function(t,e){e=e.rawConfig;return t&&m.isNil(e.autostartDelay)?(m.logWarn("autostartOnIdle requires a non null autostartDelay"),!1):t},autorotateSpeed:function(t){return m.parseSpeed(t)},autorotatePitch:function(t){return m.isNil(t)?null:m.parseAngle(t,!0)},autorotateZoomLvl:function(t){return m.isNil(t)?null:Nm.MathUtils.clamp(t,0,100)}});function ng(t){return[t.yaw,t.pitch]}Wm(ig,Cc);x=Vm(ig,[{key:"init",value:function(){Hm(Xm(ig.prototype),"init",this).call(this),this.video=this.viewer.getPlugin("video"),this.markers=this.viewer.getPlugin("markers"),this.config.keypoints&&(this.setKeypoints(this.config.keypoints),delete this.config.keypoints),this.viewer.addEventListener(kl.StopAllEvent.type,this),this.viewer.addEventListener(kl.BeforeRenderEvent.type,this),this.video||this.viewer.addEventListener(kl.KeypressEvent.type,this)}},{key:"destroy",value:function(){this.viewer.removeEventListener(kl.StopAllEvent.type,this),this.viewer.removeEventListener(kl.BeforeRenderEvent.type,this),this.viewer.removeEventListener(kl.KeypressEvent.type,this),delete this.video,delete this.markers,delete this.keypoints,Hm(Xm(ig.prototype),"destroy",this).call(this)}},{key:"handleEvent",value:function(t){switch(t.type){case kl.StopAllEvent.type:this.stop();break;case kl.BeforeRenderEvent.type:this.__beforeRender(t.timestamp);break;case kl.KeypressEvent.type:t.key===as.KEY_CODES.Space&&this.viewer.state.keyboardEnabled&&(this.toggle(),t.preventDefault())}}},{key:"setKeypoints",value:function(t){var r=this;if(t){if(t.length<2)throw new g("At least two points are required");this.keypoints=t.map(function(t,e){var n,i={position:null,markerId:null,pause:0,tooltip:null};if("string"==typeof t?i.markerId=t:m.isExtendedPosition(t)?n=t:(i.markerId=t.markerId,i.pause=t.pause,n=t.position,t.tooltip&&"object"===Fm(t.tooltip)?i.tooltip=t.tooltip:"string"==typeof t.tooltip&&(i.tooltip={content:t.tooltip})),i.markerId){if(!r.markers)throw new g("Keypoint #".concat(e," references a marker but the markers plugin is not loaded"));t=r.markers.getMarker(i.markerId);i.position=ng(t.state.position)}else{if(!n)throw new g("Keypoint #".concat(e," is missing marker or position"));i.position=ng(r.viewer.dataHelper.cleanPosition(n))}return i})}else this.keypoints=null;this.isEnabled()&&(this.stop(),this.start())}},{key:"isEnabled",value:function(){return this.state.enabled}},{key:"start",value:function(){this.isEnabled()||(this.viewer.stopAll(),this.keypoints?this.config.startFromClosest&&this.__shiftKeypoints():this.__animate(),this.state.initialStart=!1,this.state.enabled=!0,this.dispatchEvent(new tg(!0)))}},{key:"stop",value:function(){this.isEnabled()&&(this.__hideTooltip(),this.__reset(),this.viewer.stopAnimation(),this.viewer.dynamics.position.stop(),this.viewer.dynamics.zoom.stop(),this.state.enabled=!1,this.dispatchEvent(new tg(!1)))}},{key:"toggle",value:function(){this.isEnabled()?this.stop():this.start()}},{key:"reverse",value:function(){this.isEnabled()&&!this.keypoints&&(this.config.autorotateSpeed=-this.config.autorotateSpeed,this.__animate())}},{key:"__animate",value:function(){var e=this;(m.isNil(this.config.autorotateZoomLvl)?Promise.resolve(!0):this.viewer.animate({zoom:this.config.autorotateZoomLvl,speed:"".concat(2*this.viewer.config.zoomSpeed,"rpm")})).then(function(t){t&&(e.viewer.dynamics.position.roll({yaw:e.config.autorotateSpeed<0},Math.abs(e.config.autorotateSpeed/e.viewer.config.moveSpeed)),e.viewer.dynamics.position.goto({pitch:null!=(t=e.config.autorotatePitch)?t:e.viewer.config.defaultPitch},Math.abs(e.config.autorotateSpeed/e.viewer.config.moveSpeed)))})}},{key:"__reset",value:function(){this.state.idx=-1,this.state.curve=[],this.state.startStep=null,this.state.endStep=null,this.state.startTime=null,this.state.stepDuration=null,this.state.remainingPause=null,this.state.lastTime=null,this.state.tooltip=null}},{key:"__beforeRender",value:function(t){(this.state.initialStart||this.config.autostartOnIdle)&&0<this.viewer.state.idleTime&&t-this.viewer.state.idleTime>this.config.autostartDelay&&this.start(),this.isEnabled()&&this.keypoints&&(this.state.startTime||(this.state.endStep=ng(this.viewer.getPosition()),this.__nextStep(),this.state.startTime=t,this.state.lastTime=t),this.__nextFrame(t))}},{key:"__shiftKeypoints",value:function(){var t,e,n=ng(this.viewer.getPosition()),i=this.__findMinIndex(this.keypoints,function(t){return m.greatArcDistance(t.position,n)});(t=this.keypoints).push.apply(t,function(t){if(Array.isArray(t))return zm(t)}(e=this.keypoints.splice(0,i))||function(){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}()||function(t){var e;if(t)return"string"==typeof t?zm(t,void 0):"Map"===(e="Object"===(e={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?zm(t,void 0):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}},{key:"__incrementIdx",value:function(){this.state.idx++,this.state.idx===this.keypoints.length&&(this.state.idx=0)}},{key:"__showTooltip",value:function(){var t,e=this.keypoints[this.state.idx];e.tooltip?(t=this.viewer.dataHelper.vector3ToViewerCoords(this.viewer.state.direction),this.state.tooltip=this.viewer.createTooltip({content:e.tooltip.content,position:e.tooltip.position,top:t.y,left:t.x})):e.markerId&&((t=this.markers.getMarker(e.markerId)).showTooltip(),this.state.tooltip=t.tooltip)}},{key:"__hideTooltip",value:function(){var t;this.state.tooltip&&((t=this.keypoints[this.state.idx]).tooltip?this.state.tooltip.hide():t.markerId&&this.markers.getMarker(t.markerId).hideTooltip(),this.state.tooltip=null)}},{key:"__nextPoint",value:function(){var t=[];if(-1===this.state.idx){var e=ng(this.viewer.getPosition());t.push(e,e,this.keypoints[0].position,this.keypoints[1].position)}else for(var n=-1;n<3;n++){var i=this.state.idx+n<0?this.keypoints[this.keypoints.length-1]:this.keypoints[(this.state.idx+n)%this.keypoints.length];t.push(i.position)}for(var r=[new Nm.Vector2(t[0][0],t[0][1])],a=0,o=1;o<=3;o++){var s=t[o-1][0]-t[o][0];s>Math.PI?a+=1:s<-Math.PI&&--a,0!==a&&1===o&&(r[0].x-=2*a*Math.PI,a=0),r.push(new Nm.Vector2(t[o][0]+2*a*Math.PI,t[o][1]))}e=new Nm.SplineCurve(r).getPoints(48).map(function(t){return[t.x,t.y]});this.state.curve=e.slice(17,33),-1!==this.state.idx&&(this.state.remainingPause=this.keypoints[this.state.idx].pause,this.state.remainingPause)?this.__showTooltip():this.__incrementIdx()}},{key:"__nextStep",value:function(){0===this.state.curve.length&&(this.__nextPoint(),this.state.endStep[0]=m.parseAngle(this.state.endStep[0])),this.state.startStep=this.state.endStep,this.state.endStep=this.state.curve.shift();var t=m.greatArcDistance(this.state.startStep,this.state.endStep);this.state.stepDuration=1e3*t/Math.abs(this.config.autorotateSpeed),0===t&&this.__nextStep()}},{key:"__nextFrame",value:function(t){var e=t-this.state.lastTime;if(this.state.lastTime=t,this.state.remainingPause){if(this.state.remainingPause=Math.max(0,this.state.remainingPause-e),0<this.state.remainingPause)return;this.__hideTooltip(),this.__incrementIdx(),this.state.startTime=t}e=(t-this.state.startTime)/this.state.stepDuration;1<=e&&(this.__nextStep(),e=0,this.state.startTime=t),this.viewer.rotate({yaw:this.state.startStep[0]+(this.state.endStep[0]-this.state.startStep[0])*e,pitch:this.state.startStep[1]+(this.state.endStep[1]-this.state.startStep[1])*e})}},{key:"__findMinIndex",value:function(t,n){var i=0,r=Number.MAX_VALUE;return t.forEach(function(t,e){t=n(t);t<r&&(r=t,i=e)}),i}}]);function ig(t,e){return Qm(this,ig),(t=jm(this,ig,[t,e])).state={initialStart:!0,enabled:!1,idx:-1,curve:[],startStep:null,endStep:null,startTime:null,stepDuration:null,remainingPause:null,lastTime:null,tooltip:null},t.state.initialStart=!m.isNil(t.config.autostartDelay),t}x.id="autorotate",x.VERSION="5.8.1",x.configParser=sn,x.readonlyOptions=["keypoints"],Nc(i,"start"),Pc.lang[i.id]="Automatic rotation";function rg(t){var e=t.id,n=t.key,i=t.src,r=t.width,a=t.height,o=t.littlePlanet,s=t.containerClass,l=t.navbar,u=t.caption,c=t.downloadUrl,h=t.loadingImg,d=t.loadingTxt,f=t.mousewheel,p=t.mousemove,v=t.moveSpeed,m=t.zoomSpeed,g=t.fisheye,y=t.lang,A=t.hideNavbarButton,x=t.plugins,t=(t.setProps,t.loading_state);return React.createElement(Um,{id:e,key:n,src:i,width:r,height:a,littlePlanet:o,containerClass:s,navbar:l,caption:u,downloadUrl:c,loadingImg:h,loadingTxt:d,mousewheel:f,mousemove:p,moveSpeed:v,zoomSpeed:m,fisheye:g,lang:y,hideNavbarButton:A,plugins:x&&x.map(function(t){return[og[t.type],Object(ag.a)(["type"],t)]}),"data-dash-is-loading":t&&t.is_loading||void 0})}var ag=_(924),xc=_(214),og={Autorotate:x};(T.default=rg).defaultProps=xc.b,rg.propTypes=xc.c},855:function(t,e,n){var i=n(856);"string"==typeof i&&(i=[[t.i,i,""]]);n(91)(i,{insertAt:"top",hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(t.exports=i.locals)},856:function(t,e,n){(e=n(90)(!1)).push([t.i,'/*!\n * PhotoSphereViewer 5.8.1\n * @copyright 2014-2015 Jérémy Heleine\n * @copyright 2024 Damien "Mistic" Sorel\n * @licence MIT (https://opensource.org/licenses/MIT)\n */\n/* src/styles/index.scss */\n.psv-container {\n  --psv-core-loaded: true;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  position: relative;\n  background: radial-gradient(#fff 0%, #fdfdfd 16%, #fbfbfb 33%, #f8f8f8 49%, #efefef 66%, #dfdfdf 82%, #bfbfbf 100%);\n  overflow: hidden;\n}\n.psv-container * {\n  box-sizing: content-box;\n}\n.psv-canvas-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  transition: opacity linear 100ms;\n}\n.psv-canvas {\n  display: block;\n}\n.psv-fullscreen-emulation {\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n}\n.psv-loader-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 80;\n}\n.psv-loader {\n  --psv-loader-border: 3px;\n  --psv-loader-tickness: 10px;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: rgba(255, 255, 255, 0.7);\n  width: 150px;\n  height: 150px;\n}\n.psv-loader-canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  color: rgba(61, 61, 61, 0.5);\n  z-index: -1;\n}\n.psv-loader-text {\n  font: 600 16px sans-serif;\n}\n.psv-navbar {\n  display: flex;\n  position: absolute;\n  z-index: 90;\n  bottom: -40px;\n  left: 0;\n  width: 100%;\n  height: 40px;\n  background: rgba(61, 61, 61, 0.5);\n  transition: bottom ease-in-out 0.1s;\n  font: 16px sans-serif;\n  cursor: default;\n}\n.psv-navbar--open {\n  bottom: 0;\n}\n.psv-navbar,\n.psv-navbar * {\n  box-sizing: content-box;\n}\n.psv-button {\n  flex: 0 0 auto;\n  padding: 10px;\n  position: relative;\n  cursor: pointer;\n  height: 20px;\n  width: 20px;\n  background: transparent;\n  color: rgba(255, 255, 255, 0.7);\n}\n.psv-button--active {\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-button--disabled {\n  pointer-events: none;\n  opacity: 0.5;\n}\n.psv-button-svg {\n  width: 100%;\n  transform: scale(1);\n  transition: transform 200ms ease;\n  vertical-align: initial;\n}\n.psv-button:not(.psv-button--disabled):focus-visible {\n  outline: 2px solid #007cff;\n  outline-offset: -2px;\n}\n.psv-container:not(.psv--is-touch) .psv-button--hover-scale:not(.psv-button--disabled):hover .psv-button-svg {\n  transform: scale(1.2);\n}\n.psv-move-button + .psv-move-button {\n  margin-left: -10px;\n}\n.psv-custom-button {\n  width: auto;\n  min-width: 20px;\n}\n.psv-custom-button--no-padding {\n  padding: 0;\n  height: 100%;\n}\n.psv-caption {\n  flex: 1 1 100%;\n  color: rgba(255, 255, 255, 0.7);\n  overflow: hidden;\n  text-align: center;\n  cursor: unset;\n  padding: unset;\n  height: unset;\n  width: unset;\n}\n.psv-caption-content {\n  display: inline-block;\n  padding: 10px;\n  white-space: nowrap;\n}\n.psv-zoom-range.psv-button {\n  width: 80px;\n  height: 1px;\n  margin: 10px 0;\n  padding: 9.5px 0;\n  max-width: 600px;\n}\n.psv-zoom-range-line {\n  position: relative;\n  width: 80px;\n  height: 1px;\n  background: rgba(255, 255, 255, 0.7);\n  transition: all 0.3s ease;\n}\n.psv-zoom-range-handle {\n  position: absolute;\n  border-radius: 50%;\n  top: -3px;\n  width: 7px;\n  height: 7px;\n  background: rgba(255, 255, 255, 0.7);\n  transform: scale(1);\n  transition: transform 0.3s ease;\n}\n.psv-zoom-range:not(.psv-button--disabled):hover .psv-zoom-range-line {\n  box-shadow: 0 0 2px rgba(255, 255, 255, 0.7);\n}\n.psv-zoom-range:not(.psv-button--disabled):hover .psv-zoom-range-handle {\n  transform: scale(1.3);\n}\n.psv-notification {\n  position: absolute;\n  z-index: 100;\n  bottom: -40px;\n  display: flex;\n  justify-content: center;\n  box-sizing: border-box;\n  width: 100%;\n  padding: 0 2em;\n  opacity: 0;\n  transition-property: opacity, bottom;\n  transition-timing-function: ease-in-out;\n  transition-duration: 200ms;\n}\n.psv-notification-content {\n  max-width: 50em;\n  background: rgba(61, 61, 61, 0.8);\n  border-radius: 4px;\n  padding: 0.5em 1em;\n  font: 14px sans-serif;\n  color: #ffffff;\n}\n.psv-notification--visible {\n  opacity: 100;\n  bottom: 80px;\n}\n.psv-overlay {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  z-index: 110;\n  inset: 0;\n  background: radial-gradient(#fff 0%, #fdfdfd 16%, #fbfbfb 33%, #f8f8f8 49%, #efefef 66%, #dfdfdf 82%, #bfbfbf 100%);\n  opacity: 0.8;\n  cursor: default;\n}\n.psv-overlay-image {\n  width: 100%;\n  text-align: center;\n}\n.psv-overlay-image svg {\n  width: 50%;\n}\n@media (orientation: landscape) {\n  .psv-overlay-image svg {\n    width: 33%;\n  }\n}\n.psv-overlay-title {\n  color: black;\n  margin-top: 1em;\n  font: 30px sans-serif;\n  text-align: center;\n}\n.psv-overlay-text {\n  color: rgba(0, 0, 0, 0.8);\n  font: 20px sans-serif;\n  opacity: 0.8;\n  text-align: center;\n}\n.psv-panel {\n  position: absolute;\n  z-index: 90;\n  right: 0;\n  height: 100%;\n  width: 400px;\n  max-width: calc(100% - 9px);\n  background: rgba(10, 10, 10, 0.7);\n  transform: translate3d(100%, 0, 0);\n  opacity: 0;\n  transition-property: opacity, transform;\n  transition-timing-function: ease-in-out;\n  transition-duration: 100ms;\n  cursor: default;\n  margin-left: 9px;\n}\n.psv--has-navbar .psv-panel {\n  height: calc(100% - 40px);\n}\n.psv-panel-close-button {\n  display: none;\n  position: absolute;\n  top: -1px;\n  right: 0;\n  width: 19.2px;\n  height: 19.2px;\n  padding: 6.4px;\n  background: transparent;\n  color: #fff;\n  transition: background 300ms ease-in-out;\n  cursor: pointer;\n}\n.psv-panel-close-button svg {\n  transition: transform 300ms ease-in-out;\n}\n.psv-panel-close-button:hover {\n  background: rgba(0, 0, 0, 0.9);\n}\n.psv-panel-close-button:hover svg {\n  transform: scale(-1);\n}\n.psv-panel-resizer {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: -9px;\n  width: 9px;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.9);\n  cursor: col-resize;\n}\n.psv-panel-resizer::before {\n  content: "";\n  position: absolute;\n  top: 50%;\n  left: 1px;\n  margin-top: -14.5px;\n  width: 1px;\n  height: 1px;\n  box-shadow: 1px 0 #fff, 3px 0px #fff, 5px 0px #fff, 1px 2px #fff, 3px 2px #fff, 5px 2px #fff, 1px 4px #fff, 3px 4px #fff, 5px 4px #fff, 1px 6px #fff, 3px 6px #fff, 5px 6px #fff, 1px 8px #fff, 3px 8px #fff, 5px 8px #fff, 1px 10px #fff, 3px 10px #fff, 5px 10px #fff, 1px 12px #fff, 3px 12px #fff, 5px 12px #fff, 1px 14px #fff, 3px 14px #fff, 5px 14px #fff, 1px 16px #fff, 3px 16px #fff, 5px 16px #fff, 1px 18px #fff, 3px 18px #fff, 5px 18px #fff, 1px 20px #fff, 3px 20px #fff, 5px 20px #fff, 1px 22px #fff, 3px 22px #fff, 5px 22px #fff, 1px 24px #fff, 3px 24px #fff, 5px 24px #fff, 1px 26px #fff, 3px 26px #fff, 5px 26px #fff, 1px 28px #fff, 3px 28px #fff, 5px 28px #fff;\n  background: transparent;\n}\n.psv-panel-content {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  color: #dcdcdc;\n  font: 16px sans-serif;\n  overflow: auto;\n}\n.psv-panel-content:not(.psv-panel-content--no-margin) {\n  padding: 1em;\n}\n.psv-panel-content--no-interaction {\n  user-select: none;\n  pointer-events: none;\n}\n.psv-panel--open {\n  transform: translate3d(0, 0, 0);\n  opacity: 1;\n  transition-duration: 0.2s;\n}\n.psv-panel--open .psv-panel-close-button,\n.psv-panel--open .psv-panel-resizer {\n  display: block;\n}\n@media screen and (max-width: 400px) {\n  .psv-panel {\n    width: 100% !important;\n    max-width: none;\n  }\n  .psv-panel-resizer {\n    display: none !important;\n  }\n}\n.psv-panel-menu {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.psv-panel-menu-title {\n  flex: none;\n  display: flex;\n  align-items: center;\n  font: 24px sans-serif;\n  margin: 24px 12px;\n}\n.psv-panel-menu-title svg {\n  width: 24px;\n  height: 24px;\n  margin-right: 12px;\n}\n.psv-panel-menu-list {\n  flex: 1;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  overflow-x: hidden;\n}\n.psv-panel-menu-item {\n  min-height: 1.5em;\n  padding: 0.5em 1em;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  transition: background 0.1s ease-in-out;\n}\n.psv-panel-menu-item--active {\n  outline: 1px solid currentcolor;\n  outline-offset: -1px;\n}\n.psv-panel-menu-item-icon {\n  flex: none;\n  height: 1.5em;\n  width: 1.5em;\n  margin-right: 0.5em;\n}\n.psv-panel-menu-item-icon img {\n  max-width: 100%;\n  max-height: 100%;\n}\n.psv-panel-menu-item-icon svg {\n  width: 100%;\n  height: 100%;\n}\n.psv-panel-menu-item:focus-visible {\n  outline: 2px solid #007cff;\n  outline-offset: -2px;\n}\n.psv-panel-menu--stripped .psv-panel-menu-item:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(odd),\n.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(odd)::before {\n  background: rgba(255, 255, 255, 0.1);\n}\n.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(even),\n.psv-panel-menu--stripped .psv-panel-menu-item:nth-child(even)::before {\n  background: transparent;\n}\n.psv-container:not(.psv--is-touch) .psv-panel-menu-item:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n.psv-tooltip {\n  position: absolute;\n  z-index: 50;\n  box-sizing: border-box;\n  max-width: 200px;\n  background: rgba(61, 61, 61, 0.8);\n  border-radius: 4px;\n  opacity: 0;\n  transition-property: opacity, transform;\n  transition-timing-function: ease-in-out;\n  transition-duration: 100ms;\n  cursor: default;\n}\n.psv-tooltip-content {\n  color: #ffffff;\n  font: 14px sans-serif;\n  text-shadow: 0 1px #000;\n  padding: 0.5em 1em;\n}\n.psv-tooltip-arrow {\n  position: absolute;\n  height: 0;\n  width: 0;\n  border: 7px solid transparent;\n}\n.psv-tooltip--top-left,\n.psv-tooltip--top-center,\n.psv-tooltip--top-right {\n  transform: translate3d(0, 5px, 0);\n}\n.psv-tooltip--top-left .psv-tooltip-arrow,\n.psv-tooltip--top-center .psv-tooltip-arrow,\n.psv-tooltip--top-right .psv-tooltip-arrow {\n  border-top-color: rgba(61, 61, 61, 0.8);\n}\n.psv-tooltip--bottom-left,\n.psv-tooltip--bottom-center,\n.psv-tooltip--bottom-right {\n  transform: translate3d(0, -5px, 0);\n}\n.psv-tooltip--bottom-left .psv-tooltip-arrow,\n.psv-tooltip--bottom-center .psv-tooltip-arrow,\n.psv-tooltip--bottom-right .psv-tooltip-arrow {\n  border-bottom-color: rgba(61, 61, 61, 0.8);\n}\n.psv-tooltip--left-top,\n.psv-tooltip--center-left,\n.psv-tooltip--left-bottom {\n  transform: translate3d(5px, 0, 0);\n}\n.psv-tooltip--left-top .psv-tooltip-arrow,\n.psv-tooltip--center-left .psv-tooltip-arrow,\n.psv-tooltip--left-bottom .psv-tooltip-arrow {\n  border-left-color: rgba(61, 61, 61, 0.8);\n}\n.psv-tooltip--right-top,\n.psv-tooltip--center-right,\n.psv-tooltip--right-bottom {\n  transform: translate3d(-5px, 0, 0);\n}\n.psv-tooltip--right-top .psv-tooltip-arrow,\n.psv-tooltip--center-right .psv-tooltip-arrow,\n.psv-tooltip--right-bottom .psv-tooltip-arrow {\n  border-right-color: rgba(61, 61, 61, 0.8);\n}\n.psv-tooltip--left-top,\n.psv-tooltip--top-left {\n  box-shadow: -3px -3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--top-center {\n  box-shadow: 0 -3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--right-top,\n.psv-tooltip--top-right {\n  box-shadow: 3px -3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--left-bottom,\n.psv-tooltip--bottom-left {\n  box-shadow: -3px 3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--bottom-center {\n  box-shadow: 0 3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--right-bottom,\n.psv-tooltip--bottom-right {\n  box-shadow: 3px 3px 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--center-left {\n  box-shadow: -3px 0 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--center-right {\n  box-shadow: 3px 0 0 rgba(90, 90, 90, 0.7);\n}\n.psv-tooltip--visible {\n  transform: translate3d(0, 0, 0);\n  opacity: 1;\n}\n\n',""]),t.exports=e}}]);